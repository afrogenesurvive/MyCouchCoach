(this.webpackJsonpmy_couch_coach=this.webpackJsonpmy_couch_coach||[]).push([[0],{121:function(e,t,a){},127:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},152:function(e,t,a){e.exports=a(294)},158:function(e,t,a){},159:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},24:function(e,t,a){},258:function(e,t){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(64),i=a.n(r),o=(a(157),a(158),a(27)),l=a(28),c=a(29),d=a(30),u=a(22),m=a(53),p=a(3),h=a(33),g=a(1),y=a(11),f=a(4),E=(a(121),s.a.createContext({token:null,activityId:null,activityA:null,activityB:null,activityC:null,role:null,userId:null,user:{},users:[],selectedUser:{},lesson:{},lessons:[],selectedLesson:null,selectedPerk:null,selectedPromo:null,selectedReview:null,sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:function(e,t,a,n){},logout:function(){}})),v=a(151),S=(a(159),function(e){var t="Alerts shown here";return null!==e.alert&&(t='"'+e.alert+'"'),s.a.createElement("div",{className:"alertBox"},s.a.createElement(v.a,{variant:"warning"},s.a.createElement("p",{className:"alertBoxText"},t)))}),_=(a(55),function(e){return s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"loadingOverlay"},s.a.createElement("h5",{className:"attachmentViewerTitle"},"status : ",e.status," ...")))}),I=(a(162),function(e){return s.a.createElement("div",{className:"SidebarControl"},s.a.createElement(p.a,{className:"sidebarButton",variant:"success",onClick:e.onShowSidebar},"+"),s.a.createElement(p.a,{className:"sidebarButton",variant:"danger",onClick:e.onHideSidebar},"-"))}),b=(a(24),function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridEmail"},s.a.createElement(g.a.Label,null,"Email"),s.a.createElement(g.a.Control,{type:"text",placeholder:"email"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formGridType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"email")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridCode"},s.a.createElement(g.a.Label,null,"Code"),s.a.createElement(g.a.Control,{type:"text",placeholder:"verification code"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))}),C=a(13),A=a(80),L=(a(164),function(){return s.a.createElement("div",{className:"spinner"},s.a.createElement("div",{className:"lds-dual-ring"}))}),w=a(2),k=(a(165),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={authContext:E._currentValue,overlay:!1,overlayStatus:"test"},e.isActive=!0,e}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{className:"sidebarContainer"},s.a.createElement(y.a,{className:"sidebarRow1"},s.a.createElement(f.a,{md:12,className:""},s.a.createElement(w.a,{border:"primary",className:"sidebarCard"},s.a.createElement(w.a.Body,null,s.a.createElement(u.c,{to:"/userProfile"},"My Profile (User)"),s.a.createElement(w.a.Title,{className:"cardTitle"},"You"),s.a.createElement(w.a.Subtitle,{className:"mb-2"},"ID:"),s.a.createElement(w.a.Text,null,this.context.user._id),s.a.createElement(w.a.Subtitle,{className:"mb-2"},"Name:"),s.a.createElement(w.a.Text,null,this.context.user.name),s.a.createElement(w.a.Subtitle,{className:"mb-2"},"Role:"),s.a.createElement(w.a.Text,null,this.context.user.role))),s.a.createElement(w.a,{border:"secondary",className:"sidebarCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,{className:"cardTitle"},"Selection"),s.a.createElement(w.a.Subtitle,{className:"mb-2"},"User:"),s.a.createElement(w.a.Text,null,this.context.selectedUser._id),s.a.createElement(w.a.Text,null,this.context.selectedUser.username),s.a.createElement(w.a.Subtitle,{className:"mb-2"},"User:"),s.a.createElement(w.a.Text,null,this.context.selectedLesson._id),s.a.createElement(w.a.Text,null,this.context.selectedLesson.title)))))))}}]),a}(n.Component));k.contextType=E;var N=k,D=a(21),T=a(10),x=(a(20),function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"type: ",e.type),s.a.createElement(w.a.Text,null,"number: ",e.number),s.a.createElement(w.a.Text,null,"street: ",e.street),s.a.createElement(w.a.Text,null,"town: ",e.town),s.a.createElement(w.a.Text,null,"city: ",e.city),s.a.createElement(w.a.Text,null,"country: ",e.country),s.a.createElement(w.a.Text,null,"postalCode: ",e.postalCode),s.a.createElement(w.a.Text,null,"primary: ",e.primary.toString()),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.address)},"Delete"),s.a.createElement(p.a,{variant:"danger",onClick:e.makeAddressPrimary.bind(void 0,e.address)},"Make Primary"),!0===e.orderForm&&s.a.createElement(p.a,{variant:"danger",value:JSON.stringify(e.address),onClick:e.addToOrder.bind("x")},"Add to order")))))}),F=(a(19),function(e){var t=e.userAddresses.map((function(t){return s.a.createElement(x,{key:t.path,authId:e.authId,type:t.type,number:t.number,street:t.street,town:t.town,city:t.city,country:t.country,postalCode:t.postalCode,primary:t.primary,address:t,onDelete:e.onDelete,canDelete:e.canDelete,orderForm:e.orderForm,addToOrder:e.addToOrder,makeAddressPrimary:e.makeAddressPrimary})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)}),B=a(49),R=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement("ul",{className:"cardUl"},s.a.createElement("li",null,s.a.createElement(B.a,{src:e.path,className:"profileImageImg",fluid:!0})),s.a.createElement("li",{className:"cardLi"},s.a.createElement("p",{className:"userItemText"},e.name))),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.profileImage)},"Delete")))))},q=function(e){var t=e.userProfileImages.map((function(t){return s.a.createElement(R,{key:t.path,authId:e.authId,name:t.name,type:t.type,path:t.path,profileImage:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},O=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement("ul",{className:"cardUl"},s.a.createElement("li",{className:"cardLi"},s.a.createElement("p",{className:"userItemText"},e.platform)),s.a.createElement("li",{className:"cardLi"},s.a.createElement("p",{className:"userItemText"},e.handle)),s.a.createElement("li",{className:"cardLi"},s.a.createElement("p",{className:"userItemText"},e.link))),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.socialMediaAccount)},"Delete")))))},G=function(e){var t=e.userSocialMedia.map((function(t){return s.a.createElement(O,{key:t.path,authId:e.authId,platform:t.platform,handle:t.handle,link:t.link,socialMediaAccount:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},P=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail1 users__list-item_detail"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement("ul",{className:"cardUl"},s.a.createElement("li",{className:"cardLi"},s.a.createElement(B.a,{src:e.imageLink,className:"profileImageImg",fluid:!0}),s.a.createElement("p",{className:"userItemHeading"}," date:"),s.a.createElement("p",{className:"userItemText"},e.date)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," name:"),s.a.createElement("p",{className:"userItemText"},e.name)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," description:"),s.a.createElement("p",{className:"userItemText"},e.description)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," createOrder:"),s.a.createElement("p",{className:"userItemText"},e.code))),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.perk)},"Delete")))))},j=function(e){var t=e.userPerks.map((function(t){var a=0;return null!==t.date&&""!==t.date&&(a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10)),s.a.createElement(P,{key:t.description,authId:e.authId,name:t.name,date:a,description:t.description,code:t.code,imageLink:t.imageLink,perk:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},M=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail1 users__list-item_detail"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement("ul",{className:"cardUl"},s.a.createElement("li",{className:"cardLi"},s.a.createElement(B.a,{src:e.imageLink,className:"profileImageImg",fluid:!0}),s.a.createElement("p",{className:"userItemHeading"}," start/end Dates:"),s.a.createElement("p",{className:"userItemText"},e.startDate),s.a.createElement("p",{className:"userItemText"},e.endDate)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," name:"),s.a.createElement("p",{className:"userItemText"},e.name)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," type:"),s.a.createElement("p",{className:"userItemText"},e.type)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," description:"),s.a.createElement("p",{className:"userItemText"},e.description)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," code:"),s.a.createElement("p",{className:"userItemText"},e.code))),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.promo)},"Delete")))))},U=function(e){var t=e.userPromos.map((function(t){var a=0;null!==t.startDate&&""!==t.startDate&&(a=new Date(1e3*t.startDate.substr(0,10)).toLocaleDateString().slice(0,10));var n=0;return null!==t.endDate&&""!==t.endDate&&(n=new Date(1e3*t.endDate.substr(0,10)).toLocaleDateString().slice(0,10)),s.a.createElement(M,{key:t._id,authId:e.authId,_id:t._id,name:t.name,type:t.type,valid:t.valid,startDate:a,endDate:n,description:t.description,code:t.code,imageLink:t.imageLink,promo:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},J=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail2 users__list-item_detail"},s.a.createElement("div",{className:"tag_card_body"},s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,e.interest),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.interest)},"Delete")))))},z=function(e){var t=e.userInterests.map((function(t){return s.a.createElement(J,{key:t,authId:e.authId,interest:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},H=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail2"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,e.tag),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.tag)},"Delete")))))},V=function(e){var t=e.userTags.map((function(t){return s.a.createElement(H,{key:t,authId:e.authId,tag:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},K=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,e.username),0!==e.profileImages.length&&s.a.createElement(w.a.Img,{variant:"top",src:e.profileImages[0].path}),s.a.createElement(w.a.Text,null,"_id: ",e._id),s.a.createElement(w.a.Text,null,"name: ",e.name),s.a.createElement(w.a.Text,null,"username: ",e.username),s.a.createElement(w.a.Text,null,"phone: ",e.phone),s.a.createElement(w.a.Text,null,"email: ",e.email),s.a.createElement(w.a.Text,null,"loggedIn: ",e.loggedIn.toString()),s.a.createElement(w.a.Text,null,"online: ",e.online.toString()),0!==e.socialMedia.length&&s.a.createElement(w.a.Text,null,"SocialMedia: ",e.socialMedia[0].platform," - ",e.socialMedia[0].handle),s.a.createElement(p.a,{variant:"primary",onClick:e.onSelect.bind(void 0,e.friend)},"Select"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.friend)},"Delete"))))},Q=function(e){var t=e.userFriends.map((function(t){return s.a.createElement(K,{key:t._id,friend:t,_id:t._id,name:t.name,username:t.username,phone:t.contact.phone,email:t.contact.email,loggedIn:t.loggedIn,online:t.clientConnected,profileImages:t.profileImages,socialMedia:t.socialMedia,onSelect:e.onSelect,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Y=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"Sender: ",e.sender.username),s.a.createElement(w.a.Text,null,"Receiver: ",e.receiver.username),e.received&&s.a.createElement(p.a,{variant:"primary",onClick:e.onAccept.bind(void 0,e.friendRequest)},"Accept"),e.received&&s.a.createElement(p.a,{variant:"danger",onClick:e.onReject.bind(void 0,e.friendRequest)},"Reject"))))},W=function(e){var t=e.userFriendRequests.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(Y,{key:t.sender._id,friendRequest:t,date:a,sender:t.sender,receiver:t.receiver,onAccept:e.onAccept,onReject:e.onReject,received:e.received})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},$=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"dateAdded: ",e.dateAdded),s.a.createElement(w.a.Text,null,"sessionDate: ",e.sessionDate),s.a.createElement(w.a.Text,null,"sessionTitle: ",e.sessionTitle),s.a.createElement(w.a.Text,null,"Lesson ID: ",e.lesson._id),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.cartItem)},"Delete"))))},X=function(e){var t=e.userCartItems.map((function(t){var a=new Date(1e3*t.dateAdded.substr(0,10)).toISOString().slice(0,10),n=new Date(1e3*t.sessionDate.substr(0,10)).toISOString().slice(0,10);return s.a.createElement($,{key:t.lesson,cartItem:t,authId:e.authId,lesson:t.lesson,dateAdded:a,sessionDate:n,sessionTitle:t.sessionTitle,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Z=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"dateBooked: ",e.dateBooked),s.a.createElement(w.a.Text,null,"Lesson:"),s.a.createElement(w.a.Text,null,"ID: ",e.lesson._id),s.a.createElement(w.a.Text,null,"Title: ",e.lesson.title),s.a.createElement(w.a.Text,null,"Session:"),s.a.createElement(w.a.Text,null,"Title: ",e.sessionTitle),s.a.createElement(w.a.Text,null,"Date: ",e.sessionDate),s.a.createElement(w.a.Text,null,"Time: ",e.sessionTime),s.a.createElement(p.a,{variant:"primary",onClick:e.viewLessonDetails.bind(void 0,{type:"booked",lesson:e.bookedLesson})},"View Details"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.bookedLesson)},"Delete"))))},ee=function(e){var t=e.userBookedLessons.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10),n=new Date(1e3*t.session.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(Z,{key:t.ref,bookedLesson:t,dateBooked:a,sessionDate:n,sessionTime:t.session.time,sessionTitle:t.session.title,lesson:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete,viewLessonDetails:e.viewLessonDetails})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},te=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"Lesson:"),s.a.createElement(w.a.Text,null,"ID: ",e._id),s.a.createElement(w.a.Text,null,"Title: ",e.title),s.a.createElement(p.a,{variant:"primary",onClick:e.viewLessonDetails.bind(void 0,{type:"liked",lesson:e.likedLesson})},"View Details"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.likedLesson)},"Delete"))))},ae=function(e){var t=e.userLikedLessons.map((function(t){return s.a.createElement(te,{key:t,likedLesson:t,_id:t._id,title:t.title,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete,viewLessonDetails:e.viewLessonDetails})}));return s.a.createElement("ul",{className:"user__list1_master"},t)};function ne(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"Lesson:"),s.a.createElement(w.a.Text,null,"ID: ",e.lesson._id),s.a.createElement(w.a.Text,null,"Title: ",e.lesson.title),s.a.createElement(p.a,{variant:"primary",onClick:e.viewLessonDetails.bind(this,{type:"attended",lesson:e.attendedLesson})},"View Details"),!0!==e.hasReviewed&&s.a.createElement(p.a,{variant:"primary",onClick:e.startCreateReview.bind(this,e.attendedLesson)},"Review"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(this,e.attendedLesson)},"Delete"))))}var se=function(e){var t=e.userAttendedLessons.map((function(t){var a=e.reviewedLessonIds.includes(t.ref._id.toString()),n=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(ne,{key:t.ref,attendedLesson:t,date:n,lesson:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete,hasReviewed:a,viewLessonDetails:e.viewLessonDetails,startCreateReview:e.startCreateReview})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},re=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"Lesson:"),s.a.createElement(w.a.Text,null,"ID: ",e.lesson._id),s.a.createElement(w.a.Text,null,"Title: ",e.lesson.title),s.a.createElement(p.a,{variant:"primary",onClick:e.viewLessonDetails.bind(void 0,{type:"taught",lesson:e.taughtLesson})},"View Details"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.taughtLesson)},"Delete"))))},ie=function(e){var t=e.userTaughtLessons.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(re,{key:t.ref,taughtLesson:t,date:a,lesson:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete,viewLessonDetails:e.viewLessonDetails})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},oe=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"type: ",e.type),s.a.createElement(w.a.Text,null,"description: ",e.description),s.a.createElement(w.a.Text,null,"body: ",e.body),s.a.createElement(w.a.Text,null,"primary: ",e.primary.toString()),s.a.createElement(w.a.Text,null,"valid: ",e.valid.toString()),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.paymentInfoItem)},"Delete")))))},le=function(e){var t=e.userPaymentInfo.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(oe,{key:t.description,paymentInfoItem:t,date:a,type:t.type,description:t.description,body:t.body,valid:t.valid,primary:t.primary,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},ce=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"_id: ",e._id),s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"time: ",e.time),s.a.createElement(w.a.Text,null,"type: ",e.type),s.a.createElement(w.a.Text,null,"total: ",e.totals.c),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.order)},"Delete"))))},de=function(e){var t=e.userOrders.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(ce,{key:t._id,order:t,_id:t._id,date:a,time:t.time,type:t.type,buyer:t.buyer,receiver:t.receiver,lessons:t.lessons,totals:t.totals,tax:t.tax,description:t.description,notes:t.notes,payment:t.payment,shipping:t.shipping,billingAddress:t.billingAddress,shippingAddress:t.shippingAddress,status:t.status,feedback:t.feedback,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},ue=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"ID: ",e._id),s.a.createElement(w.a.Text,null,"Lesson:"),s.a.createElement(w.a.Text,null,"ID: ",e.lesson._id),s.a.createElement(w.a.Text,null,"Title: ",e.lesson.title),s.a.createElement(w.a.Text,null,"Date: ",e.date),s.a.createElement(w.a.Text,null,"Type: ",e.type),s.a.createElement(w.a.Text,null,"Body: ",e.body),s.a.createElement(w.a.Text,null,"Rating: ",e.rating))))},me=function(e){var t=e.userReviews.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(ue,{key:t._id,authId:e.authId,_id:t._id,date:a,type:t.type,body:t.body,rating:t.rating,review:t,lesson:t.lesson})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},pe=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail2"},s.a.createElement("div",null,s.a.createElement(w.a,{className:"card"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,"Message"),s.a.createElement("ul",{className:"cardUl"},s.a.createElement("li",{className:"cardLi"},s.a.createElement("p",{className:"userItemHeading"}," date:"),s.a.createElement("p",{className:"userItemText"},e.date)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," sender:"),s.a.createElement("p",{className:"userItemText"},e.sender.username)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," receiver:"),s.a.createElement("p",{className:"userItemText"},e.receiver.username)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," time:"),s.a.createElement("p",{className:"userItemText"},e.time)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," type:"),s.a.createElement("p",{className:"userItemText"},e.type)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," subject:"),s.a.createElement("p",{className:"userItemText"},e.subject)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," message:"),s.a.createElement("p",{className:"userItemText"},e.messageMessage)),s.a.createElement("li",null,s.a.createElement("p",{className:"userItemHeading"}," read:"),s.a.createElement("p",{className:"userItemText"},e.read.toString()))),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e._id)},"Delete")))))},he=function(e){var t=e.userMessages.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return s.a.createElement(pe,{key:t.path,authId:e.authId,_id:t._id,date:a,time:t.time,type:t.type,subject:t.subject,messageMessage:t.message,sender:t.sender,receiver:t.receiver,read:t.read,message:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return s.a.createElement("ul",{className:"user__list1_detail"},t)},ge=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"date: ",e.activityDate),s.a.createElement(w.a.Text,null,"Request: ",e.request))))},ye=function(e){var t=e.userActivity.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(ge,{key:t.request,activity:t,date:a,request:t.request,authId:e.authId})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},fe=a(52),Ee=(a(42),function(e){var t=Object.assign({},e.user),a=Object(n.useState)(new Date),r=Object(fe.a)(a,2),i=(r[0],r[1],new Date(1e3*t.dob.substr(0,9)).toLocaleDateString().slice(0,10));return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridEmail"},s.a.createElement(g.a.Label,null,"Email"),s.a.createElement(g.a.Control,{type:"email",placeholder:t.contact.email})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPassword"},s.a.createElement(g.a.Label,null,"Password"),s.a.createElement(g.a.Control,{type:"password",placeholder:t.password}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridName"},s.a.createElement(g.a.Label,null,"Name"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.name})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridUsername"},s.a.createElement(g.a.Label,null,"Username"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.username}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPhone"},s.a.createElement(g.a.Label,null,"Phone"),s.a.createElement(g.a.Control,{type:"number",placeholder:t.contact.phone})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPhone2"},s.a.createElement(g.a.Label,null,"Phone2"),s.a.createElement(g.a.Control,{type:"number",placeholder:t.contact.phone2}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDob"},s.a.createElement(g.a.Label,null,"D.O.B: ",i),s.a.createElement(g.a.Control,{type:"date",placeholder:t.dob}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBio"},s.a.createElement(g.a.Label,null,"Bio"),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:t.bio}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))}),ve=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFieldSelect"},s.a.createElement(g.a.Label,null,"Field Options"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"contact.email"),s.a.createElement("option",null,"password"),s.a.createElement("option",null,"name"),s.a.createElement("option",null,"username"),s.a.createElement("option",null,"dob"),s.a.createElement("option",null,"contact.phone"),s.a.createElement("option",null,"contact.phone2"),s.a.createElement("option",null,"bio"),s.a.createElement("option",null,"points"),s.a.createElement("option",null,"verification.type"),s.a.createElement("option",null,"verification.verified"),s.a.createElement("option",null,"verification.code")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridQuery"},s.a.createElement(g.a.Label,null,"Query "),s.a.createElement(g.a.Label,null," (Date Format: YYYY-MM-DD) "),s.a.createElement(g.a.Control,{type:"text",placeholder:"Query"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Se=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"Billing"),s.a.createElement("option",null,"Shipping"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressNumber"},s.a.createElement(g.a.Label,null,"Street No."),s.a.createElement(g.a.Control,{type:"number",placeholder:"addressNumber"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressStreet"},s.a.createElement(g.a.Label,null,"Street Name"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressStreet"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressTown"},s.a.createElement(g.a.Label,null,"Town"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressTown"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressCity"},s.a.createElement(g.a.Label,null,"City"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressCity"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressCountry"},s.a.createElement(g.a.Label,null,"Country"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressCountry"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressPostalCode"},s.a.createElement(g.a.Label,null,"postalCode"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addresspostalCode"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},_e=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFilename"},s.a.createElement(g.a.Label,null,"Filename"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filename"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFiletype"},s.a.createElement(g.a.Label,null,"Filetype"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filetype"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFilepath"},s.a.createElement(g.a.Label,null,"Link Address"),s.a.createElement(g.a.Control,{type:"text",placeholder:"link address"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ie=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPlatform"},s.a.createElement(g.a.Label,null,"Platform"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Platform"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridHandle"},s.a.createElement(g.a.Label,null,"Handle"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Handle"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridLink"},s.a.createElement(g.a.Label,null,"Link"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Link"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},be=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridInterests"},s.a.createElement(g.a.Label,null,"Interests"),s.a.createElement(g.a.Control,{as:"textarea",rows:"12",placeholder:"interest, interest, interests"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ce=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTags"},s.a.createElement(g.a.Label,null,"Tags"),s.a.createElement(g.a.Control,{as:"textarea",rows:"12",placeholder:"tag, tag, tags"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ae=a(43),Le=a.n(Ae),we=function(e){var t=Object(n.useState)(new Date),a=Object(fe.a)(t,2),r=a[0],i=a[1];return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:""},s.a.createElement(g.a.Label,null,"Date"),s.a.createElement(Le.a,{className:"",id:"paymentInfoDate",selected:r,onChange:function(e){i(e),console.log("PayInfoDate ".concat(r))}})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPaymentInfoType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type a"),s.a.createElement("option",null,"type 2")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDescription"},s.a.createElement(g.a.Label,null,"Description"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Description"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBody"},s.a.createElement(g.a.Label,null,"Body"),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:"Body"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPaymentInfoPrimaryCheckbox"},s.a.createElement(g.a.Label,null,"Primary"),s.a.createElement(g.a.Control,{type:"checkbox",onChange:function(e){console.log(e.target.checked)}}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},ke=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPoints"},s.a.createElement(g.a.Label,null,"Points"),s.a.createElement(g.a.Control,{type:"number",placeholder:"point amount"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ne=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTags"},s.a.createElement(g.a.Label,null,"Add Perk Id: ",e.selectedPerk._id," to this user?"))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},De=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTags"},s.a.createElement(g.a.Label,null,"Add Promo Id: ",e.selectedPromo._id," to this user?"))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Te=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTags"},s.a.createElement(g.a.Label,null,"Add Friend Id: ",e.requestingFriendId," to this user?"))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},xe=(a(224),function(e){return s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTypeSelect"},s.a.createElement(g.a.Label,null,"Message Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type 1"),s.a.createElement("option",null,"type 2"),s.a.createElement("option",null,"type 3"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSubject"},s.a.createElement(g.a.Label,null,"Subject"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Subject"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridReceiver"},s.a.createElement(g.a.Label,null,"Receiver: ",e.receiver.username))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridMessage"},s.a.createElement(g.a.Label,null,"Message"),s.a.createElement(g.a.Control,{as:"textarea",rows:"9",placeholder:"Message"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),s.a.createElement("p",null,e.successText))))}),Fe=(a(225),function(e){var t=Object.assign({},e.user),a=(t.cart.map((function(e){return e.lesson.sku})),t.addresses.map((function(e){return console.log(e.type)}))),n=t.addresses.filter((function(e){return"Billing"===e.type})),r=t.addresses.filter((function(e){return"Shipping"===e.type})),i=r.filter((function(e){return!0===e.primary})),o=n.filter((function(e){return!0===e.primary})),l=i[0],c=o[0];return console.log("\n        addressTypes: ".concat(a,",\n        billingAddresses: ").concat(n.length,"\n        shippingAddresses: ").concat(r.length,",\n        primaryShippingAddresses: ").concat(i.length,",\n        primaryBillingAddresses: ").concat(o.length,",\n      ")),s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type a"),s.a.createElement("option",null,"type b")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTotalA"},s.a.createElement(g.a.Label,null,"TotalA"),s.a.createElement(g.a.Control,{type:"number",step:"0.01",placeholder:"Enter TotalA"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTotalB"},s.a.createElement(g.a.Label,null,"TotalB"),s.a.createElement(g.a.Control,{type:"number",step:"0.01",placeholder:"Enter TotalB"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTaxDescription"},s.a.createElement(g.a.Label,null,"TaxDescription"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Enter TaxDescription"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTaxAmount"},s.a.createElement(g.a.Label,null,"TaxAmount"),s.a.createElement(g.a.Control,{type:"number",step:"0.01",placeholder:"Enter TaxAmount"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDescription"},s.a.createElement(g.a.Label,null,"Description"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Description"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridNotes"},s.a.createElement(g.a.Label,null,"Notes"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Notes"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPayment"},s.a.createElement(g.a.Label,null,"Payment"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Payment"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShipping"},s.a.createElement(g.a.Label,null,"Shipping"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Shipping"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressNumber"},s.a.createElement(g.a.Label,null,"BillingAddressNumber"),s.a.createElement(g.a.Control,{type:"number",value:c.number})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressStreet"},s.a.createElement(g.a.Label,null,"BillingAddressStreet"),s.a.createElement(g.a.Control,{type:"text",value:c.street})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressTown"},s.a.createElement(g.a.Label,null,"BillingAddressTown"),s.a.createElement(g.a.Control,{type:"text",value:c.town}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressCity"},s.a.createElement(g.a.Label,null,"BillingAddressCity"),s.a.createElement(g.a.Control,{type:"text",value:c.city})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressCountry"},s.a.createElement(g.a.Label,null,"BillingAddressCountry"),s.a.createElement(g.a.Control,{type:"text",value:c.country})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBillingAddressPostalCode"},s.a.createElement(g.a.Label,null,"BillingAddressPostalCode"),s.a.createElement(g.a.Control,{type:"text",value:c.postalCode}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressNumber"},s.a.createElement(g.a.Label,null,"ShippingAddressNumber"),s.a.createElement(g.a.Control,{type:"number",value:l.number})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressStreet"},s.a.createElement(g.a.Label,null,"ShippingAddressStreet"),s.a.createElement(g.a.Control,{type:"text",value:l.street})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressTown"},s.a.createElement(g.a.Label,null,"ShippingAddressTown"),s.a.createElement(g.a.Control,{type:"text",value:l.town}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressCity"},s.a.createElement(g.a.Label,null,"ShippingAddressCity"),s.a.createElement(g.a.Control,{type:"text",value:l.city})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressCountry"},s.a.createElement(g.a.Label,null,"ShippingAddressCountry"),s.a.createElement(g.a.Control,{type:"text",value:l.country})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridShippingAddressPostalCode"},s.a.createElement(g.a.Label,null,"ShippingAddressPostalCode"),s.a.createElement(g.a.Control,{type:"text",value:l.postalCode}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))}),Be=(a(226),function(e){return s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTypeSelect"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type 1"),s.a.createElement("option",null,"type 2"),s.a.createElement("option",null,"type 3"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTitle"},s.a.createElement(g.a.Label,null,"Title"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Title"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBody"},s.a.createElement(g.a.Label,null,"Body"),s.a.createElement(g.a.Control,{as:"textarea",rows:"9",placeholder:"Body"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridRating"},s.a.createElement(g.a.Label,null,"Rating"),s.a.createElement(g.a.Control,{type:"number",max:"5",placeholder:"Rating"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),s.a.createElement("p",null,e.successText))))}),Re=(a(31),function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"_id: ",e._id),s.a.createElement(w.a.Text,null,"username: ",e.username),e.addSessionAttendance&&!0===e.isInstructor&&!1===e.userAttended&&s.a.createElement(p.a,{variant:"primary",onClick:e.addSessionAttendance.bind(void 0,e.attendance)},"Add Attendance"))))}),qe=(a(34),function(e){var t=e.booked.map((function(t){var a=!1,n=e.attended.filter((function(e){return e._id===t._id}));0===n.length&&(a=!1),0!==n.length&&(a=!0);var r={user:t,sessionDate:e.session.date,sessionTitle:e.session.title};return s.a.createElement(Re,{key:t._id,attendance:r,user:t,_id:t._id,username:t.username,isInstructor:e.isInstructor,userAttended:a,addSessionAttendance:e.addSessionAttendance})}));return s.a.createElement("ul",{className:"user__list1_master"},t)}),Oe=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"_id: ",e._id),s.a.createElement(w.a.Text,null,"username: ",e.username))))},Ge=function(e){var t=e.attended.map((function(e){return s.a.createElement(Oe,{key:e._id,user:e,_id:e._id,username:e.username})}));return s.a.createElement("ul",{className:"user__list1_master"},t)};function Pe(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,e.title),s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"time: ",e.time),s.a.createElement(w.a.Text,null,"full: ",e.full),s.a.createElement(w.a.Text,null,"limit: ",e.limit),s.a.createElement(w.a.Text,null,"amount: ",e.amount),s.a.createElement(w.a.Text,null,"url: ",e.url),s.a.createElement(w.a.Text,null,"bookedAmount: ",e.bookedAmount),s.a.createElement(w.a.Text,null,"attendedAmount: ",e.attendedAmount)),s.a.createElement(p.a,{variant:"primary",onClick:e.viewSessionDetails.bind(this,e.session)},"Details")))}var je=function(e){var t=e.lessonSessions.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return s.a.createElement(Pe,{key:t.title,session:t,authId:e.authId,title:t.title,date:a,time:t.time,full:t.full,limit:t.limit,amount:t.amount,url:t.url,bookedAmount:t.bookedAmount,attendedAmount:t.attendedAmount,viewSessionDetails:e.viewSessionDetails})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Me=(a(32),function(e){return s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFieldSelect"},s.a.createElement(g.a.Label,null,"Field: "),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"url"),s.a.createElement("option",null,"time"),s.a.createElement("option",null,"limit"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridQuery"},s.a.createElement(g.a.Label,null,"Query"),s.a.createElement(g.a.Control,{type:"text",placeholder:"query"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Edit"))))}),Ue=function(e){var t=Object.assign({},e.session),a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10),n=!1;return!0===t.lessonInstructors.includes(e.authId)&&(n=!0),s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement("p",null,"SessionDetailViewer"),s.a.createElement(w.a,null,s.a.createElement(w.a.Body,null,s.a.createElement(p.a,{variant:"primary",onClick:e.hideSessionDetails},"Hide"),s.a.createElement(w.a.Title,null,t.title),s.a.createElement(w.a.Text,null,"isInstructor: ",n.toString()),s.a.createElement(w.a.Text,null,"lesson: ",t.lessonTitle),s.a.createElement(w.a.Text,null,"date: ",a),s.a.createElement(w.a.Text,null,"time: ",t.time),s.a.createElement(w.a.Text,null,"limit: ",t.limit),s.a.createElement(w.a.Text,null,"amount: ",t.amount),s.a.createElement(w.a.Text,null,"full: ",t.full),s.a.createElement(w.a.Text,null,"url: ",t.url),s.a.createElement(w.a.Text,null,"bookedAmount: ",t.bookedAmount),s.a.createElement(w.a.Text,null,"attendedAmount: ",t.attendedAmount))),s.a.createElement(p.a,{variant:"primary",onClick:e.showSessionBooked},"Show Booked"),s.a.createElement(p.a,{variant:"primary",onClick:e.hideSessionBooked},"Hide Booked"),s.a.createElement(p.a,{variant:"primary",onClick:e.showSessionAttended},"Show Attended"),s.a.createElement(p.a,{variant:"primary",onClick:e.hideSessionAttended},"Hide Attended"),!0===e.sessionBookedState&&s.a.createElement(qe,{session:e.session,isInstructor:n,booked:t.booked,attended:t.attended,addSessionAttendance:e.addSessionAttendance}),!0===e.sessionAttendedState&&s.a.createElement(Ge,{attended:t.attended}),e.editSessionField&&s.a.createElement(p.a,{variant:"primary",onClick:e.startEditSessionField.bind(void 0,e.session)},"Edit"),!0===e.editingSessionField&&s.a.createElement(Me,{authId:e.authId,session:e.session,onConfirm:e.editSessionField,onCancel:e.cancelEditSessionField})))},Je=(a(227),function(e){var t=Object.assign({},e.user),a=(t.address,new Date(1e3*t.dob.substr(0,9)).toLocaleDateString().slice(0,10)),n=[],r=[];t.friendRequests!==[]&&(n=t.friendRequests.filter((function(e){return e.sender._id===t._id})),r=t.friendRequests.filter((function(e){return e.receiver._id===t._id})));var i,o;t.public.toString();i=t.messages.filter((function(t){return t.sender._id===e.authId})),o=t.messages.filter((function(t){return t.receiver._id===e.authId}));var l=t.reviews.map((function(e){return e.lesson._id})),c=0===t.addresses.filter((function(e){return"Shipping"===e.type&&!0===e.primary})).length;return s.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"",title:"Details:",disabled:!0}),s.a.createElement(T.a,{eventKey:"Basic",title:"Basic"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,s.a.createElement("span",{className:"ul"},"Your Profile Details")),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"ID:")," ",t._id),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Name:")," ",t.name),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Username:")," ",t.username),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"D.O.B:")," ",a),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Age:")," ",t.age),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Phone:")," ",t.contact.phone),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Phone 2:")," ",t.contact.phone2),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Email:")," ",t.contact.email),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Bio:")," ",t.bio),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Points :")," ",t.points))),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Public :")," ",t.public.toString()),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"loggedIn :")," ",t.loggedIn.toString()),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"online :")," ",t.clientConnected.toString()),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Verification :")," ",t.verification.type,", ",t.verification.verified.toString()))),s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartUpdate},"Edit"),s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartUpdateField},"Edit 1 Field"),s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"points")},"+ Points"),!0===e.updating&&"basic"===e.userAddField&&s.a.createElement(Ee,{canCancelProfile:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userEditBasic,confirmText:"Confirm",user:e.user,authId:e.authId}),!0===e.updating&&!0===e.updatingField&&s.a.createElement(ve,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userEditField,confirmText:"Confirm",user:e.user,authId:e.authId}),"points"===e.userAddField&&"Admin"===t.role&&s.a.createElement(ke,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPoints,confirmText:"Confirm",user:e.user,authId:e.authId})))),s.a.createElement(T.a,{eventKey:"address",title:"address"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"address")},"+ Address"),"address"===e.userAddField&&s.a.createElement(Se,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddAddress,confirmText:"Confirm"}),null!==t.addresses&&t.addresses!==[]&&s.a.createElement(F,{userAddresses:t.addresses,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteAddress,makeAddressPrimary:e.makeAddressPrimary})),s.a.createElement(T.a,{eventKey:"profileImages",title:"profileImages"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"profileImage")},"+ Image"),"profileImage"===e.userAddField&&s.a.createElement(_e,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddProfileImage,confirmText:"Confirm"}),null!==t.profileImages&&t.profileImages!==[]&&s.a.createElement(q,{userProfileImages:t.profileImages,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteProfileImage})),s.a.createElement(T.a,{eventKey:"socialMedia",title:"socialMedia"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"socialMedia")},"+ Social Media"),"socialMedia"===e.userAddField&&s.a.createElement(Ie,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddSocialMedia,confirmText:"Confirm"}),null!==t.socialMedia&&t.socialMedia!==[]&&s.a.createElement(G,{userSocialMedia:t.socialMedia,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteSocialMedia})),s.a.createElement(T.a,{eventKey:"perks",title:"perks"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"perk")},"+ Perk"),"perk"===e.userAddField&&null!==e.selectedPerk&&s.a.createElement(Ne,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPerk,confirmText:"Confirm",user:e.user,authId:e.authId,perk:e.selectedPerk}),null!==t.perks&&t.perks!==[]&&s.a.createElement(j,{userPerks:t.perks,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePerk})),s.a.createElement(T.a,{eventKey:"promos",title:"promos"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"promo")},"+ Promo"),"promo"===e.userAddField&&null!==e.selectedPromo&&s.a.createElement(De,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPromo,confirmText:"Confirm",user:e.user,authId:e.authId,promo:e.selectedPromo}),null!==t.promos&&t.promos!==[]&&s.a.createElement(U,{userPromos:t.promos,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePromo})),s.a.createElement(T.a,{eventKey:"interests",title:"interests"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"interests")},"+ Interests"),"interests"===e.userAddField&&s.a.createElement(be,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddInterests,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.interests&&t.interests!==[]&&s.a.createElement(z,{userInterests:t.interests,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteInterest})),s.a.createElement(T.a,{eventKey:"tags",title:"tags"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"tags")},"+ Tags"),"tags"===e.userAddField&&s.a.createElement(Ce,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddTags,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.tags&&t.tags!==[]&&s.a.createElement(V,{userTags:t.tags,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteTag})),s.a.createElement(T.a,{eventKey:"friends",title:"friends"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"friend")},"+ Friend"),"friend"===e.userAddField&&s.a.createElement(Te,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddFriend,confirmText:"Confirm",requestingFriend:e.requestingFriend,user:e.user}),null!==t.friends&&t.friends!==[]&&s.a.createElement(Q,{userFriends:t.friends,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteFriend,onSelect:e.userSelectFriend})),s.a.createElement(T.a,{eventKey:"friendRequests",title:"friendRequests"},s.a.createElement(D.a,{defaultActiveKey:"received",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"received",title:"received"},s.a.createElement("p",null,"Received"),null!==t.friendRequests&&t.friendRequests!==[]&&s.a.createElement(W,{received:!0,userFriendRequests:r,authId:e.authId,onReject:e.userRejectFriendRequest,onAccept:e.userAcceptFriendRequest})),s.a.createElement(T.a,{eventKey:"sent",title:"sent"},s.a.createElement("p",null,"Sent"),null!==t.friendRequests&&t.friendRequests!==[]&&s.a.createElement(W,{userFriendRequests:n,authId:e.authId,onReject:e.userRejectFriendRequest,onAccept:e.userAcceptFriendRequest})))),s.a.createElement(T.a,{eventKey:"cart",title:"cart"},null!==t.cart&&t.cart!==[]&&!1===c&&s.a.createElement(p.a,{variant:"primary",onClick:e.startCartCheckout.bind(void 0,t.cart)},"Checkout"),!0===c&&s.a.createElement(p.a,{variant:"warning"},"Can't Checkout...Add a shipping address 1st...and make sure it's a primary address..."),!0===e.creatingOrder&&s.a.createElement(Fe,{user:t,onCancel:e.cancelCartCheckout,onConfirm:e.createOrder,addAddressToOrder:e.addAddressToOrder,orderBillingAddress:e.orderBillingAddress,orderShippingAddress:e.orderShippingAddress}),null!==t.cart&&t.cart!==[]&&s.a.createElement(X,{userCartItems:t.cart,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteCartItem})),s.a.createElement(T.a,{eventKey:"likedLessons",title:"likedLessons"},null!==t.likedLessons&&t.likedLessons!==[]&&s.a.createElement(ae,{userLikedLessons:t.likedLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteLikedLesson,viewLessonDetails:e.viewLessonDetails})),s.a.createElement(T.a,{eventKey:"bookedLessons",title:"bookedLessons"},null!==t.bookedLessons&&t.bookedLessons!==[]&&s.a.createElement(ee,{userBookedLessons:t.bookedLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteBookedLesson,viewLessonDetails:e.viewLessonDetails})),s.a.createElement(T.a,{eventKey:"attendedLessons",title:"attendedLessons"},!0===e.creatingReview&&null!==e.reviewLesson&&s.a.createElement(Be,{authId:e.authId,author:t,lesson:e.reviewLesson,canConfirm:!0,canCancel:!0,onCancel:e.cancelCreateReview,onConfirm:e.createReview}),null!==t.attendedLessons&&t.attendedLessons!==[]&&s.a.createElement(se,{userAttendedLessons:t.attendedLessons,reviewedLessonIds:l,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteAttendedLesson,viewLessonDetails:e.viewLessonDetails,startCreateReview:e.startCreateReview})),"Instructor"===t.role||"Admin"===t.role&&s.a.createElement(T.a,{eventKey:"taughtLessons",title:"taughtLessons"},null!==t.taughtLessons&&t.taughtLessons!==[]&&s.a.createElement(ie,{userTaughtLessons:t.taughtLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteTaughtLesson,viewLessonDetails:e.viewLessonDetails})),s.a.createElement(T.a,{eventKey:"paymentInfo",title:"paymentInfo"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"paymentInfo")},"+ PaymentInfo"),"paymentInfo"===e.userAddField&&s.a.createElement(we,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPaymentInfo,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.paymentInfo&&t.paymentInfo!==[]&&s.a.createElement(le,{userPaymentInfo:t.paymentInfo,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePaymentInfo})),s.a.createElement(T.a,{eventKey:"messages",title:"messages"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartCreateMessage},"+ Message"),null===e.messageReceiver&&s.a.createElement(p.a,{variant:"outline-warning",size:"lg",className:"confirmEditButton"},"Select someone to message"),"message"===e.userAddField&&null!==e.messageReceiver&&s.a.createElement(xe,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userCreateMessage,confirmText:"Confirm",user:e.user,authId:e.authId,receiver:e.messageReceiver}),s.a.createElement(D.a,{defaultActiveKey:"received",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"received",title:"received"},s.a.createElement("p",null,"Received"),null!==o&&o!==[]&&s.a.createElement(he,{userMessages:o,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteMessage})),s.a.createElement(T.a,{eventKey:"sent",title:"sent"},s.a.createElement("p",null,"Sent"),null!==i&&i!==[]&&s.a.createElement(he,{userMessages:i,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteMessage})))),s.a.createElement(T.a,{eventKey:"orders",title:"orders"},null!==t.orders&&t.orders!==[]&&s.a.createElement(de,{userOrders:t.orders,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteOrder})),s.a.createElement(T.a,{eventKey:"reviews",title:"reviews"},null!==t.reviews&&t.reviews!==[]&&s.a.createElement(me,{userReviews:t.reviews,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteReview})),s.a.createElement(T.a,{eventKey:"meeting",title:"meeting"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.loadMeetings},"Load Today's"),s.a.createElement(p.a,{variant:"outline-danger",size:"lg",className:"confirmEditButton",onClick:e.hideMeetings},"Hide"),!0===e.sessionDetailViewer&&s.a.createElement(Ue,{authId:e.authId,session:e.session,startEditSessionField:e.startEditSessionField,cancelEditSessionField:e.cancelEditSessionField,editingSessionField:e.editingSessionField,editSessionField:e.editSessionField,showSessionBooked:e.showSessionBooked,showSessionAttended:e.showSessionAttended,hideSessionBooked:e.hideSessionBooked,hideSessionAttended:e.hideSessionAttended,sessionBookedState:e.sessionBookedState,sessionAttendedState:e.sessionAttendedState,hideSessionDetails:e.hideSessionDetails,addSessionAttendance:e.addSessionAttendance}),!0===e.meetingsLoaded&&s.a.createElement(je,{authId:e.authId,lessonSessions:e.meetingSessions,viewSessionDetails:e.viewSessionDetails}),s.a.createElement("p",null,"zoom mtg create button, dom element etc ")),s.a.createElement(T.a,{eventKey:"activity",title:"activity"},null!==t.activity&&t.activity!==[]&&s.a.createElement(ye,{userActivity:t.activity,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteActivity})))});function ze(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,e.title),s.a.createElement(w.a.Text,null,"date: ",e.date),s.a.createElement(w.a.Text,null,"time: ",e.time),s.a.createElement(w.a.Text,null,"full: ",e.full),s.a.createElement(w.a.Text,null,"limit: ",e.limit),s.a.createElement(w.a.Text,null,"amount: ",e.amount),s.a.createElement(w.a.Text,null,"url: ",e.url),s.a.createElement(w.a.Text,null,"bookedAmount: ",e.bookedAmount),s.a.createElement(w.a.Text,null,"attendedAmount: ",e.attendedAmount)),!e.meetings&&s.a.createElement(p.a,{variant:"primary",onClick:e.showSessionBooked},"Show Booked"),!e.meetings&&s.a.createElement(p.a,{variant:"primary",onClick:e.hideSessionBooked},"Hide Booked"),!e.meetings&&s.a.createElement(p.a,{variant:"primary",onClick:e.showSessionAttended},"Show Attended"),!e.meetings&&s.a.createElement(p.a,{variant:"primary",onClick:e.hideSessionAttended},"Hide Attended"),e.meetings&&s.a.createElement(p.a,{variant:"primary"},"Details"),!0===e.sessionBookedState&&s.a.createElement(qe,{session:e.session,isInstructor:e.isInstructor,booked:e.booked,attended:e.attended,addSessionAttendance:e.addSessionAttendance}),!0===e.sessionAttendedState&&s.a.createElement(Ge,{attended:e.attended}),e.onBookSession&&s.a.createElement(p.a,{variant:"primary",onClick:e.onBookSession.bind(this,e.session)},"Book"),e.editSessionField&&!0===e.isInstructor&&s.a.createElement(p.a,{variant:"primary",onClick:e.editSessionField.bind(this,e.session)},"Edit"),e.onAddCartLesson&&s.a.createElement(p.a,{variant:"secondary",onClick:e.onAddCartLesson.bind(this,e.session)},"Cart")))}var He=function(e){var t=e.lessonSessions.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return s.a.createElement(ze,{key:t.title,session:t,authId:e.authId,isInstructor:e.isInstructor,title:t.title,date:a,time:t.time,full:t.full,limit:t.limit,amount:t.amount,url:t.url,booked:t.booked,bookedAmount:t.bookedAmount,attended:t.attended,attendedAmount:t.attendedAmount,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson,editSessionField:e.editSessionField,showSessionBooked:e.showSessionBooked,showSessionAttended:e.showSessionAttended,hideSessionBooked:e.hideSessionBooked,hideSessionAttended:e.hideSessionAttended,sessionBookedState:e.sessionBookedState,sessionAttendedState:e.sessionAttendedState,addSessionAttendance:e.addSessionAttendance})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Ve=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"Date: ",e.date,", Time: ",e.time))))},Ke=function(e){var t=e.lessonSchedule.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toLocaleDateString().slice(0,10);return s.a.createElement(Ve,{key:t,date:a,time:t.time,authId:e.authId})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Qe=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Img,{variant:"top",src:e.profileImages[0].path}),s.a.createElement(w.a.Text,null,"ID: ",e._id),s.a.createElement(w.a.Text,null,"username: ",e.username),s.a.createElement(w.a.Text,null,"socialMedia"),s.a.createElement(w.a.Text,null,e.socialMedia[0].platform," @ ",e.socialMedia[0].handle),s.a.createElement(w.a.Text,null,"Email: ",e.contact.email),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.instructor)},"Delete"))))},Ye=function(e){var t=e.lessonInstructors.map((function(t){return s.a.createElement(Qe,{key:t,instructor:t,_id:t._id,username:t.username,contact:t.contact,socialMedia:t.socialMedia,profileImages:t.profileImages,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},We=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,e.requirement)),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.requirement)},"Delete")))},$e=function(e){var t=e.lessonRequirements.map((function(t){return s.a.createElement(We,{key:t,requirement:t,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Xe=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,e.material)),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.material)},"Delete")))},Ze=function(e){var t=e.lessonMaterials.map((function(t){return s.a.createElement(Xe,{key:t,material:t,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},et=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,e.tag)),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.tag)},"Delete")))},tt=function(e){var t=e.lessonTags.map((function(t){return s.a.createElement(et,{key:t,tag:t,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},at=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Img,{variant:"top",src:e.path}),s.a.createElement(w.a.Text,null,"Name: ",e.name),s.a.createElement(w.a.Text,null,"Type: ",e.type),s.a.createElement(w.a.Text,null,"Path: ",e.path),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.image)},"Delete"))))},nt=function(e){var t=e.lessonImages.map((function(t){return s.a.createElement(at,{key:t,image:t,name:t.name,type:t.type,path:t.path,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},st=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"Name: ",e.name),s.a.createElement(w.a.Text,null,"Type: ",e.type),s.a.createElement(w.a.Text,null,"Size: ",e.size),s.a.createElement(w.a.Text,null,"Path: ",e.path),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.file)},"Delete"))))},rt=function(e){var t=e.lessonFiles.map((function(t){return s.a.createElement(st,{key:t,file:t,name:t.name,type:t.type,size:t.size,path:t.path,authId:e.authId,canDelete:e.canDelete,onDelete:e.onDelete})}));return s.a.createElement("ul",{className:"user__list1_master"},t)};function it(e){var t=!1;return e.authId===e.author._id&&(t=!0),s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"ID: ",e._id),s.a.createElement(w.a.Text,null,"Title: ",e.title),s.a.createElement(w.a.Text,null,"Type: ",e.type),s.a.createElement(w.a.Text,null,"isAuthor?: ",t.toString()),s.a.createElement(w.a.Text,null,"Author: ",e.type),s.a.createElement(w.a.Text,null,"ID: ",e.author._id),s.a.createElement(w.a.Text,null,"Body: ",e.body),s.a.createElement(w.a.Text,null,"Rating: ",e.rating))))}var ot=function(e){var t=e.lessonReviews.map((function(t){return s.a.createElement(it,{key:t,review:t,_id:t._id,title:t.title,type:t.type,author:t.author,body:t.body,rating:t.rating,authId:e.authId})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},lt=function(e){var t=Object(n.useState)(new Date),a=Object(fe.a)(t,2),r=a[0],i=a[1];return s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTitle"},s.a.createElement(g.a.Label,null,"Title"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Title"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:""},s.a.createElement(g.a.Label,null,"Session Date"),s.a.createElement(Le.a,{className:"",id:"CalendarDate",selected:r,onChange:function(e){i(e),console.log("date ".concat(e))}}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTime"},s.a.createElement(g.a.Label,null,"Time"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Time"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridLimit"},s.a.createElement(g.a.Label,null,"Limit"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Limit"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))},ct=function(e){var t=Object.assign({},e.lesson);return s.a.createElement("div",{className:"CreateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTitle"},s.a.createElement(g.a.Label,null,"Title"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.title})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSubtitle"},s.a.createElement(g.a.Label,null,"Subtitle"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.subtitle}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDuration"},s.a.createElement(g.a.Label,null,"Duration"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.duration})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridType"},s.a.createElement(g.a.Label,null,"Type: ",t.type),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type a"),s.a.createElement("option",null,"type b"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridCategory"},s.a.createElement(g.a.Label,null,"Category: ",t.category),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"a_b_c_d"),s.a.createElement("option",null,"a_b_c_x"),s.a.createElement("option",null,"a_b_z"),s.a.createElement("option",null,"a_b_c_y")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSku"},s.a.createElement(g.a.Label,null,"Sku"),s.a.createElement(g.a.Control,{type:"text",placeholder:t.sku})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPrice"},s.a.createElement(g.a.Label,null,"Price"),s.a.createElement(g.a.Control,{type:"number",step:"0.01",placeholder:t.price})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPoints"},s.a.createElement(g.a.Label,null,"Points"),s.a.createElement(g.a.Control,{type:"number",placeholder:t.points}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDescription"},s.a.createElement(g.a.Label,null,"Description"),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:t.description}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridNotes"},s.a.createElement(g.a.Label,null,"Notes"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:t.notes}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))},dt=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFieldSelect"},s.a.createElement(g.a.Label,null,"Field Options"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"title"),s.a.createElement("option",null,"subtitle"),s.a.createElement("option",null,"type"),s.a.createElement("option",null,"category"),s.a.createElement("option",null,"sku"),s.a.createElement("option",null,"price"),s.a.createElement("option",null,"description")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridQuery"},s.a.createElement(g.a.Label,null,"Query "),s.a.createElement(g.a.Label,null," (Date Format: YYYY-MM-DD) "),s.a.createElement(g.a.Control,{type:"text",placeholder:"Query"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},ut=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridRequirements"},s.a.createElement(g.a.Label,null,"Requirements"),s.a.createElement(g.a.Control,{as:"textarea",rows:"9",placeholder:"requirement, requirement, requirement"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},mt=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridMaterials"},s.a.createElement(g.a.Label,null,"Materials"),s.a.createElement(g.a.Control,{as:"textarea",rows:"9",placeholder:"material, material, material"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},pt=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTags"},s.a.createElement(g.a.Label,null,"Tags"),s.a.createElement(g.a.Control,{as:"textarea",rows:"9",placeholder:"tags, tags, tags"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},ht=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridImagename"},s.a.createElement(g.a.Label,null,"Filename"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filename"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridImagetype"},s.a.createElement(g.a.Label,null,"Filetype"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filetype"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridImagepath"},s.a.createElement(g.a.Label,null,"Link Address"),s.a.createElement(g.a.Control,{type:"text",placeholder:"link address"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},gt=function(e){return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFilename"},s.a.createElement(g.a.Label,null,"Filename"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filename"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFilesize"},s.a.createElement(g.a.Label,null,"Filesize"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filesize"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFiletype"},s.a.createElement(g.a.Label,null,"Filetype"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Filetype"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridFilepath"},s.a.createElement(g.a.Label,null,"Link Address"),s.a.createElement(g.a.Control,{type:"text",placeholder:"link address"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},yt=function(e){return console.log("props.selectedInstructor",e.selectedInstructor.role),s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},"Instructor"!==e.selectedInstructor.role&&s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:""},s.a.createElement(g.a.Label,null," ",e.selectedInstructor.username," is not an Instructor! "))),"Instructor"===e.selectedInstructor.role&&s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:""},s.a.createElement(g.a.Label,null,"Add Instructor: ",e.selectedInstructor.username," to this lesson...?"))),s.a.createElement(g.a.Row,null,"Instructor"===e.selectedInstructor.role&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),"Instructor"===e.selectedInstructor.role&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},ft=function(e){var t=e.lessonType,a=Object.assign({},e.profileLesson),n=a.instructors.map((function(e){return e._id})).includes(e.authId);return!0===n&&!0,console.log(a),s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example",className:"tab"},s.a.createElement(T.a,{eventKey:"Basic",title:"Basic"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,s.a.createElement("span",{className:"ul"},"Lesson Details")),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},!0===n&&s.a.createElement(w.a.Text,null,"Your lesson"),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"ID:")," ",a._id),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Title:")," ",a.title),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Subtitle:")," ",a.subtitle),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Type:")," ",a.type),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Category:")," ",a.category),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Sku:")," ",a.sku),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Price:")," ",a.price),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Description:")," ",a.description)),s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Main Instructor:")),s.a.createElement(w.a.Text,null,"ID: ",a.instructors[0]._id),s.a.createElement(w.a.Text,null,"Username: ",a.instructors[0].username),s.a.createElement(w.a.Text,null,"Contact"),s.a.createElement(w.a.Text,null,"Email: ",a.instructors[0].contact.email))),s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Schedule"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleSchedule},"show/hide"),!0===e.showScheduleState&&s.a.createElement(Ke,{lessonSchedule:a.schedule}))),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.closeProfileLessonView},"x")))))),s.a.createElement(T.a,{eventKey:"sessions",title:"sessions"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,null,s.a.createElement("p",null,"Sessions:"),a.sessions!==[]&&s.a.createElement(p.a,{variant:"primary",onClick:e.toggleSessions},"Show/Hide"),a.sessions!==[]&&!0===e.showSessionState&&s.a.createElement(He,{isInstructor:n,lessonSessions:a.sessions,editSessionField:e.startEditSessionField,showSessionBooked:e.showSessionBooked,showSessionAttended:e.showSessionAttended,hideSessionBooked:e.hideSessionBooked,hideSessionAttended:e.hideSessionAttended,sessionBookedState:e.sessionBookedState,sessionAttendedState:e.sessionAttendedState,addSessionAttendance:e.addSessionAttendance})),!0===n&&"booked"===t&&s.a.createElement(f.a,{className:"detailCardCol"},!0===e.editingSessionField&&s.a.createElement(Me,{authId:e.authId,session:e.session,onConfirm:e.editSessionField,onCancel:e.cancelEditSessionField}),s.a.createElement(p.a,{variant:"primary",onClick:e.startCreateSession.bind(void 0,a._id)},"New Session"),!0===e.creatingSession&&s.a.createElement(lt,{authId:e.authId,onCancel:e.cancelCreateSession,onConfirm:e.createLessonSession})))))),s.a.createElement(T.a,{eventKey:"reviews",title:"reviews"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Reviews"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleReviews},"Show/Hide"),!0===e.showReviewsState&&s.a.createElement(ot,{lessonReviews:a.reviews})))))),s.a.createElement(T.a,{eventKey:"materials/requirements",title:"materials/requirements"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Requirements"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleRequirements},"Show/Hide"),!0===n&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"requirements")},"Add"),"requirements"===e.lessonAddField&&s.a.createElement(ut,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonRequirements}),!0===e.showRequirementsState&&s.a.createElement($e,{lessonRequirements:a.requirements,canDelete:!0,onDelete:e.deleteLessonRequirement}))),s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Materials"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleMaterials},"Show/Hide"),!0===n&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"materials")},"Add"),"materials"===e.lessonAddField&&s.a.createElement(mt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonMaterials}),!0===e.showMaterialsState&&s.a.createElement(Ze,{lessonMaterials:a.materials,canDelete:!0,onDelete:e.deleteLessonMaterial})))))),s.a.createElement(T.a,{eventKey:"images",title:"images"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Images"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleImages},"Show/Hide"),!0===n&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"images")},"Add"),"images"===e.lessonAddField&&s.a.createElement(ht,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonImage}),!0===e.showImagesState&&s.a.createElement(nt,{lessonImages:a.gallery,canDelete:!0,onDelete:e.deleteLessonImage})))))),s.a.createElement(T.a,{eventKey:"files",title:"files"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Files"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleFiles},"Show/Hide"),!0===n&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"files")},"Add"),"files"===e.lessonAddField&&s.a.createElement(gt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonFile}),!0===e.showFilesState&&s.a.createElement(rt,{lessonFiles:a.files,canDelete:!0,onDelete:e.deleteLessonFile})))))),s.a.createElement(T.a,{eventKey:"instructors",title:"instructors"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Instructors"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleInstructors},"Show/Hide"),!0===n&&"{}"===JSON.stringify(e.selectedInstructor)&&s.a.createElement(p.a,{variant:"warning"},"Select an Instructor to Add"),!0===n&&"{}"!==JSON.stringify(e.selectedInstructor)&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"instructors")},"Add"),"instructors"===e.lessonAddField&&s.a.createElement(yt,{selectedInstructor:e.selectedInstructor,authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonInstructor}),!0===e.showInstructorsState&&s.a.createElement(Ye,{lessonInstructors:a.instructors,canDelete:!0,onDelete:e.deleteLessonInstructor})))))),s.a.createElement(T.a,{eventKey:"tags",title:"tags"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Tags"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleTags},"Show/Hide"),!0===n&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"tags")},"Add"),"tags"===e.lessonAddField&&s.a.createElement(pt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonTags}),!0===e.showTagsState&&s.a.createElement(tt,{lessonTags:a.tags,canDelete:!0,onDelete:e.deleteLessonTag})))))),s.a.createElement(T.a,{eventKey:"edit",title:"edit"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,!0===n&&s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonBasic},"Edit Basic"),!0===e.editingLesson&&s.a.createElement(ct,{lesson:a,onCancel:e.cancelEditBasic,onConfirm:e.editLessonBasic}))),!0===n&&s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonField},"Edit Field"),!0===e.editingLessonField&&s.a.createElement(dt,{lesson:a,onCancel:e.cancelEditField,onConfirm:e.editLessonField})))))))))},Et=(a(127),a(92)),vt=a.n(Et),St=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:null,users:[],updating:!1,adding:!1,deleting:!1,updatingField:!1,isLoading:!1,userUpdateField:null,userAddField:null,userAlert:null,overlay:!1,overlayStatus:"test",canDelete:null,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9,messagesLoaded:!1,userMessages:null,finalConfirmation:!1,socketMsg:"",activityA:null,activityB:null,activityC:null,selectedFriendRequest:null,requestingFriend:null,userSelectedFriend:null,orderBillingAddress:null,orderShippingAddress:null,profileLessonViewer:!1,profileLessonViewerData:null,profileLessonType:null,showSessionState:!1,showScheduleState:!1,creatingSession:!1,editingLesson:!1,editingLessonField:!1,editingSessionField:!1,session:null,sessionBookedState:!1,sessionAttendedState:!1,meetingsLoaded:!1,meetingSessions:[],sessionDetailViewer:!1,showInstructorsState:!1,showRequirementsState:!1,showMaterialsState:!1,showTagsState:!1,showFilesState:!1,showImagesState:!1,showReviewsState:!1,creatingReview:!1,reviewLesson:null,lessonAddField:null},n.isActive=!0,n.onStartUpdate=function(){n.setState({updating:!0,userAddField:"basic"})},n.onStartUpdateField=function(){n.setState({updating:!0,updatingField:!0})},n.onStartAdd=function(e){n.setState({adding:!0,userAddField:e})},n.addUserField=function(e){n.setState({adding:!0,userAddField:e})},n.startCreateMessage=function(){null===n.context.receiver&&n.setState({userAlert:"select a receiver 1st..."}),n.setState({adding:!0,userAddField:"message"})},n.startCartCheckout=function(){n.setState({creatingOrder:!0})},n.cancelCartCheckout=function(){n.setState({creatingOrder:!1})},n.userEditBasic=function(e){n.setState({updating:!1,userAlert:"Updating selected Staff ..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridEmail.value,i=e.target.formGridPassword.value,o=e.target.formGridName.value,l=e.target.formGridUsername.value,c=e.target.formGridDob.value,d=e.target.formGridPhone.value,u=e.target.formGridPhone2.value,m=e.target.formGridBio.value;0===r.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),r=n.context.user.contact.email),0===i.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),i=n.context.user.password),0===o.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),o=n.context.user.name),0===l.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),l=n.context.user.username),0===c.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),c=n.context.user.dob),0===m.trim().length&&(n.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),m=n.context.user.bio);var p={query:'\n          mutation {updateUserBasic(\n            activityId:"'.concat(a,'",\n            userId:"').concat(s,'",\n            userInput:{\n              name:"').concat(o,'",\n              password:"').concat(i,'",\n              username:"').concat(l,'",\n              dob:"').concat(c,'",\n              contactEmail:"').concat(r,'",\n              contactPhone:"').concat(d,'",\n              contactPhone2:"').concat(u,'",\n              bio:"').concat(m,'"\n            })\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=e.data.updateUserBasic;n.context.user=t;var a=JSON.stringify(e.data.updateUserBasic).slice(2,25);n.setState({userAlert:a,user:t,activityA:JSON.stringify(p)})})).catch((function(e){n.setState({userAlert:e})}))},n.userEditField=function(e){n.setState({updatingField:!1,userAlert:"Updating selected Staff by Field..."});var t=n.context.token,a=n.context.activityId,s=a,r=null,i=e.target.formGridQuery.value;"select"===e.target.formGridFieldSelect.value||(r=e.target.formGridFieldSelect.value);var o={query:'\n          mutation {updateUserByField(\n            activityId:"'.concat(a,'",\n            userId:"').concat(s,'",\n            field:"').concat(r,'",\n            query:"').concat(i,'")\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.updateUserByField).slice(2,25);n.setState({userAlert:t,user:e.data.updateUserByField,activityA:JSON.stringify(o)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddPoints=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding points for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridPoints.value,i={query:'\n            mutation {addUserPoints(\n              activityId:"'.concat(a,'",\n              userId:"').concat(s,'",\n              userInput:{\n                points:').concat(r,"\n              })\n              {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n          ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserPoints).slice(2,25);n.setState({userAlert:t,user:e.data.addUserPoints,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddAddress=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding address for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridAddressType.value,i=e.target.formGridAddressNumber.value,o=e.target.formGridAddressStreet.value,l=e.target.formGridAddressTown.value,c=e.target.formGridAddressCity.value,d=e.target.formGridAddressCountry.value,u=e.target.formGridAddressPostalCode.value;if(0===r.trim().length||0===i.trim().length||0===o.trim().length||0===l.trim().length||0===c.trim().length||0===d.trim().length||0===u.trim().length)return console.log("blank fields detected.. please check your info and try again.."),void n.setState({userAlert:"blank fields detected.. please check your info and try again.."});var m={query:'\n        mutation {addUserAddress(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            addressType:"').concat(r,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(o,'",\n            addressTown:"').concat(l,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserAddress).slice(2,25);n.setState({userAlert:t,user:e.data.addUserAddress,activityA:JSON.stringify(m)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteAddress=function(e){console.log("userDeleteAddress..."),n.setState({deleting:!0,userAlert:"deleting address for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.type,i=e.number,o=e.street,l=e.town,c=e.city,d=e.country,u=e.postalCode,m=e.primary,p={query:'\n        mutation {deleteUserAddress(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            addressType:"').concat(r,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(o,'",\n            addressTown:"').concat(l,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'",\n            addressPrimary:').concat(m,"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserAddress).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserAddress,activityA:JSON.stringify(p)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.makeAddressPrimary=function(e){console.log("makeAddressPrimary..."),n.setState({deleting:!0,userAlert:"deleting address for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.type,i=e.number,o=e.street,l=e.town,c=e.city,d=e.country,u=e.postalCode,m=(e.primary,{query:'\n        mutation {setUserAddressPrimary(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            addressType:"').concat(r,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(o,'",\n            addressTown:"').concat(l,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'",\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')});fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.setUserAddressPrimary).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.setUserAddressPrimary,activityA:JSON.stringify(m)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddProfileImage=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding profileImage for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridFilename.value,i=e.target.formGridFiletype.value,o=e.target.formGridFilepath.value,l={query:'\n        mutation {addUserProfileImage(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            profileImageName:"').concat(r,'",\n            profileImageType:"').concat(i,'",\n            profileImagePath:"').concat(o,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserProfileImage).slice(2,25);n.setState({userAlert:t,user:e.data.addUserProfileImage,activityA:JSON.stringify(l)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteProfileImage=function(e){n.setState({deleting:!0,userAlert:"deleting profileImage for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.name,i=e.type,o=e.path,l={query:'\n        mutation {deleteUserProfileImage(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            profileImageName:"').concat(r,'",\n            profileImageType:"').concat(i,'",\n            profileImagePath:"').concat(o,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserProfileImage).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserProfileImage,activityA:JSON.stringify(l)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddSocialMedia=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding socialMedia for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridPlatform.value,i=e.target.formGridHandle.value,o=e.target.formGridLink.value,l={query:'\n        mutation {addUserSocialMedia(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            socialMediaPlatform:"').concat(r,'",\n            socialMediaHandle:"').concat(i,'",\n            socialMediaLink:"').concat(o,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserSocialMedia).slice(2,25);n.setState({userAlert:t,user:e.data.addUserSocialMedia,activityA:JSON.stringify(l)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteSocialMedia=function(e){console.log("userDeleteSocialMedia"),n.setState({deleting:!0,userAlert:"deleting socialMedia for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.platform,i=e.handle,o=e.link,l={query:'\n        mutation {deleteUserSocialMedia(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            socialMediaPlatform:"').concat(r,'",\n            socialMediaHandle:"').concat(i,'",\n            socialMediaLink:"').concat(o,'"\n          })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserSocialMedia).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserSocialMedia,activityA:JSON.stringify(l)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddPaymentInfo=function(e){console.log("userAddPaymentInfo"),n.setState({adding:!1,userAddField:null,userAlert:"adding paymentInfo for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.paymentInfoDate.value,i=e.target.formGridPaymentInfoType.value,o=e.target.formGridDescription.value,l=e.target.formGridBody.value,c=e.target.formGridPaymentInfoPrimaryCheckbox.checked,d={query:'\n        mutation {addUserPaymentInfo(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            paymentInfoDate:"').concat(r,'",\n            paymentInfoType:"').concat(i,'",\n            paymentInfoDescription:"').concat(o,'",\n            paymentInfoBody:"').concat(l,'",\n            paymentInfoValid:').concat(!0,",\n            paymentInfoPrimary:").concat(c,",\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserPaymentInfo).slice(2,25);n.setState({userAlert:t,user:e.data.addUserPaymentInfo,activityA:JSON.stringify(d)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeletePaymentInfo=function(e){console.log("userDeletePaymentInfo",JSON.stringify(e)),n.setState({deleting:!0,userAlert:"deleting paymentInfo for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.date,i=e.type,o=e.description,l=e.body,c=e.valid,d=e.primary,u={query:'\n        mutation {deleteUserPaymentInfo(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            paymentInfoDate:"').concat(r,'",\n            paymentInfoType:"').concat(i,'",\n            paymentInfoDescription:"').concat(o,'",\n            paymentInfoBody:"').concat(l,'",\n            paymentInfoValid:').concat(c,",\n            paymentInfoPrimary:").concat(d,"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserPaymentInfo).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserPaymentInfo,activityA:JSON.stringify(u)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddInterests=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding interest for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridInterests.value,i={query:'\n        mutation {addUserInterests(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            interests:"').concat(r,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserInterests).slice(2,25);n.setState({userAlert:t,user:e.data.addUserInterests,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteInterest=function(e){n.setState({deleting:!0,userAlert:"deleting interest for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e,i={query:'\n        mutation {deleteUserInterest(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            interest:"').concat(r,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserInterest).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserInterest,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddTags=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding tags for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.target.formGridTags.value,i={query:'\n      mutation {addUserTags(\n        activityId:"'.concat(a,'",\n        userId:"').concat(s,'",\n        userInput:{\n          tags:"').concat(r,'"\n        })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserTags).slice(2,25);n.setState({userAlert:t,user:e.data.addUserTags,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteTag=function(e){n.setState({adding:!1,userAddField:null,userAlert:"deleting tag for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e,i={query:'\n      mutation {deleteUserTag(\n        activityId:"'.concat(a,'",\n        userId:"').concat(s,'",\n        userInput:{\n          tag:"').concat(r,'"\n        })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserTag).slice(2,25);n.setState({userAlert:t,user:e.data.deleteUserTag,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddPerk=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding perk for user..."});n.context.token,n.context.activityId,n.context.selectedPerk._id},n.userDeletePerk=function(e){n.setState({deleting:!0,userAlert:"deleting perk for user..."});n.context.token,n.context.activityId},n.userAddPromo=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding promo for user..."});n.context.token,n.context.activityId,n.context.selectedPromo._id},n.userDeletePromo=function(e){n.setState({deleting:!0,userAlert:"deleting promo for user..."});n.context.token,n.context.activityId},n.userAcceptFriendRequest=function(e){console.log("userAcceptFriendRequest...");var t=n.context.token,a=n.context.activityId,s=e.receiver._id,r=e.sender._id,i={query:'\n      mutation {addUserFriend(\n        activityId:"'.concat(a,'",\n        userId:"').concat(s,'",\n        friendId:"').concat(r,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserFriend).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.addUserFriend,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userRejectFriendRequest=function(e){console.log("userRejectFriendRequest..."),n.setState({deleting:!0,userAlert:"deleting friend request for user..."});var t=n.context.token,a=n.context.activityId,s=e.sender._id,r=e.receiver._id,i=(e.date,{query:'\n      mutation {deleteFriendRequest(\n        activityId:"'.concat(a,'",\n        senderId:"').concat(s,'",\n        receiverId:"').concat(r,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')});fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteFriendRequest).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteFriendRequest,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userAddFriend=function(e){n.setState({adding:!1,userAddField:null,userAlert:"adding friend for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=n.state.requestingFriend,i={query:'\n      mutation {addUserFriend(\n        activityId:"'.concat(a,'",\n        userId:"').concat(s,'",\n        friendId:"').concat(r,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.addUserFriend).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.addUserFriend,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userSelectFriend=function(e){n.setState({userSelectedFriend:e}),n.context.receiver=e},n.userDeleteFriend=function(e){n.setState({deleting:!0,userAlert:"deleting friend for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=n.state.userSelectedFriend._id,i={query:'\n        mutation {deleteUserFriend(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          friendId:"').concat(r,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserFriend).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserFriend,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteCartItem=function(e){n.setState({deleting:!0,userAlert:"deleting cart item for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.lesson._id,i=e.dateAdded,o=e.sessionDate,l=e.sessionTitle;console.log(o,r,l);var c={query:'\n        mutation {deleteUserCartLesson(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          lessonId:"').concat(r,'",\n          dateAdded:"').concat(i,'",\n          sessionDate:"').concat(o,'",\n          sessionTitle:"').concat(l,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserCartLesson).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserCartLesson,activityA:JSON.stringify(c)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteBookedLesson=function(e){n.setState({deleting:!0,userAlert:"deleting booked kesson for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.date,i=e.ref,o={query:'\n        mutation {deleteUserBookedLesson(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          lessonId:"').concat(i,'",\n          date:"').concat(r,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log("resData",e);var t=JSON.stringify(e.data.deleteUserBookedLesson).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserBookedLesson,activityA:JSON.stringify(o)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteLikedLesson=function(e){n.setState({deleting:!0,userAlert:"deleting likeLesson for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e._id,i={query:'\n        mutation {deleteUserLikedLesson(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          lessonId:"').concat(r,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserLikedLesson).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserLikedLesson,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteAttendedLesson=function(e){n.setState({deleting:!0,userAlert:"deleting attendedLesson for user..."});n.context.token,n.context.activityId},n.userDeleteTaughtLesson=function(e){n.setState({deleting:!0,userAlert:"deleting taughtLesson for user..."});n.context.token,n.context.activityId},n.addAddressToOrder=function(e){e.preventDefault(),console.log(e.target.value.slice(9,16));var t=e.target.value.slice(9,16);"Billing"===t&&n.setState({orderBillingAddress:e.target.value}),"Shipping"===t&&n.setState({orderShippingAddress:e.target.value})},n.createOrder=function(e){e.preventDefault(),console.log(n.state.user.cart),n.setState({creatingOrder:!1,userAlert:"creating order for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=a,i=e.target.formGridType.value,o=e.target.formGridTotalA.value,l=e.target.formGridTotalB.value,c=e.target.formGridTaxDescription.value,d=e.target.formGridTaxAmount.value,u=e.target.formGridDescription.value,m=e.target.formGridNotes.value,p=e.target.formGridPayment.value,h=e.target.formGridShipping.value,g=e.target.formGridBillingAddressNumber.value,y=e.target.formGridBillingAddressStreet.value,f=e.target.formGridBillingAddressTown.value,E=e.target.formGridBillingAddressCity.value,v=e.target.formGridBillingAddressCountry.value,S=e.target.formGridBillingAddressPostalCode.value,_=e.target.formGridShippingAddressNumber.value,I=e.target.formGridShippingAddressStreet.value,b=e.target.formGridShippingAddressTown.value,C=e.target.formGridShippingAddressCity.value,A=e.target.formGridShippingAddressCountry.value,L=e.target.formGridShippingAddressPostalCode.value,w={query:'\n        mutation {createOrder(\n          activityId:"'.concat(a,'",\n          buyerId:"').concat(s,'",\n          receiverId:"').concat(r,'",\n          orderInput:{\n            type:"').concat(i,'",\n            totalA:').concat(o,",\n            totalB:").concat(l,',\n            taxDescription:"').concat(c,'",\n            taxAmount:').concat(d,',\n            description:"').concat(u,'",\n            notes:"').concat(m,'",\n            payment:"').concat(p,'",\n            shipping:"').concat(h,'",\n            billingAddressNumber:').concat(g,',\n            billingAddressStreet:"').concat(y,'",\n            billingAddressTown:"').concat(f,'",\n            billingAddressCity:"').concat(E,'",\n            billingAddressCountry:"').concat(v,'",\n            billingAddressPostalCode:"').concat(S,'",\n            shippingAddressNumber:').concat(_,',\n            shippingAddressStreet:"').concat(I,'",\n            shippingAddressTown:"').concat(b,'",\n            shippingAddressCity:"').concat(C,'",\n            shippingAddressCountry:"').concat(A,'",\n            shippingAddressPostalCode:"').concat(L,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.createOrder).slice(2,25);n.setState({userAlert:t,user:e.data.createOrder,activityA:JSON.stringify(w)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteOrder=function(e){n.setState({deleting:!0,userAlert:"deleting order for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e,i={query:'\n        mutation {deleteUserOrder(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          orderId:"').concat(r,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserOrder).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserOrder,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteReview=function(e){n.setState({deleting:!0,userAlert:"deleting promo for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e,i={query:'\n        mutation {deleteUserReview(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          reviewId:"').concat(r,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserReview).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserReview,activityA:JSON.stringify(i)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userCreateMessage=function(e){e.preventDefault(),n.setState({adding:!1});var t=n.context.token,a=(n.context.receiver,n.context.receiver._id),s=(n.context.receiver.role,n.context.role,n.context.activityId),r=s,i=n.state.user.username,o=new Date,l=(o.toLocaleDateString().slice(11,16),o.toLocaleDateString().slice(11,16)),c=e.target.formGridTypeSelect.value,d=e.target.formGridSubject.value,u=e.target.formGridMessage.value,m={date:o,time:l,type:c,senderName:i,subject:d,message:u},p={query:'\n        mutation {createMessage(\n          activityId:"'.concat(s,'",\n          senderId:"').concat(r,'",\n          receiverId:"').concat(a,'",\n          messageInput:{\n            type:"').concat(c,'",\n            subject:"').concat(d,'",\n            message:"').concat(u,'"\n          })\n        {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n      ')};n.sendSocketMessage(m),fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log("createMessage",e.data.createMessage);var t=JSON.stringify(e.data.createMessage).slice(2,25);n.setState({userAlert:t,activityA:JSON.stringify(p),userAddField:null})})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteMessage=function(e){n.setState({deleting:!0,userAlert:"deleting message for user..."});var t=n.context.token,a=n.context.activityId,s=e,r={query:'\n      mutation {deleteMessage(\n        activityId:"'.concat(a,'",\n        messageId:"').concat(s,'",)\n      {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteMessage).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteMessage,activityA:JSON.stringify(r)}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.userDeleteActivity=function(e){n.setState({deleting:!0,userAlert:"deleting promo for user..."});var t=n.context.token,a=n.context.activityId,s=a,r=e.date,i=e.request,o={query:'\n        mutation {deleteUserActivity(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          userInput:{\n            activityDate:"').concat(r,'",\n            activityRequest:"').concat(i,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.deleteUserActivity).slice(2,25);n.setState({deleting:!1,userAlert:t,user:e.data.deleteUserActivity}),n.context.user=n.state.user})).catch((function(e){n.setState({userAlert:e})}))},n.modalCancelHandler=function(){n.setState({updating:!1,updatingField:!1,adding:!1,userAddField:null})},n.showSidebar=function(){n.setState({sidebarShow:!0,mCol2Size:9})},n.hideSidebar=function(){n.setState({sidebarShow:!1,mCol2Size:11})},n.viewLessonDetails=function(e){console.log("retriving lesson details",e.lesson),n.setState({useAlert:"retriving lesson details",isLoading:!0});var t=n.context.token,a=n.context.activityId,s=null;e.lesson._id&&(s=e.lesson._id),e.lesson.ref&&(s=e.lesson.ref._id);var r={query:'\n        query {getLessonById(\n          activityId:"'.concat(a,'",\n          lessonId:"').concat(s,'"\n        )\n        {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},sessions{title,date,time,limit,amount,booked{_id,username,bio,profileImages{name,type,path},socialMedia{platform,handle,link}},bookedAmount,attended{_id,username,bio,profileImages{name,type,path},socialMedia{platform,handle,link}},attendedAmount,inProgress,full,url},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){JSON.stringify(t.data.getLessonById).slice(2,25);n.setState({isLoading:!1,profileLessonViewer:!0,profileLessonViewerData:t.data.getLessonById,profileLessonType:e.type})})).catch((function(e){n.setState({userAlert:e})}))},n.closeProfileLessonView=function(){n.setState({profileLessonViewer:!1,profileLessonViewerData:null})},n.toggleSessions=function(){!1===n.state.showSessionState?n.setState({showSessionState:!0}):n.setState({showSessionState:!1})},n.toggleInstructors=function(){!1===n.state.showInstructorsState?n.setState({showInstructorsState:!0}):n.setState({showInstructorsState:!1})},n.toggleSchedule=function(){!1===n.state.showScheduleState?n.setState({showScheduleState:!0}):n.setState({showScheduleState:!1})},n.toggleRequirements=function(){!1===n.state.showRequirementsState?n.setState({showRequirementsState:!0}):n.setState({showRequirementsState:!1})},n.toggleMaterials=function(){!1===n.state.showMaterialsState?n.setState({showMaterialsState:!0}):n.setState({showMaterialsState:!1})},n.toggleReviews=function(){!1===n.state.showReviewsState?n.setState({showReviewsState:!0}):n.setState({showReviewsState:!1})},n.toggleTags=function(){!1===n.state.showTagsState?n.setState({showTagsState:!0}):n.setState({showTagsState:!1})},n.toggleImages=function(){!1===n.state.showImagesState?n.setState({showImagesState:!0}):n.setState({showImagesState:!1})},n.toggleFiles=function(){!1===n.state.showFilesState?n.setState({showFilesState:!0}):n.setState({showFilesState:!1})},n.startCreateSession=function(e){n.setState({creatingSession:!0})},n.cancelCreateSession=function(){n.setState({creatingSession:!1})},n.createLessonSession=function(e){console.log("creating new lesson session"),n.setState({userAlert:"creating new lesson session"});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridTitle.value,r=e.target.CalendarDate.value;r=new Date(r).toLocaleDateString().slice(0,10);var i=e.target.formGridTime.value,o=e.target.formGridLimit.value,l={query:'\n          mutation {addLessonSession(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              sessionTitle:"').concat(s,'",\n              sessionDate:"').concat(r,'",\n              sessionTime:"').concat(i,'",\n              sessionLimit:').concat(o,",\n              sessionAmount:").concat(0,"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags,sessions{title,date,time,limit,inProgress,full}}}\n        ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.addLessonBooking,isLoading:!1})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.onStartEditLessonBasic=function(){n.setState({editingLesson:!0})},n.cancelEditBasic=function(){n.setState({editingLesson:!1})},n.editLessonBasic=function(e){e.preventDefault(),n.setState({editingLesson:!1});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=n.context.token,r=e.target.formGridTitle.value,i=e.target.formGridSubtitle.value,o=e.target.formGridDuration.value,l=e.target.formGridType.value,c=e.target.formGridCategory.value,d=e.target.formGridSku.value,u=e.target.formGridPrice.value,m=e.target.formGridPoints.value,p=e.target.formGridDescription.value,h=e.target.formGridNotes.value,g={query:'\n       mutation {updateLessonBasic(\n         activityId:"'.concat(t,'",\n         lessonId:"').concat(a,'",\n         lessonInput:{\n           title:"').concat(r,'",\n           subtitle:"').concat(i,'",\n           type:"').concat(l,'",\n           category:"').concat(c,'",\n           price:').concat(u,',\n           sku:"').concat(d,'",\n           points:').concat(m,',\n           description:"').concat(p,'",\n           notes:"').concat(h,'",\n           duration:"').concat(o,'"\n         })\n    {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags}}\n    ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.updateLessonBasic).slice(0,8);n.setState({profileLessonViewerData:e.data.updateLessonBasic,userAlert:t})})).catch((function(e){n.setState({userAlert:e})}))},n.onStartEditLessonField=function(){n.setState({editingLessonField:!0})},n.cancelEditField=function(){n.setState({editingLessonField:!1})},n.editLessonField=function(e){e.preventDefault(),n.setState({editingLessonField:!1});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=n.context.token,r=e.target.formGridFieldSelect.value,i=e.target.formGridQuery.value,o={query:'\n         mutation {updateLessonByField(\n           activityId:"'.concat(t,'",\n           lessonId:"').concat(a,'",\n           field:"').concat(r,'",\n           query:"').concat(i,'"\n         )\n         {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full},promos{_id}}}\n          ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data.updateLessonByField).slice(0,8);n.setState({profileLessonViewer:e.data.updateLessonByField,userAlert:t})})).catch((function(e){n.setState({userAlert:e})}))},n.startEditSessionField=function(e){n.setState({editingSessionField:!0,session:e})},n.cancelEditSessionField=function(){n.setState({editingSessionField:!1})},n.editSessionField=function(e){e.preventDefault(),console.log(e,"updating session by field"),n.setState({editingSessionField:!1,userAlert:"updating session by field"});var t=n.context.activityId,a=null;a=!0===n.state.sessionDetailViewer?n.state.session.lessonId:n.state.profileLessonViewerData._id;var s=n.context.token,r=n.state.session.title,i=n.state.session.date,o=e.target.formGridFieldSelect.value,l=e.target.formGridQuery.value,c={query:'\n        mutation {updateSessionField(\n          activityId:"'.concat(t,'",\n          lessonId:"').concat(a,'",\n          lessonInput:{\n            sessionTitle:"').concat(r,'",\n            sessionDate:"').concat(i,'",\n            sessionField:"').concat(o,'",\n            sessionQuery:"').concat(l,'"\n          })\n         {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{email,phone,phone2}},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full,url},promos{_id}}}\n          ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=e.data.updateSessionField,a=e.data.updateSessionField.sessions.filter((function(e){return e.title===r})),s=a[0];console.log(a);var i={title:s.title,date:s.date,time:s.time,limit:s.limit,amount:s.amount,bookedAmount:s.bookedAmount,booked:s.booked,attended:s.attended,attendedAmount:s.attendedAmount,inProgress:s.inProgress,full:s.full,url:s.url,lessonId:t._id,lessonTitle:t.title,lessonInstructors:t.instructors},o=JSON.stringify(e.data.updateSessionField).slice(0,8);n.setState({sessionDetailViewer:!0,session:i,profileLessonViewerData:e.data.updateSessionField,userAlert:o})})).catch((function(e){n.setState({userAlert:e})}))},n.showSessionBooked=function(){n.setState({sessionBookedState:!0})},n.showSessionAttended=function(){console.log("...attended session attendance..."),n.setState({sessionAttendedState:!0})},n.hideSessionBooked=function(){n.setState({sessionBookedState:!1})},n.hideSessionAttended=function(){n.setState({sessionAttendedState:!1})},n.addSessionAttendance=function(e){n.setState({userAlert:"...adding session attendance..."});var t=n.context.activityId,a=e.user._id,s=null;s=!0===n.state.sessionDetailViewer?n.state.session.lessonId:n.state.profileLessonViewerData._id;var r=e.sessionDate,i=e.sessionTitle,o={query:'\n          mutation {addLessonAttendance(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(s,'",\n            userId:"').concat(a,'",\n            lessonInput:{\n              sessionTitle:"').concat(i,'",\n              sessionDate:"').concat(r,'"\n            })\n            {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{email,phone,phone2}},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full,url},promos{_id}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.addLessonAttendance})})).catch((function(e){n.setState({userAlert:e})}))},n.loadMeetings=function(){n.setState({userAlert:"...retriving todays sessions"});var e=n.context.activityId,t={query:'\n          query {getUserBookedSessionsToday(\n            activityId:"'.concat(e,'"\n          )\n          {title,date,time,limit,amount,bookedAmount,attendedAmount,inProgress,full,url,lessonId,lessonTitle,lessonInstructors,userId}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){console.log(e.data.getUserBookedSessionsToday);var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,meetingSessions:e.data.getUserBookedSessionsToday,meetingsLoaded:!0})})).catch((function(e){n.setState({userAlert:e})}))},n.hideMeetings=function(){n.setState({meetingsLoaded:!1,meetingSessions:[]})},n.viewSessionDetails=function(e){n.setState({userAlert:"...retriving todays sessions"});var t=n.context.activityId,a=e.lessonId,s=e.title,r=e.date,i={query:'\n          query {getLessonSession(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              sessionTitle:"').concat(s,'",\n              sessionDate:"').concat(r,'"\n            })\n            {title,date,time,limit,amount,bookedAmount,booked{_id,username},attendedAmount,attended{_id,username},inProgress,full,url,lessonId,lessonTitle,lessonInstructors,userId}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(t){var a={title:t.data.getLessonSession.title,date:t.data.getLessonSession.date,time:t.data.getLessonSession.time,limit:t.data.getLessonSession.limit,amount:t.data.getLessonSession.amount,bookedAmount:t.data.getLessonSession.bookedAmount,booked:t.data.getLessonSession.booked,attended:t.data.getLessonSession.attended,attendedAmount:t.data.getLessonSession.attendedAmount,inProgress:t.data.getLessonSession.inProgress,full:t.data.getLessonSession.full,url:t.data.getLessonSession.url,lessonId:e.lessonId,lessonTitle:e.lessonTitle,lessonInstructors:e.lessonInstructors};console.log("beep",a);var s=JSON.stringify(t.data).slice(0,8);n.setState({userAlert:s,session:a,sessionDetailViewer:!0})})).catch((function(e){n.setState({userAlert:e})}))},n.hideSessionDetails=function(){n.setState({session:null,sessionDetailViewer:!1})},n.startCreateReview=function(e){console.log("startCreateReview",e),n.setState({creatingReview:!0,reviewLesson:e.ref})},n.cancelCreateReview=function(){n.setState({creatingReview:!1,reviewLesson:null})},n.createReview=function(e){e.preventDefault(),console.log("...createing review..."),n.setState({userAlert:"...createing review...",creatingReview:!1});var t=n.state.reviewLesson._id,a=n.context.activityId,s=a,r=e.target.formGridTypeSelect.value,i=e.target.formGridTitle.value,o=e.target.formGridBody.value,l=e.target.formGridRating.value,c={query:'\n        mutation {createReview(\n          activityId:"'.concat(a,'",\n          userId:"').concat(s,'",\n          lessonId:"').concat(t,'",\n          reviewInput:{\n            type:"').concat(r,'",\n            title:"').concat(i,'",\n            body:"').concat(o,'",\n            rating:').concat(l,"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,user:e.data.createReview,reviewLesson:null})})).catch((function(e){n.setState({userAlert:e})}))},n.startLessonAdd=function(e){n.setState({lessonAddField:e})},n.cancelLessonAdd=function(e){n.setState({lessonAddField:null})},n.addLessonMaterials=function(e){e.preventDefault(),n.setState({userAlert:"...adding lesson materials...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridMaterials.value,r={query:'\n          mutation {addLessonMaterials(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              materials: "').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){console.log(e.data);var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,activityA:r,profileLessonViewerData:e.data.addLessonMaterials})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.addLessonTags=function(e){e.preventDefault(),console.log("...adding lesson tags..."),n.setState({userAlert:"...adding lesson tags...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridTags.value,r={query:'\n          mutation {addLessonTags(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              tags:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,activityA:r,profileLessonViewerData:e.data.addLessonTags})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.addLessonRequirements=function(e){e.preventDefault(),n.setState({userAlert:"...adding lesson requirements ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridRequirements.value,r={query:'\n          mutation {addLessonRequirements(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              requirements: "').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,activityA:r,profileLessonViewerData:e.data.addLessonRequirements})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.addLessonImage=function(e){e.preventDefault(),console.log("...adding lesson Image ..."),n.setState({userAlert:"...adding lesson Images ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridImagename.value,r=e.target.formGridImagetype.value,i=e.target.formGridImagepath.value,o={query:'\n          mutation {addLessonImage(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              imageName:"').concat(s,'",\n              imageType:"').concat(r,'",\n              imagePath:"').concat(i,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){console.log("resData.data.addLessonImage",e.data.addLessonImage);var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.addLessonImage,activityA:o})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.addLessonFile=function(e){e.preventDefault(),console.log("...adding lesson Files ..."),n.setState({userAlert:"...adding lesson Files ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.target.formGridFilename.value,r=e.target.formGridFilesize.value,i=e.target.formGridFiletype.value,o=e.target.formGridFilepath.value,l={query:'\n          mutation {addLessonFile(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              fileName: "').concat(s,'"\n              fileType: "').concat(r,'"\n              fileSize: "').concat(i,'"\n              filePath: "').concat(o,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,activityA:l,profileLessonViewerData:e.data.addLessonFile})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.addLessonInstructor=function(e){e.preventDefault(),console.log("...adding lesson instructor ..."),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.context.selectedUser._id,s=n.state.profileLessonViewerData._id,r={query:'\n          mutation {addLessonInstructor(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(s,'"\n            instructorId: "').concat(a,'")\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,activityA:r,profileLessonViewerData:e.data.addLessonInstructor})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonTag=function(e){console.log("...deleting lesson tag...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e,r={query:'\n          mutation {deleteLessonTag(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              tag:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){console.log(e.data.deleteLessonTag);var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonTag,activityA:r})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonRequirement=function(e){console.log("...deleting lesson requirement...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e,r={query:'\n          mutation {deleteLessonRequirement(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              requirement:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonRequirement,activityA:r})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonMaterial=function(e){console.log("...deleting lesson material...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e,r={query:'\n          mutation {deleteLessonMaterial(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              material:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonMaterial,activityA:r})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonImage=function(e){console.log("...deleting lesson image...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.name,r=e.type,i=e.path,o={query:'\n          mutation {deleteLessonImage(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              imageName: "').concat(s,'",\n              imageType: "').concat(r,'",\n              imagePath: "').concat(i,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonImage,activityA:o})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonFile=function(e){console.log("...deleting lesson file...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e.name,r=e.type,i=e.size,o=e.path,l={query:'\n          mutation {deleteLessonFile(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            lessonInput:{\n              fileName: "').concat(s,'",\n              fileType: "').concat(r,'",\n              fileSize: "').concat(i,'",\n              filePath: "').concat(o,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonFile,activityA:l})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.deleteLessonInstructor=function(e){console.log("...deleting lesson instructor...",e),n.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var t=n.context.activityId,a=n.state.profileLessonViewerData._id,s=e._id,r={query:'\n          mutation {deleteLessonInstructor(\n            activityId:"'.concat(t,'",\n            lessonId:"').concat(a,'",\n            instructorId: "').concat(s,'"\n          )\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw n.setState({userAlert:"Failed!"}),new Error("Failed!");return e.json()})).then((function(e){var t=JSON.stringify(e.data).slice(0,8);n.setState({userAlert:t,profileLessonViewerData:e.data.deleteLessonInstructor,activityA:r})})).catch((function(e){n.setState({userAlert:e}),n.isActive&&n.setState({isLoading:!1})}))},n.socket=vt()("http://localhost:9099"),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getThisUser();this.context.activityId;this.socket.emit("msg_subscribe",{user:this.context.activityId,room:"msg"+this.context.activityId}),console.log("listening for pms..."),this.socket.on("conversation private post",(function(e){console.log("you got a new message..",e),t(e)}));var t=function(t){e.setState({userAlert:"New Msg!!\n          Fr:   ".concat(t.message.senderName,",\n          Msg:   ").concat(t.message.message)})};this.userOnline()}},{key:"getThisUser",value:function(){var e=this;this.setState({isLoading:!0});var t=this.context.activityId,a={query:'\n        query {getThisUser(activityId:"'.concat(t,'")\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,sessionTitle,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var n=null;(t.errors||"error"===JSON.stringify(t).slice(2,7))&&(n=JSON.stringify(Object(A.a)({},t.errors)),e.setState({userAlert:"Something went wrong!!!"+n}));var s=t.data.getThisUser;e.context.user=s,e.isActive&&e.setState({user:s,isLoading:!1,activityA:JSON.stringify(a)}),sessionStorage.getItem("token")&&e.setState({userAlert:"Welcome Back..."}),"Lord-of-the-Manor"===s.name&&e.setState({canDelete:!0,userAlert:"Mi'Lord!!"})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"logUserActivity",value:function(){var e=this;console.log("logUserActivity..."),this.setState({userAlert:"logUserActivity..."});var t=this.context.activityId,a=t,n=this.context.token,s=((new Date).toLocaleDateString(),this.state.activityA),r={query:'\n          mutation {addUserActivity(\n            activityId:"'.concat(t,'",\n            userId:"').concat(a,'",\n            userInput:{\n              activityRequest:"').concat(s,'"\n            })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserActivity).slice(2,25);e.setState({userAlert:a,user:t.data.addUserActivity}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))}},{key:"sendSocketMessage",value:function(e){var t=this,a=e;console.log("sending socket message  ","message",a,"this.socket",this.socket),this.setState({userAlert:"sending socket message  message"+a+"this.socket"+this.socket});var n=null;if(null===this.context.receiver||void 0===this.context.receiver)return console.log("select someone to msg 1st..."),void this.setState({userAlert:"select someone to msg 1st..."});n=this.context.receiver._id,this.socket.emit("send message",{room:"msg"+n,message:a}),this.socket.on("MESSAGE_SENT",(function(e){s(e)}));var s=function(e){t.setState({userAlert:e.msg})}}},{key:"userOnline",value:function(){var e=this;console.log("...bringing user online..."),this.setState({userAlert:"bringing user online..."});var t=this.context.token,a=this.context.activityId,n={query:'\n        mutation{userOnline(\n          activityId:"'.concat(a,'",\n          userId:"').concat(a,'")\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id},bookedLessons{date,ref{_id,title}},attendedLessons{date,ref{_id,title}},taughtLessons{date,ref{_id,title}},wishlist{date,ref{_id,title},booked},cart{dateAdded,sessionDate,lesson{_id,title}},comments{_id},messages{_id},orders{_id},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){JSON.stringify(e.data.userOnline).slice(2,25)})).catch((function(t){e.setState({userAlert:t})}))}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){var e,t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(I,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),s.a.createElement(y.a,null,!0===this.state.sidebarShow&&null!==this.state.user&&s.a.createElement(f.a,{md:2,className:"MasterCol1"},s.a.createElement(N,{you:this.state.user,authId:this.context.activityId})),!0===this.state.profileLessonViewer&&null!==this.state.profileLessonViewerData&&s.a.createElement(ft,(e={authId:this.context.activityId,lessonType:this.state.profileLessonType,profileLesson:this.state.profileLessonViewerData,closeProfileLessonView:this.closeProfileLessonView,toggleSessions:this.toggleSessions,showSessionState:this.state.showSessionState,showScheduleState:this.state.showScheduleState,toggleSchedule:this.toggleSchedule,toggleInstructors:this.toggleInstructors,showInstructorsState:this.state.showInstructorsState,toggleRequirements:this.toggleRequirements,showRequirementsState:this.state.showRequirementsState,toggleMaterials:this.toggleMaterials,showMaterialsState:this.state.showMaterialsState,toggleReviews:this.toggleReviews,showReviewsState:this.state.showReviewsState,toggleTags:this.toggleTags,showTagsState:this.state.showTagsState,toggleImages:this.toggleImages,showImagesState:this.state.showImagesState,toggleFiles:this.toggleFiles,showFilesState:this.state.showFilesState,startCreateSession:this.startCreateSession,creatingSession:this.state.creatingSession,cancelCreateSession:this.cancelCreateSession,createLessonSession:this.createLessonSession,startEditSessionField:this.startEditSessionField,editingSessionField:this.state.editingSessionField,editSessionField:this.editSessionField,cancelEditSessionField:this.cancelEditSessionField,session:this.state.session,showSessionBooked:this.showSessionBooked,showSessionAttended:this.showSessionAttended,hideSessionBooked:this.hideSessionBooked,hideSessionAttended:this.hideSessionAttended,sessionBookedState:this.state.sessionBookedState,sessionAttendedState:this.state.sessionAttendedState,addSessionAttendance:this.addSessionAttendance,editingLesson:this.state.editingLesson,onStartEditLessonBasic:this.onStartEditLessonBasic,editLessonBasic:this.editLessonBasic,cancelEditBasic:this.cancelEditBasic,editingLessonField:this.state.editingLessonField,onStartEditLessonField:this.onStartEditLessonField,editLessonField:this.editLessonField,cancelEditField:this.cancelEditField,startLessonAdd:this.startLessonAdd,cancelLessonAdd:this.cancelLessonAdd,lessonAddField:this.state.lessonAddField,addLessonMaterials:this.addLessonMaterials,addLessonRequirements:this.addLessonRequirements,addLessonTags:this.addLessonTags,addLessonInstructor:this.addLessonInstructor,addLessonImage:this.addLessonImage,addLessonFile:this.addLessonFile,selectedInstructor:this.context.selectedUser},Object(C.a)(e,"addLessonInstructor",this.addLessonInstructor),Object(C.a)(e,"deleteLessonTag",this.deleteLessonTag),Object(C.a)(e,"deleteLessonRequirement",this.deleteLessonRequirement),Object(C.a)(e,"deleteLessonMaterial",this.deleteLessonMaterial),Object(C.a)(e,"deleteLessonImage",this.deleteLessonImage),Object(C.a)(e,"deleteLessonFile",this.deleteLessonFile),Object(C.a)(e,"deleteLessonInstructor",this.deleteLessonInstructor),e)),s.a.createElement(f.a,{md:this.state.mCol2Size,className:"MasterCol2"},s.a.createElement("div",{className:"containerProfile"},this.state.isLoading?s.a.createElement(L,null):s.a.createElement(y.a,null,s.a.createElement(f.a,null,null!==this.state.user&&s.a.createElement(Je,(t={user:this.state.user,authId:this.context.activityId,onCancel:this.modalCancelHandler,canDelete:this.state.canDelete,onStartUpdate:this.onStartUpdate,onStartUpdateField:this.onStartUpdateField,onStartAdd:this.onStartAdd,userEditBasic:this.userEditBasic,userEditField:this.userEditField,userAddPoints:this.userAddPoints,userAddAddress:this.userAddAddress,makeAddressPrimary:this.makeAddressPrimary,userDeleteAddress:this.userDeleteAddress,userAddProfileImage:this.userAddProfileImage,userDeleteProfileImage:this.userDeleteProfileImage,userAddSocialMedia:this.userAddSocialMedia,userDeleteSocialMedia:this.userDeleteSocialMedia,userAddPaymentInfo:this.userAddPaymentInfo,userDeletePaymentInfo:this.userDeletePaymentInfo,selectedPerk:this.context.selectedPerk,userAddPerk:this.userAddPerk,userDeletePerk:this.userDeletePerk,selectedPromo:this.context.selectedPromo,userAddPromo:this.userAddPromo,userDeletePromo:this.userDeletePromo,userAddInterests:this.userAddInterests,userDeleteInterest:this.userDeleteInterest,userAddTags:this.userAddTags,userDeleteTag:this.userDeleteTag,userRejectFriendRequest:this.userRejectFriendRequest,userAcceptFriendRequest:this.userAcceptFriendRequest,userDeleteFriend:this.userDeleteFriend,userSelectFriend:this.userSelectFriend,userAddFriend:this.userAddFriend},Object(C.a)(t,"userDeleteFriend",this.userDeleteFriend),Object(C.a)(t,"userDeleteCartItem",this.userDeleteCartItem),Object(C.a)(t,"userDeleteLikedLesson",this.userDeleteLikedLesson),Object(C.a)(t,"userDeleteBookedLesson",this.userDeleteBookedLesson),Object(C.a)(t,"userDeleteAttendedLesson",this.userDeleteAttendedLesson),Object(C.a)(t,"userDeleteTaughtLesson",this.userDeleteTaughtLesson),Object(C.a)(t,"addAddressToOrder",this.addAddressToOrder),Object(C.a)(t,"orderBillingAddress",this.state.orderBillingAddress),Object(C.a)(t,"orderShippingAddress",this.state.orderShippingAddress),Object(C.a)(t,"startCartCheckout",this.startCartCheckout),Object(C.a)(t,"cancelCartCheckout",this.cancelCartCheckout),Object(C.a)(t,"createOrder",this.createOrder),Object(C.a)(t,"userDeleteOrder",this.userDeleteOrder),Object(C.a)(t,"userDeleteReview",this.userDeleteReview),Object(C.a)(t,"userDeleteActivity",this.userDeleteActivity),Object(C.a)(t,"userCreateMessage",this.userCreateMessage),Object(C.a)(t,"userDeleteMessage",this.userDeleteMessage),Object(C.a)(t,"updating",this.state.updating),Object(C.a)(t,"updatingField",this.state.updatingField),Object(C.a)(t,"userAddField",this.state.userAddField),Object(C.a)(t,"creatingOrder",this.state.creatingOrder),Object(C.a)(t,"selectedUser",this.context.selectedUser),Object(C.a)(t,"messageReceiver",this.context.receiver),Object(C.a)(t,"requestingFriend",this.state.requestingFriend),Object(C.a)(t,"onStartCreateMessage",this.startCreateMessage),Object(C.a)(t,"viewLessonDetails",this.viewLessonDetails),Object(C.a)(t,"loadMeetings",this.loadMeetings),Object(C.a)(t,"hideMeetings",this.hideMeetings),Object(C.a)(t,"meetingsLoaded",this.state.meetingsLoaded),Object(C.a)(t,"meetingSessions",this.state.meetingSessions),Object(C.a)(t,"viewSessionDetails",this.viewSessionDetails),Object(C.a)(t,"hideSessionDetails",this.hideSessionDetails),Object(C.a)(t,"sessionDetailViewer",this.state.sessionDetailViewer),Object(C.a)(t,"startEditSessionField",this.startEditSessionField),Object(C.a)(t,"editingSessionField",this.state.editingSessionField),Object(C.a)(t,"editSessionField",this.editSessionField),Object(C.a)(t,"cancelEditSessionField",this.cancelEditSessionField),Object(C.a)(t,"session",this.state.session),Object(C.a)(t,"showSessionBooked",this.showSessionBooked),Object(C.a)(t,"showSessionAttended",this.showSessionAttended),Object(C.a)(t,"hideSessionBooked",this.hideSessionBooked),Object(C.a)(t,"hideSessionAttended",this.hideSessionAttended),Object(C.a)(t,"sessionBookedState",this.state.sessionBookedState),Object(C.a)(t,"sessionAttendedState",this.state.sessionAttendedState),Object(C.a)(t,"addSessionAttendance",this.addSessionAttendance),Object(C.a)(t,"startCreateReview",this.startCreateReview),Object(C.a)(t,"cancelCreateReview",this.cancelCreateReview),Object(C.a)(t,"creatingReview",this.state.creatingReview),Object(C.a)(t,"reviewLesson",this.state.reviewLesson),Object(C.a)(t,"createReview",this.createReview),t))))))))}}]),a}(n.Component);St.contextType=E;var _t=St,It=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={verifying:!1,role:null,userAlert:null,overlay:!1,overlayStatus:"test",activeTab:"choose",userSeshStore:!1,user:{},model:{},activityA:null},e.retrieveLogin=function(){console.log("retrieving login"),e.context.login(sessionStorage.getItem("token"),sessionStorage.getItem("activityId"),sessionStorage.getItem("role"),sessionStorage.getItem("tokenExpiration"))},e.submitHandler=function(t){t.preventDefault(),console.log("...User Login..."),e.setState({userAlert:"Logging you in..."});var a=t.target.formBasicEmail.value,n=t.target.formBasicPassword.value;if(0!==a.trim().length&&0!==n.trim().length){var s;s={query:'\n          query {login(email:"'.concat(a,'",password:"').concat(n,'")\n          {activityId,role,token,tokenExpiration,error}}\n        ')},fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data).slice(2,25);t.data.login.error&&(a=t.data.login.error),e.setState({userAlert:a});""!==t.data.login.token&&(e.context.login(t.data.login.token,t.data.login.activityId,t.data.login.role,t.data.login.tokenExpiration),sessionStorage.setItem("token",t.data.login.token),sessionStorage.setItem("activityId",t.data.login.activityId),sessionStorage.setItem("role",t.data.login.role),sessionStorage.setItem("tokenExpiration",t.data.login.tokenExpiration))})).catch((function(t){e.isActive&&e.setState({userAlert:t})}))}},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e.verifyUser=function(t){t.preventDefault(),console.log("...verify user...");var a=t.target.formGridEmail.value,n=t.target.formGridType.value,s=(t.target.formGridCode.value,{query:'\n      mutation {verifyUser(\n        userInput:{\n          contactEmail:"'.concat(a,'",\n          verificationType:"').concat(n,'",\n          verificationCode:"$verificationCode{}"\n        })\n      {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')});console.log(JSON.stringify(s)),fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){console.log(t.data.verifyUser),e.setState({userAlert:"Verified...Please try loggin in again.."})})).catch((function(t){e.setState({userAlert:t})}))},e.startVerification=function(){e.setState({verifying:!0})},e.closeVerification=function(){e.setState({verifying:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("token")&&(this.setState({userAlert:"sessionStorage found...",userSeshStore:!0}),this.getThisUser())}},{key:"getThisUser",value:function(){var e=this;console.log("get this user...");var t=sessionStorage.getItem("activityId"),a=sessionStorage.getItem("token"),n={query:'\n        query {getThisUser(activityId:"'.concat(t,'")\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,lesson{_id},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=t.data.getThisUser;e.context.user=a,e.setState({activityA:"...autoLogin by "+a._id}),e.retrieveLogin()})).catch((function(t){e.setState({userAlert:t})}))}},{key:"logUserActivity",value:function(){var e=this;console.log("logUserActivity...",sessionStorage.getItem("activityId"),this.state.activityA),this.setState({userAlert:"logUserActivity..."});var t=sessionStorage.getItem("activityId"),a=sessionStorage.getItem("token"),n=t,s=((new Date).toLocaleDateString(),this.state.activityA),r={query:'\n          mutation {addUserActivity(\n            activityId:"'.concat(t,'",\n            userId:"').concat(n,'",\n            userInput:{\n              activityRequest:"').concat(s,'"\n            })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,lesson{_id},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){JSON.stringify(e.data.addUserActivity).slice(2,25)})).catch((function(t){e.setState({userAlert:t})}))}},{key:"render",value:function(){return s.a.createElement(h.a,{className:"loginPageContainer"},s.a.createElement(S,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(y.a,{className:"loginPageContainerRow2"},s.a.createElement(f.a,{className:"loginPageContainerCol2"},s.a.createElement(g.a,{className:"auth-form",onSubmit:this.submitHandler},s.a.createElement(g.a.Group,{controlId:"formBasicEmail"},s.a.createElement(g.a.Label,null,"Email address"),s.a.createElement(g.a.Control,{type:"email",placeholder:"Enter email"}),s.a.createElement(g.a.Text,{className:"text-muted"},"User Login")),s.a.createElement(g.a.Group,{controlId:"formBasicPassword"},s.a.createElement(g.a.Label,null,"Password"),s.a.createElement(g.a.Control,{type:"password",placeholder:"Password"})),s.a.createElement(p.a,{variant:"outline-success",type:"submit",className:"loginButton",size:"lg"},"Login"),s.a.createElement(p.a,{variant:"outline-warning",className:"loginButton",size:"lg"},s.a.createElement(u.c,{to:"/signup"},"Signup"))))),s.a.createElement(y.a,{className:"loginPageContainerRow2"},s.a.createElement(f.a,{className:"loginPageContainerCol2"},s.a.createElement(p.a,{variant:"outline-primary",onClick:this.startVerification},"Verify"),!0===this.state.verifying&&s.a.createElement(b,{canCancel:!0,canConfirm:!0,onCancel:this.closeVerification,onConfirm:this.verifyUser}))))}}]),a}(n.Component);It.contextType=E;var bt=It,Ct=function(e){var t=Object(n.useState)(new Date),a=Object(fe.a)(t,2);a[0],a[1];return s.a.createElement("div",{className:"CreateFormContainer"},e.title&&s.a.createElement("h4",{className:"signupTitle"},e.title),s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridRole"},s.a.createElement(g.a.Label,null,"Role"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"Instructor"),s.a.createElement("option",null,"User")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridEmail"},s.a.createElement(g.a.Label,null,"Email"),s.a.createElement(g.a.Control,{type:"email",placeholder:"Enter email"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPassword"},s.a.createElement(g.a.Label,null,"Password"),s.a.createElement(g.a.Control,{type:"password",placeholder:"Password"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridName"},s.a.createElement(g.a.Label,null,"Name"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Name"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridUsername"},s.a.createElement(g.a.Label,null,"Username"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Name"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPhone"},s.a.createElement(g.a.Label,null,"Phone"),s.a.createElement(g.a.Control,{type:"number",placeholder:"phone"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPhone2"},s.a.createElement(g.a.Label,null,"Phone2"),s.a.createElement(g.a.Control,{type:"number",placeholder:"phone2"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDob"},s.a.createElement(g.a.Label,null,"D.O.B"),s.a.createElement(g.a.Control,{type:"date",placeholder:"Date of Birth"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPublicCheckbox"},s.a.createElement(g.a.Label,null,"Public ?"),s.a.createElement(g.a.Control,{type:"checkbox",onChange:function(e){console.log(e.target.checked)}}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"Billing"),s.a.createElement("option",null,"Shipping"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressNumber"},s.a.createElement(g.a.Label,null,"Street No."),s.a.createElement(g.a.Control,{type:"number",placeholder:"addressNumber"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressStreet"},s.a.createElement(g.a.Label,null,"Street Name"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressStreet"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressTown"},s.a.createElement(g.a.Label,null,"Town"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressTown"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressCity"},s.a.createElement(g.a.Label,null,"City"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressCity"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressCountry"},s.a.createElement(g.a.Label,null,"Country"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addressCountry"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridAddressPostalCode"},s.a.createElement(g.a.Label,null,"postalCode"),s.a.createElement(g.a.Control,{type:"text",placeholder:"addresspostalCode"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridBio"},s.a.createElement(g.a.Label,null,"Bio"),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:"Bio"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),s.a.createElement("p",null,e.successText))))},At=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={role:null,success:"Signup!!",userAlert:null,overlay:!1,overlayStatus:"test",creating:!1},e.modalConfirmUserHandler=function(t){t.preventDefault(),e.setState({creating:!1,userAlert:"Signing you up...."});var a=t.target.formGridEmail.value,n=t.target.formGridPassword.value,s=t.target.formGridName.value,r=t.target.formGridUsername.value,i=t.target.formGridRole.value,o=!1;!0===t.target.formGridPublicCheckbox.checked&&(o=!0);var l=t.target.formGridDob.value,c=t.target.formGridPhone.value,d=t.target.formGridPhone2.value,u=t.target.formGridAddressType.value,m=t.target.formGridAddressNumber.value,p=t.target.formGridAddressStreet.value,h=t.target.formGridAddressTown.value,g=t.target.formGridAddressCity.value,y=t.target.formGridAddressCountry.value,f=t.target.formGridAddressPostalCode.value,E=t.target.formGridBio.value;if(0!==a.trim().length&&0!==n.trim().length&&0!==s.trim().length&&0!==r.trim().length&&0!==i.trim().length&&0!==l.trim().length&&0!==c.trim().length&&0!==d.trim().length&&0!==u.trim().length&&0!==m.trim().length&&0!==p.trim().length&&0!==h.trim().length&&0!==g.trim().length&&0!==y.trim().length&&0!==f.trim().length&&0!==E.trim().length){var v=e.context.token,S={query:'\n            mutation {createUser(\n              userInput:{\n                role:"'.concat(i,'",\n                name:"').concat(s,'",\n                password:"').concat(n,'",\n                username:"').concat(r,'",\n                dob:"').concat(l,'",\n                public:').concat(o,',\n                contactEmail:"').concat(a,'",\n                contactPhone:"').concat(c,'",\n                contactPhone2:"').concat(d,'",\n                addressType:"').concat(u,'",\n                addressNumber:').concat(m,',\n                addressStreet:"').concat(p,'",\n                addressTown:"').concat(h,'",\n                addressCity:"').concat(g,'",\n                addressCountry:"').concat(y,'",\n                addressPostalCode:"').concat(f,'",\n                bio:"').concat(E,'"\n              })\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n          ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json",Authorization:"Bearer "+v}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=t.data.createUser,n=JSON.stringify(Object(A.a)({},t.errors));"error"===JSON.stringify(t).slice(2,7)?e.setState({success:"Something went wrong!!!",userAlert:"Something went wrong!!!"+n}):e.setState({success:"Signup success...Proceed to login",userAlert:"Signup success...Proceed to login... your verification code is.."+a.verification.code})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.cancelSignup=function(){e.setState({creating:!1,role:null})},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{authUserId:this.context.userId,alert:this.state.userAlert}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(h.a,{className:"loginPageContainer"},s.a.createElement(y.a,{className:"loginPageContainerRow2"},s.a.createElement(f.a,{className:"loginPageContainerCol2"},s.a.createElement(Ct,{canCancel:!0,canConfirm:!0,onConfirm:this.modalConfirmUserHandler,onSubmit:this.modalConfirmUserHandler,confirmText:"Confirm",successText:this.state.success,onCancel:this.cancelSignup})))))}}]),a}(n.Component),Lt=(a(106),a(37)),wt=a(16);function kt(e){return s.a.createElement(u.a,null,s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Text,null,"ID: ",e._id),s.a.createElement(w.a.Text,null,"username: ",e.username),s.a.createElement(w.a.Text,null,"role: ",e.role),s.a.createElement(u.b,{to:"users/"+e.user.username},s.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(this,e._id)},"Details")),s.a.createElement(p.a,{variant:"secondary",onClick:e.onSelectNoDetail.bind(this,e.user)},"Select")))),s.a.createElement(m.d,null,s.a.createElement(m.b,{path:"users/:id",children:s.a.createElement(Nt,null)})))}function Nt(){return Object(m.g)().id}var Dt=function(e){var t=e.users.map((function(t){return s.a.createElement(kt,{key:t._id,user:t,authId:e.authId,_id:t._id,username:t.username,role:t.role,public:t.public,clientConnected:t.clientConnected,onDetail:e.onViewDetail,canReport:e.canReport,onReport:e.onReport,onSelectNoDetail:e.onSelectNoDetail,onSelectMessageReceiver:e.onSelectMessageReceiver,onFriendRequest:e.onFriendRequest})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Tt=function(e){var t=e.users.map((function(t){return s.a.createElement(kt,{key:t._id,user:t,authId:e.authId,_id:t._id,username:t.username,role:t.role,public:t.public,clientConnected:t.clientConnected,onDetail:e.onViewDetail,canReport:e.canReport,onReport:e.onReport,onSelectNoDetail:e.onSelectNoDetail,onSelectMessageReceiver:e.onSelectMessageReceiver,onFriendRequest:e.onFriendRequest})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},xt=function(e){var t=Object.assign({},e.receiver);return s.a.createElement("div",{className:"UpdateFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement("p",null,"Recipient: ",t.username)),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicTypeSelect"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type a"),s.a.createElement("option",null,"type j")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSubject"},s.a.createElement(g.a.Label,null,"Subject "),s.a.createElement(g.a.Control,{type:"text",placeholder:"Subject"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridMessage"},s.a.createElement(g.a.Label,null,"Message "),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:"Message"}))),s.a.createElement(g.a.Row,null,s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ft=(a(291),function(e){var t=Object.assign({},e.user),a=t.profileImages;console.log(a),console.log("user.clientConnected",t.clientConnected,"user.loggedIn",t.loggedIn);t.interests;return s.a.createElement("div",{className:"UserDetailBox1"},s.a.createElement(D.a,{defaultActiveKey:"Demographics",id:"uncontrolled-tab-example",className:"tab"},s.a.createElement(T.a,{eventKey:"Demographics",title:"Demographics"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,s.a.createElement("span",{className:"ul"},"User Details")),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},0!==a.length&&s.a.createElement(w.a.Img,{variant:"top",src:a[0].path}),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"ID:")," ",t._id),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Username:")," ",t.username),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Role:")," ",t.role),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Bio:")," ",t.bio),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"loggedIn:")," ",t.loggedIn.toString()),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"online:")," ",t.clientConnected.toString())),s.a.createElement(f.a,{className:"detailCardCol"})),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(p.a,{variant:"secondary",onClick:e.onFriendRequest.bind(void 0,e.user)},"RequsetFriend"),s.a.createElement(p.a,{variant:"info",onClick:e.onStartSendMessage.bind(void 0,e.user)},"Message"),s.a.createElement(p.a,{variant:"danger",onClick:e.onHideUserDetail},"x"),s.a.createElement(f.a,{className:"detailCardCol"},!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,t._id)},"Delete !!??"),!0===e.canReport&&s.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(void 0,t._id)},"Report!!??"))))),!0===e.creatingMessage&&null!==e.messageReceiver&&s.a.createElement(xt,{receiver:e.messageReceiver,onCancel:e.cancelMessage,onConfirm:e.sendMessage}))))}),Bt=function(e){return s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement("h5",{className:"attachmentViewerTitle"},"AttachmentViewer"),s.a.createElement(p.a,{variant:"danger",className:"attachmentViewerCloseButton",onClick:e.onCloseAttachmentView},"close"),s.a.createElement("a",{href:e.attachmentFile},s.a.createElement(p.a,{variant:"success"},"View the Attachment"))))},Rt=function(e){return s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement(Ft,{authId:e.authId,user:e.user,canReport:e.canReport,onReport:e.onReport,canDelete:e.canDelete,onDelete:e.onDelete,onFriendRequest:e.onFriendRequest,onStartSendMessage:e.onStartSendMessage,onHideUserDetail:e.onHideUserDetail,creatingMessage:e.creatingMessage,messageReceiver:e.messageReceiver,cancelMessage:e.cancelMessage,sendMessage:e.sendMessage})))},qt=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},s.a.createElement(g.a.Label,null,"Basic Field"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"public"),s.a.createElement("option",null,"loggedIn"),s.a.createElement("option",null,"clientConnected"),s.a.createElement("option",null,"dob"),s.a.createElement("option",null,"age"),s.a.createElement("option",null,"points"),s.a.createElement("option",null,"friends"),s.a.createElement("option",null,"bookedLessons.ref"),s.a.createElement("option",null,"likedLessons.ref"),s.a.createElement("option",null,"attendedLessons.ref")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicQuery"},s.a.createElement(g.a.Label,null,"Basic Query"),s.a.createElement(g.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},Ot=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},s.a.createElement(g.a.Label,null,"Regex Field"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"_id"),s.a.createElement("option",null,"username"),s.a.createElement("option",null,"role"),s.a.createElement("option",null,"contact.phone"),s.a.createElement("option",null,"contact.phone2"),s.a.createElement("option",null,"contact.email"),s.a.createElement("option",null,"socialMedia.platform"),s.a.createElement("option",null,"socialMedia.handle"),s.a.createElement("option",null,"tags"),s.a.createElement("option",null,"interests"),s.a.createElement("option",null,"bookedLessons.session.title")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicQuery"},s.a.createElement(g.a.Label,null,"Regex Query"),s.a.createElement(g.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},Gt=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={creating:!1,updating:!1,deleting:!1,searching:!1,user:null,users:[],searchUsers:[],isLoading:!1,isSorting:!1,selectedUser:null,detailsLoaded:!1,creatingMessage:!1,messageReceiver:null,userUpdateField:null,userSearchField:null,userSearchQuery:null,canDelete:null,canReport:!1,userAlert:null,overlay:!1,overlayStatus:"test",file:null,showDetail:!1,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9,activityA:null},e.isActive=!0,e.modalConfirmSearchBasicHandler=function(t){t.preventDefault();var a=e.context.activityId,n=e.context.token,s=null,r=t.target.formBasicQuery.value;if(s="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:s,userSearchQuery:r,searching:!1,userAlert:"Searching for User..."}),0!==s.trim().length&&0!==r.trim().length){var i={query:'\n        query {getUsersByField(\n          activityId:"'.concat(a,'",\n          field:"').concat(s,'",\n          query:"').concat(r,'"\n        )\n        {_id,role,username,public,clientConnected}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getUsersByField).slice(0,8),n=t.data.getUsersByField;e.setState({searchUsers:n,userAlert:a,activityA:i})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalConfirmSearchRegexHandler=function(t){t.preventDefault();var a=e.context.activityId,n=e.context.token,s=null,r=t.target.formBasicQuery.value;if(s="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:s,userSearchQuery:r,searching:!1,userAlert:"Searching for User..."}),0!==s.trim().length&&0!==r.trim().length){var i={query:'\n        query {getUsersByFieldRegex(\n          activityId:"'.concat(a,'",\n          field:"').concat(s,'",\n          query:"').concat(r,'"\n        )\n        {_id,role,username,public,clientConnected}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getUsersByFieldRegex).slice(0,8),n=t.data.getUsersByFieldRegex;n===[]?e.setState({userAlert:"... nothing found soz...",activityA:i}):e.setState({searchUsers:n,userAlert:a,activityA:i})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalCancelHandler=function(){e.setState({creating:!1,updating:!1,deleting:!1,searching:!1})},e.deleteListUser=function(e){console.log("delete listed user",e)},e.reportUser=function(e){console.log("reporting user",e)},e.startSendMessage=function(t){console.log("opening message form..."),e.setState({creatingMessage:!0,messageReceiver:{_id:t._id,username:t.username}})},e.cancelMessage=function(){e.setState({creatingMessage:!1})},e.sendMessage=function(t){t.preventDefault(),console.log(e.state.messageReceiver,t.target),e.setState({creatingMessage:!1,userAlert:"sending message..."});var a=e.context.activityId,n=a,s=e.state.messageReceiver._id,r=t.target.formBasicTypeSelect.value,i=t.target.formGridSubject.value,o=t.target.formGridMessage.value,l={query:'\n        mutation {createMessage(\n          activityId:"'.concat(a,'",\n          senderId:"').concat(n,'",\n          receiverId:"').concat(s,'",\n          messageInput:{\n            type:"').concat(r,'",\n            subject:"').concat(i,'",\n            message:"').concat(o,'"\n          })\n          {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){console.log(JSON.stringify(t.data.createMessage));var a=JSON.stringify(t.data.createMessage).slice(0,8);e.setState({userAlert:a,activityA:l})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.showDetailHandler=function(t){e.setState({isLoading:!0,userAlert:"Fetching User Details...",showDetail:!0});var a=e.context.activityId,n={query:'\n        query {getUserById(\n          activityId:"'.concat(a,'",\n          userId:"').concat(t,'"\n        )\n        {_id,role,username,public,clientConnected,loggedIn,age,bio,socialMedia{platform,handle,link},profileImages{name,type,path},interests,tags}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data.getUserById).slice(0,8);e.setState({userAlert:a,selectedUser:t.data.getUserById,detailsLoaded:!0,isLoading:!1,activityA:n}),e.context.selectedUser=e.state.selectedUser})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.selectUserNoDetail=function(t){e.setState({selectedUser:t}),e.context.selectedUser=t},e.hideDetailHandler=function(){e.setState({showDetail:!1,overlay:!1})},e.onFriendRequest=function(t){console.log("sending friend request...",t._id),e.setState({userAlert:"sending friend request..."});var a=e.context.activityId,n=a,s=t._id,r={query:'\n          mutation {sendFriendRequest(\n            activityId:"'.concat(a,'",\n            senderId:"').concat(n,'",\n            receiverId:"').concat(s,'"\n          )\n          {_id,role,username,public,clientConnected,friendRequests{date,sender{_id},receiver{_id}}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){console.log(JSON.stringify(t.data.sendFriendRequest.friendRequests));var a=JSON.stringify(t.data.sendFriendRequest).slice(0,8);e.setState({userAlert:a,activityA:r})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.onViewAttachment=function(t){e.setState({showAttachment:!0});var a="https://ent-emr-bucket.s3-us-east-2.amazonaws.com/"+t.path+"/"+t.name,n=t.format;e.setState({showThisAttachmentFile:a,showThisAttachmentType:n})},e.closeAttachmentView=function(){e.setState({showAttachment:!1})},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("...users component mounted..."),"Admin"===this.context.user.role&&this.setState({canDelete:!0}),"{}"!==JSON.stringify(this.context.selectedUser)&&this.setState({selectedUser:this.context.selectedUser}),this.fetchUsersBasic()}},{key:"fetchUsersBasic",value:function(){var e=this;this.setState({isLoading:!0,userAlert:"Fetching User Master List..."});var t=this.context.activityId,a={query:'\n          query {getAllUsers(\n            activityId:"'.concat(t,'"\n          )\n          {_id,role,username,public,clientConnected,loggedIn}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var n=JSON.stringify(t.data.getAllUsers).slice(0,8);e.setState({userAlert:n,users:t.data.getAllUsers,isLoading:!1,activityA:a}),e.context.users=e.state.users})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"userSearchClearlHandler",value:function(){this.setState({searchUsers:[],userAlert:"clearing user search results"})}},{key:"logUserActivity",value:function(){var e=this;console.log("logUserActivity..."),this.setState({userAlert:"logUserActivity..."});var t=this.context.activityId,a=t,n=this.context.token,s=(new Date,this.state.activityA),r={query:'\n          mutation {addUserActivity(\n            activityId:"'.concat(t,'",\n            userId:"').concat(a,'",\n            userInput:{\n              activityRequest:"').concat(s,'"\n            })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price,requirementsg}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserActivity).slice(2,25);e.setState({userAlert:a,user:t.data.addUserActivity}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,!0===this.state.showAttachment&&s.a.createElement(Bt,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),s.a.createElement(S,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.showDetail&&!0===this.state.detailsLoaded&&s.a.createElement(Rt,{user:this.state.selectedUser,onHideUserDetail:this.hideDetailHandler,canDelete:this.state.canDelete,onDelete:this.deleteListUser,canReport:this.state.canReport,onReport:this.reportUser,onFriendRequest:this.onFriendRequest,onStartSendMessage:this.startSendMessage,creatingMessage:this.state.creatingMessage,messageReceiver:this.state.messageReceiver,cancelMessage:this.cancelMessage,sendMessage:this.sendMessage}),s.a.createElement(I,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(Lt.a,null,s.a.createElement(y.a,null,s.a.createElement(f.a,{md:2,className:"MasterCol1"},s.a.createElement(N,{you:this.context.user,authId:this.context.activityId})),s.a.createElement(f.a,{md:this.state.mCol2Size,className:"MasterCol2"},s.a.createElement(h.a,{className:"containerCombinedDetail1"},s.a.createElement(T.a.Container,{id:"left-tabs-example",defaultActiveKey:"MasterList"},s.a.createElement(y.a,null,s.a.createElement(f.a,{sm:2,className:"userListSubMenuCol"},s.a.createElement(wt.a,{variant:"pills",className:"flex-column"},s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"MasterList"},"List")),s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"SearchInput"},"Search")))),s.a.createElement(f.a,{sm:10,className:"userListMainCol"},s.a.createElement(T.a.Content,null,s.a.createElement(T.a.Pane,{eventKey:"MasterList"},s.a.createElement(y.a,{className:"userListRow"},this.state.isLoading?s.a.createElement(L,null):s.a.createElement(Dt,{canReport:this.state.canReport,onReport:this.reportUser,users:this.state.users,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectUserNoDetail}))),s.a.createElement(T.a.Pane,{eventKey:"SearchInput"},s.a.createElement(h.a,{className:"containerSearchUserInput1"},s.a.createElement(y.a,{className:"searchUserRowForm1"},s.a.createElement(f.a,{md:10,className:"searchUserColForm"},s.a.createElement(D.a,{defaultActiveKey:"Field",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"Field",title:"Search by Field:"},s.a.createElement(Ot,{authUserId:this.context.userId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchRegexHandler,confirmText:"Search",user:this.context.selectedUser}),s.a.createElement(qt,{authUserId:this.context.userId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchBasicHandler,confirmText:"Search",user:this.context.selectedUser}))))),s.a.createElement(y.a,null,s.a.createElement(w.a,{className:"searchCard"},s.a.createElement(w.a.Body,{className:"searchCardBody"},s.a.createElement(w.a.Title,null,"This Search"),s.a.createElement(w.a.Text,null,"Field: ",this.state.userSearchField,"  ,   Query: ",this.state.userSearchQuery)))),s.a.createElement(y.a,{className:"searchListRow1"},this.state.searchUsers!==[]&&s.a.createElement(Tt,{canReport:this.state.canReport,onReport:this.reportUser,users:this.state.searchUsers,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectUserNoDetail})))))))))))))}}]),a}(n.Component);Gt.contextType=E;var Pt=Gt;function jt(e){return s.a.createElement(u.a,null,s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,e.title),s.a.createElement(w.a.Text,null,"_id: ",e._id),s.a.createElement(w.a.Text,null,"subtitle: ",e.subtitle),s.a.createElement(w.a.Text,null,"category: ",e.category),s.a.createElement(w.a.Text,null,"leadInstructorId: ",e.instructors[0]._id),s.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(this,e._id)},"Details"),e.onSelectNoDetail&&s.a.createElement(p.a,{variant:"primary",onClick:e.onSelectNoDetail.bind(this,e.lesson)},"Select"),!0===e.canReport&&s.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(this,e._id)},"Report")))))}var Mt=function(e){var t=e.lessons.map((function(t){return s.a.createElement(jt,{key:t._id,lesson:t,authId:e.authId,_id:t._id,title:t.title,subtitle:t.subtitle,category:t.category,instructors:t.instructors,gallery:t.gallery,schedule:t.schedule,sessions:t.sessions,onSelectNoDetail:e.onSelectNoDetail,onDetail:e.onViewDetail,canReport:e.canReport,onReport:e.onReport,puplic:e.public})}));return s.a.createElement("ul",{className:"user__list1_master"},t)},Ut=function(e){return s.a.createElement("li",{key:e.authId,className:"users__list-item_master"},s.a.createElement("div",null,s.a.createElement("p",{className:"userItemHeading"}," ID:"),s.a.createElement("p",{className:"userItemText"},e._id),s.a.createElement("p",{className:"userItemHeading"}," Title:"),s.a.createElement("p",{className:"userItemText"},e.title),s.a.createElement("p",{className:"userItemHeading"}," Category:"),s.a.createElement("p",{className:"userItemText"},e.category)),s.a.createElement("div",null,s.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(void 0,e._id)},"Details"),e.onSelectNoDetail&&s.a.createElement(p.a,{variant:"primary",onClick:e.onSelectNoDetail.bind(void 0,e.lesson)},"Select")))},Jt=function(e){var t=e.lessons.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ut,{key:t._id,lesson:t,userId:e.authUserId,_id:t._id,title:t.title,subtitle:t.subtitle,category:t.category,instructors:t.instructors,gallery:t.gallery,schedule:t.schedule,sessions:t.sessions,onDetail:e.onViewDetail,onSelectNoDetail:e.onSelectNoDetail,canReport:e.canReport,onReport:e.onReport}))}));return s.a.createElement("ul",{className:"user__list1_master"},t)},zt=(a(145),function(e){var t=Object.assign({},e.lesson),a=Object.assign({},e.user),n=!1;a.likedLessons!==[]&&(n=a.likedLessons.map((function(e){return e._id})).includes(t._id.toString()));var r=t.instructors.map((function(e){return e._id})).includes(e.authId);return!0===r&&!0,s.a.createElement("div",{className:"UserDetailBox1"},s.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example",className:"tab"},s.a.createElement(T.a,{eventKey:"Basic",title:"Basic"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,s.a.createElement("span",{className:"ul"},"Lesson Details")),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},!0===r&&s.a.createElement(w.a.Text,null,"Your lesson"),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"ID:")," ",t._id),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Title:")," ",t.title),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Subtitle:")," ",t.subtitle),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Type:")," ",t.type),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Category:")," ",t.category),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Sku:")," ",t.sku),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Price:")," ",t.price),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Description:")," ",t.description)),s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Main Instructor:")),s.a.createElement(w.a.Text,null,"ID: ",t.instructors[0]._id),s.a.createElement(w.a.Text,null,"Username: ",t.instructors[0].username),s.a.createElement(w.a.Text,null,"Contact"),s.a.createElement(w.a.Text,null,"Email: ",t.instructors[0].contact.email))),s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Schedule"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleSchedule},"show/hide"),!0===e.showScheduleState&&s.a.createElement(Ke,{lessonSchedule:t.schedule}))),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onHideLessonDetail},"x"),!0!==n&&s.a.createElement(p.a,{variant:"danger",onClick:e.onLikeLesson.bind(void 0,t._id)},"Like"),!0===e.canDelete&&s.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,t._id)},"Delete !!??"),!0===e.canReport&&s.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(void 0,t._id)},"Report!!??")))))),s.a.createElement(T.a,{eventKey:"sessions",title:"sessions"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,"Sessions:"),s.a.createElement(p.a,{variant:"primary",onClick:e.onSessionLoad.bind(void 0,t._id)},"See Sessions"),s.a.createElement(p.a,{variant:"danger",onClick:e.onHideSessions},"x"),!0===e.sessionsLoaded&&s.a.createElement(He,{isInstructor:r,lessonSessions:t.sessions,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson,showSessionBooked:e.showSessionBooked,showSessionAttended:e.showSessionAttended,hideSessionBooked:e.hideSessionBooked,hideSessionAttended:e.hideSessionAttended,sessionBookedState:e.sessionBookedState,sessionAttendedState:e.sessionAttendedState}),!0===r&&s.a.createElement(p.a,{variant:"primary",onClick:e.startCreateSession.bind(void 0,t._id)},"New Session"),!0===e.creatingSession&&!0===r&&s.a.createElement(lt,{authId:e.authId,onCancel:e.cancelCreateSession,onConfirm:e.createLessonSession})))))),s.a.createElement(T.a,{eventKey:"materials/requirements",title:"materials/requirements"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Requirements"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleRequirements},"Show/Hide"),!0===r&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"requirements")},"Add"),"requirements"===e.lessonAddField&&s.a.createElement(ut,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonRequirements}),!0===e.showRequirementsState&&s.a.createElement($e,{lessonRequirements:t.requirements,canDelete:!0,onDelete:e.deleteLessonRequirement}))),s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Materials"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleMaterials},"Show/Hide"),!0===r&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"materials")},"Add"),"materials"===e.lessonAddField&&s.a.createElement(mt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonMaterials}),!0===e.showMaterialsState&&s.a.createElement(Ze,{lessonMaterials:t.materials,canDelete:!0,onDelete:e.deleteLessonMaterial})))))),s.a.createElement(T.a,{eventKey:"images",title:"images"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Images"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleImages},"Show/Hide"),!0===r&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"images")},"Add"),"images"===e.lessonAddField&&s.a.createElement(ht,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonImage}),!0===e.showImagesState&&s.a.createElement(nt,{lessonImages:t.gallery,canDelete:!0,onDelete:e.deleteLessonImage})))))),s.a.createElement(T.a,{eventKey:"files",title:"files"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Files"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleFiles},"Show/Hide"),!0===r&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"files")},"Add"),"files"===e.lessonAddField&&s.a.createElement(gt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonFile}),!0===e.showFilesState&&s.a.createElement(rt,{lessonFiles:t.files,canDelete:!0,onDelete:e.deleteLessonFile})))))),s.a.createElement(T.a,{eventKey:"instructors",title:"instructors"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Instructors"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleInstructors},"Show/Hide"),!0===r&&"{}"===JSON.stringify(e.selectedInstructor)&&s.a.createElement(p.a,{variant:"warning"},"Select an Instructor to Add"),!0===r&&"{}"!==JSON.stringify(e.selectedInstructor)&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"instructors")},"Add"),"instructors"===e.lessonAddField&&s.a.createElement(yt,{selectedInstructor:e.selectedInstructor,authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonInstructor}),!0===e.showInstructorsState&&s.a.createElement(Ye,{canDelete:!0,onDelete:e.deleteLessonInstructor,lessonInstructors:t.instructors})))))),s.a.createElement(T.a,{eventKey:"tags",title:"tags"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Tags"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleTags},"Show/Hide"),!0===r&&s.a.createElement(p.a,{variant:"danger",onClick:e.startLessonAdd.bind(void 0,"tags")},"Add"),"tags"===e.lessonAddField&&s.a.createElement(pt,{authId:e.authId,onCancel:e.cancelLessonAdd,onConfirm:e.addLessonTags}),!0===e.showTagsState&&s.a.createElement(tt,{lessonTags:t.tags,canDelete:!0,onDelete:e.deleteLessonTag})))))),s.a.createElement(T.a,{eventKey:"reviews",title:"reviews"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(y.a,null,s.a.createElement(f.a,null,s.a.createElement(w.a.Text,null,"Reviews"),s.a.createElement(p.a,{variant:"danger",onClick:e.toggleReviews},"Show/Hide"),!0===e.showReviewsState&&s.a.createElement(ot,{lessonReviews:t.reviews})))))),s.a.createElement(T.a,{eventKey:"edit",title:"edit"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,!0===r&&s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonBasic},"Edit Basic"),!0===e.editingLesson&&s.a.createElement(ct,{lesson:t,onCancel:e.cancelEditBasic,onConfirm:e.editLessonBasic}))),!0===r&&s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonField},"Edit Field"),!0===e.editingLessonField&&s.a.createElement(dt,{lesson:t,onCancel:e.cancelEditField,onConfirm:e.editLessonField}))))))))});function Ht(e){return console.log("boop",e.session),s.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},s.a.createElement(w.a,{style:{width:"18rem"}},s.a.createElement("p",null,"here"),s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,e.session.title),s.a.createElement(w.a.Text,null,"date: ",e.session.date),s.a.createElement(w.a.Text,null,"time: ",e.session.time))))}var Vt=function(e){return s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement(zt,{authId:e.authId,user:e.user,lesson:e.lesson,sessionsLoaded:e.sessionsLoaded,onSessionLoad:e.onSessionLoad,onHideSessions:e.onHideSessions,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson,onHideLessonDetail:e.onHideLessonDetail,startCreateSession:e.startCreateSession,creatingSession:e.creatingSession,cancelCreateSession:e.cancelCreateSession,createLessonSession:e.createLessonSession,onStartEditLessonBasic:e.onStartEditLessonBasic,onStartEditLessonField:e.onStartEditLessonField,editingLesson:e.editingLesson,editingLessonField:e.editingLessonField,cancelEditBasic:e.cancelEditBasic,editLessonBasic:e.editLessonBasic,cancelEditField:e.cancelEditField,editLessonField:e.editLessonField,toggleSchedule:e.toggleSchedule,showScheduleState:e.showScheduleState,showSessionBooked:e.showSessionBooked,showSessionAttended:e.showSessionAttended,hideSessionBooked:e.hideSessionBooked,hideSessionAttended:e.hideSessionAttended,sessionBookedState:e.sessionBookedState,sessionAttendedState:e.sessionAttendedState,addSessionAttendance:e.addSessionAttendance,toggleInstructors:e.toggleInstructors,showInstructorsState:e.showInstructorsState,toggleRequirements:e.toggleRequirements,showRequirementsState:e.showRequirementsState,toggleMaterials:e.toggleMaterials,showMaterialsState:e.showMaterialsState,toggleReviews:e.toggleReviews,showReviewsState:e.showReviewsState,toggleTags:e.toggleTags,showTagsState:e.showTagsState,toggleImages:e.toggleImages,showImagesState:e.showImagesState,toggleFiles:e.toggleFiles,showFilesState:e.showFilesState,lessonAddField:e.lessonAddField,startLessonAdd:e.startLessonAdd,cancelLessonAdd:e.cancelLessonAdd,selectedInstructor:e.selectedInstructor,addLessonInstructor:e.addLessonInstructor,addLessonMaterials:e.addLessonMaterials,addLessonTags:e.addLessonTags,addLessonRequirements:e.addLessonRequirements,addLessonImage:e.addLessonImage,addLessonFile:e.addLessonFile,onLikeLesson:e.onLikeLesson,deleteLessonTag:e.deleteLessonTag,deleteLessonRequirement:e.deleteLessonRequirement,deleteLessonMaterial:e.deleteLessonMaterial,deleteLessonImage:e.deleteLessonImage,deleteLessonFile:e.deleteLessonFile,deleteLessonInstructor:e.deleteLessonInstructor})))},Kt=function(e){return s.a.createElement("div",{className:"CreateFormContainer"},e.title&&s.a.createElement("h4",{className:"signupTitle"},e.title),s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridTitle"},s.a.createElement(g.a.Label,null,"Title"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Title"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSubtitle"},s.a.createElement(g.a.Label,null,"Subtitle"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Subtitle"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDuration"},s.a.createElement(g.a.Label,null,"Duration"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Enter Duration"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridType"},s.a.createElement(g.a.Label,null,"Type"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"type a"),s.a.createElement("option",null,"type b"))),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridCategory"},s.a.createElement(g.a.Label,null,"Category"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"a_b_c_d"),s.a.createElement("option",null,"a_b_c_x"),s.a.createElement("option",null,"a_b_z"),s.a.createElement("option",null,"a_b_c_y")))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridSku"},s.a.createElement(g.a.Label,null,"Sku"),s.a.createElement(g.a.Control,{type:"text",placeholder:"Sku"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPrice"},s.a.createElement(g.a.Label,null,"Price"),s.a.createElement(g.a.Control,{type:"number",step:"0.01",placeholder:"Price"})),s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridPoints"},s.a.createElement(g.a.Label,null,"Points"),s.a.createElement(g.a.Control,{type:"number",placeholder:"Points"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridDescription"},s.a.createElement(g.a.Label,null,"Description"),s.a.createElement(g.a.Control,{as:"textarea",rows:"7",placeholder:"Description"}))),s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{as:f.a,controlId:"formGridNotes"},s.a.createElement(g.a.Label,null,"Notes"),s.a.createElement(g.a.Control,{as:"textarea",rows:"5",placeholder:"Notes"}))),s.a.createElement(g.a.Row,null,e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),s.a.createElement("p",null,e.successText))))},Qt=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},s.a.createElement(g.a.Label,null,"Regex Field"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"title"),s.a.createElement("option",null,"subtitle"),s.a.createElement("option",null,"type"),s.a.createElement("option",null,"category"),s.a.createElement("option",null,"sku"),s.a.createElement("option",null,"description"),s.a.createElement("option",null,"notes"),s.a.createElement("option",null,"duration"),s.a.createElement("option",null,"requirements"),s.a.createElement("option",null,"tags"),s.a.createElement("option",null,"materials"),s.a.createElement("option",null,"files.name"),s.a.createElement("option",null,"sessions.title")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicQuery"},s.a.createElement(g.a.Label,null,"Regex Query"),s.a.createElement(g.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},Yt=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},s.a.createElement(g.a.Label,null,"Basic Field"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"select"),s.a.createElement("option",null,"price"),s.a.createElement("option",null,"points"),s.a.createElement("option",null,"schedule.date"),s.a.createElement("option",null,"schedule.time"),s.a.createElement("option",null,"instructors"),s.a.createElement("option",null,"attendees"),s.a.createElement("option",null,"sessions.booked"),s.a.createElement("option",null,"sessions.attended"),s.a.createElement("option",null,"sessions.bookedAmount"),s.a.createElement("option",null,"sessions.attendedAmount"),s.a.createElement("option",null,"sessions.date"),s.a.createElement("option",null,"sessions.full"),s.a.createElement("option",null,"sessions.inProgress"),s.a.createElement("option",null,"sessions.limit"),s.a.createElement("option",null,"sessions.amount")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicQuery"},s.a.createElement(g.a.Label,null,"Basic Query"),s.a.createElement(g.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},Wt=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Label,null,"Lesson: ",e.lesson._id),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formGridSessionDate"},s.a.createElement(g.a.Label,null,"SessionDate"),s.a.createElement(g.a.Control,{type:"text",placeholder:"SessionDate"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formGridSessionTitle"},s.a.createElement(g.a.Label,null,"SessionTitle"),s.a.createElement(g.a.Control,{type:"text",placeholder:"SessionTitle"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},$t=(a(146),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={creating:!1,updating:!1,deleting:!1,searching:!1,user:null,users:[],lesson:null,lessons:[],searchLessons:[],searchSession:null,isLoading:!1,isSorting:!1,selectedLesson:null,lessonUpdateField:null,lessonSearchField:null,lessonSearchQuery:null,sessionsLoaded:!1,creatingSession:!1,editingLesson:!1,editingLessonField:!1,showScheduleState:!1,canDelete:null,canReport:null,userAlert:null,overlay:!1,overlayStatus:"test",file:null,showDetail:!1,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9,sessionBookedState:!1,sessionAttendedState:!1,activityA:null,showInstructorsState:!1,showRequirementsState:!1,showMaterialsState:!1,showTagsState:!1,showFilesState:!1,showImagesState:!1,showReviewsState:!1,lessonAddField:null},e.isActive=!0,e.modalConfirmSearchRegexHandler=function(t){t.preventDefault();var a=e.context.activityId,n=e.context.token,s=null,r=t.target.formBasicQuery.value;if(s="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:s,userSearchQuery:r,searching:!1,userAlert:"Searching for Lesson..."}),0!==s.trim().length&&0!==r.trim().length){var i={query:'\n        query {getLessonsByFieldRegex(\n          activityId:"'.concat(a,'",\n          field:"').concat(s,'",\n          query:"').concat(r,'")\n          {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username},attendees{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full,url},promos{_id}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getLessonsByFieldRegex).slice(0,8),n=t.data.getLessonsByFieldRegex;e.setState({searchLessons:n,userAlert:a,activityA:i})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalConfirmSearchBasicHandler=function(t){t.preventDefault();var a=e.context.activityId,n=e.context.token,s=null,r=t.target.formBasicQuery.value;if(s="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:s,userSearchQuery:r,searching:!1,userAlert:"Searching for Lesson..."}),0!==s.trim().length&&0!==r.trim().length){var i={query:'\n        query {getLessonsByField(\n          activityId:"'.concat(a,'",\n          field:"').concat(s,'",\n          query:"').concat(r,'")\n          {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username},attendees{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full,url},promos{_id}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getLessonsByField).slice(0,8),n=t.data.getLessonsByField;e.setState({searchLessons:n,userAlert:a,activityA:i})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalConfirmSearchSessionHandler=function(t){t.preventDefault();var a=e.context.activityId,n=e.context.token,s=e.state.selectedLesson._id,r=t.target.formGridSessionDate.value,i=t.target.formGridSessionTitle.value,o={query:'\n        query {getLessonSession(\n          activityId:"'.concat(a,'",\n          lessonId:"').concat(s,'",\n          lessonInput:{\n            sessionTitle:"').concat(i,'",\n            sessionDate:"').concat(r,'"\n          })\n          {title,date,time,limit,amount,bookedAmount,booked{_id,username},attendedAmount,attended{_id,username},inProgress,full,url,lessonId,lessonTitle,lessonInstructors,userId}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getLessonSession).slice(0,8),n=t.data.getLessonSession;e.setState({searchSession:n,userAlert:a,activityId:o})})).catch((function(t){e.setState({userAlert:t})}))},e.startCreateLesson=function(){e.setState({creating:!0})},e.createLessonHandler=function(t){e.setState({creating:!1});var a=e.context.activityId,n=a,s=e.context.token,r=t.target.formGridTitle.value,i=t.target.formGridSubtitle.value,o=t.target.formGridType.value,l=t.target.formGridCategory.value,c=t.target.formGridSku.value,d=t.target.formGridPrice.value,u=t.target.formGridPoints.value,m=t.target.formGridDescription.value,p=t.target.formGridNotes.value,h=t.target.formGridDuration.value,g={query:'\n        mutation {createLesson(\n          activityId:"'.concat(a,'",\n          creatorId:"').concat(n,'",\n          lessonInput:{\n            title:"').concat(r,'",\n            subtitle:"').concat(i,'",\n            type:"').concat(o,'",\n            category:"').concat(l,'",\n            price:').concat(d,",\n            points:").concat(u,',\n            description:"').concat(m,'",\n            notes:"').concat(p,'",\n            duration:"').concat(h,'",\n            sku:"').concat(c,'"\n          })\n        {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full},promos{_id}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.createLesson).slice(0,8);e.setState({lesson:t.data.createLesson,userAlert:a,activityA:g})})).catch((function(t){e.setState({userAlert:t})}))},e.onStartEditLessonBasic=function(){e.setState({editingLesson:!0})},e.onStartEditLessonField=function(){e.setState({editingLessonField:!0})},e.cancelEditBasic=function(){e.setState({editingLesson:!1})},e.cancelEditField=function(){e.setState({editingLessonField:!1})},e.editLessonBasic=function(t){t.preventDefault(),e.setState({editingLesson:!1});var a=e.context.activityId,n=e.state.selectedLesson._id,s=e.context.token,r=t.target.formGridTitle.value,i=t.target.formGridSubtitle.value,o=t.target.formGridDuration.value,l=t.target.formGridType.value,c=t.target.formGridCategory.value,d=t.target.formGridSku.value,u=t.target.formGridPrice.value,m=t.target.formGridPoints.value,p=t.target.formGridDescription.value,h=t.target.formGridNotes.value,g={query:'\n       mutation {updateLessonBasic(\n         activityId:"'.concat(a,'",\n         lessonId:"').concat(n,'",\n         lessonInput:{\n           title:"').concat(r,'",\n           subtitle:"').concat(i,'",\n           type:"').concat(l,'",\n           category:"').concat(c,'",\n           price:').concat(u,',\n           sku:"').concat(d,'",\n           points:').concat(m,',\n           description:"').concat(p,'",\n           notes:"').concat(h,'",\n           duration:"').concat(o,'"\n         })\n    {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags}}\n    ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.updateLessonBasic).slice(0,8);e.setState({lesson:t.data.updateLessonBasic,userAlert:a,activityA:g})})).catch((function(t){e.setState({userAlert:t})}))},e.editLessonField=function(t){t.preventDefault(),e.setState({editingLessonField:!1});var a=e.context.activityId,n=e.state.selectedLesson._id,s=e.context.token,r=t.target.formGridFieldSelect.value,i=t.target.formGridQuery.value,o={query:'\n         mutation {updateLessonByField(\n           activityId:"'.concat(a,'",\n           lessonId:"').concat(n,'",\n           field:"').concat(r,'",\n           query:"').concat(i,'"\n         )\n         {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full},promos{_id}}}\n          ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.updateLessonByField).slice(0,8);e.setState({lesson:t.data.updateLessonByField,userAlert:a,activityA:o})})).catch((function(t){e.setState({userAlert:t})}))},e.modalCancelHandler=function(){e.setState({creating:!1,updating:!1,deleting:!1,searching:!1})},e.loadSessions=function(t){console.log("retriving sessions for this lesson"),e.setState({userAlert:"retriving sessions for this lesson"});var a=e.context.activityId,n=e.state.selectedLesson._id,s={query:'\n        query {getLessonById(\n          activityId:"'.concat(a,'",\n          lessonId:"').concat(n,'"\n        )\n        {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{email,phone,phone2}},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full,url},promos{_id}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.getLessonById,isLoading:!1,sessionsLoaded:!0,activityId:s}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.hideSessions=function(){e.setState({sessionsLoaded:!1})},e.addCartLesson=function(t){console.log("adding lesson to cart"),e.setState({userAlert:"adding lesson to cart"});var a=e.context.activityId,n=a,s=e.state.selectedLesson._id,r=t.title,i=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10),o={query:'\n            mutation {addUserCartLesson(\n              activityId:"'.concat(a,'",\n              userId:"').concat(n,'",\n              lessonId:"').concat(s,'",\n              sessionDate:"').concat(i,'",\n              sessionTitle:"').concat(r,'"\n            )\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,isLoading:!1,activityA:o}),e.context.selectedUser=t.data.addUserCartLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.bookSession=function(t){console.log("booking lesson session"),e.setState({userAlert:"booking lesson session"});var a=e.context.activityId,n=a,s=e.state.selectedLesson._id,r=t.title,i=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10),o=t.time,l={query:'\n            mutation {addLessonBooking(\n              activityId:"'.concat(a,'",\n              lessonId:"').concat(s,'",\n              userId:"').concat(n,'",\n              lessonInput:{\n                sessionTitle:"').concat(r,'",\n                sessionDate:"').concat(i,'",\n                sessionTime:"').concat(o,'"\n              })\n            {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id},tags,sessions{title,date,time,limit,amount,booked{_id},bookedAmount,attended{_id},attendedAmount,inProgress,full},promos{_id}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=null;t.errors!==[]&&(a=t.errors[0].message,e.setState({userAlert:a})),null!==t.data.addLessonBooking&&(a=JSON.stringify(t.data).slice(0,8),e.setState({userAlert:a,selectedLesson:t.data.addLessonBooking,isLoading:!1,activityA:l}),e.context.selectedLesson=e.state.selectedLesson)})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.startCreateSession=function(t){e.setState({creatingSession:!0})},e.cancelCreateSession=function(){e.setState({creatingSession:!1})},e.createLessonSession=function(t){t.preventDefault(),console.log("creating new lesson session"),e.setState({userAlert:"creating new lesson session"});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridTitle.value,r=t.target.CalendarDate.value;r=new Date(r).toLocaleDateString().slice(0,10);var i=t.target.formGridTime.value,o=t.target.formGridLimit.value;console.log(r);var l={query:'\n          mutation {addLessonSession(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              sessionTitle:"').concat(s,'",\n              sessionDate:"').concat(r,'",\n              sessionTime:"').concat(i,'",\n              sessionLimit:').concat(o,",\n              sessionAmount:").concat(0,"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags,sessions{title,date,time,limit,inProgress,full}}}\n        ")};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonSession,isLoading:!1,creatingSession:!1,activityA:l}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.showSessionBooked=function(){e.setState({sessionBookedState:!0})},e.hideSessionBooked=function(){e.setState({sessionBookedState:!1})},e.hideSessionAttended=function(){e.setState({sessionAttendedState:!1})},e.deleteListLesson=function(e){console.log("delete listed lesson",e)},e.reportLesson=function(e){console.log("reporting lesson",e)},e.showDetailHandler=function(t){e.setState((function(a){var n=a.lessons.find((function(e){return e._id===t}));return e.context.selectedLesson=n,e.setState({selectedLesson:n,showDetail:!0}),{selectedLesson:n}}))},e.selectLessonNoDetail=function(t){e.setState({selectedLesson:t}),e.context.selectedLesson=t},e.hideDetailHandler=function(){e.setState({showDetail:!1,overlay:!1})},e.onViewAttachment=function(t){e.setState({showAttachment:!0});var a="https://ent-emr-bucket.s3-us-east-2.amazonaws.com/"+t.path+"/"+t.name,n=t.format;e.setState({showThisAttachmentFile:a,showThisAttachmentType:n})},e.closeAttachmentView=function(){e.setState({showAttachment:!1})},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e.toggleInstructors=function(){!1===e.state.showInstructorsState?e.setState({showInstructorsState:!0}):e.setState({showInstructorsState:!1})},e.toggleSchedule=function(){!1===e.state.showScheduleState?e.setState({showScheduleState:!0}):e.setState({showScheduleState:!1})},e.toggleRequirements=function(){!1===e.state.showRequirementsState?e.setState({showRequirementsState:!0}):e.setState({showRequirementsState:!1})},e.toggleMaterials=function(){!1===e.state.showMaterialsState?e.setState({showMaterialsState:!0}):e.setState({showMaterialsState:!1})},e.toggleTags=function(){!1===e.state.showTagsState?e.setState({showTagsState:!0}):e.setState({showTagsState:!1})},e.toggleImages=function(){!1===e.state.showImagesState?e.setState({showImagesState:!0}):e.setState({showImagesState:!1})},e.toggleFiles=function(){!1===e.state.showFilesState?e.setState({showFilesState:!0}):e.setState({showFilesState:!1})},e.toggleReviews=function(){!1===e.state.showReviewsState?e.setState({showReviewsState:!0}):e.setState({showReviewsState:!1})},e.startLessonAdd=function(t){e.setState({lessonAddField:t})},e.cancelLessonAdd=function(t){e.setState({lessonAddField:null})},e.addLessonMaterials=function(t){t.preventDefault(),e.setState({userAlert:"...adding lesson materials...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridMaterials.value,r={query:'\n          mutation {addLessonMaterials(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              materials: "').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonMaterials,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.addLessonTags=function(t){t.preventDefault(),console.log("...adding lesson tags..."),e.setState({userAlert:"...adding lesson tags...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridTags.value,r={query:'\n          mutation {addLessonTags(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              tags: "').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonTags,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.addLessonRequirements=function(t){t.preventDefault(),e.setState({userAlert:"...adding lesson requirements ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridRequirements.value,r={query:'\n          mutation {addLessonRequirements(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              requirements: "').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonRequirements,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.addLessonImage=function(t){t.preventDefault(),console.log("...adding lesson Images ..."),e.setState({userAlert:"...adding lesson Images ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridImagename.value,r=t.target.formGridImagetype.value,i=t.target.formGridImagepath.value,o={query:'\n          mutation {addLessonImage(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              imageName: "').concat(s,'"\n              imageType: "').concat(r,'"\n              imagePath: "').concat(i,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonImage,activityA:o}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.addLessonFile=function(t){t.preventDefault(),e.setState({userAlert:"...adding lesson Files ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.target.formGridFilename.value,r=t.target.formGridFilesize.value,i=t.target.formGridFiletype.value,o=t.target.formGridFilepath.value,l={query:'\n          mutation {addLessonFile(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              fileName: "').concat(s,'"\n              fileType: "').concat(r,'"\n              fileSize: "').concat(i,'"\n              filePath: "').concat(o,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonFile,activityA:l}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.addLessonInstructor=function(t){t.preventDefault(),console.log("...adding lesson instructor ..."),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.context.selectedUser._id,s=e.state.selectedLesson._id,r={query:'\n          mutation {addLessonInstructor(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(s,'"\n            instructorId: "').concat(n,'")\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonInstructor,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.likeLesson=function(t){e.setState({userAlert:"...adding lesson like..."});var a=e.context.activityId,n=a,s=e.state.selectedLesson._id,r={query:'\n          mutation {addUserLikedLesson(\n            activityId:"'.concat(a,'",\n            userId: "').concat(n,'",\n            lessonId:"').concat(s,'",)\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,name,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path},socialMedia{platform,handle,link}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title,author{_id,username},lesson{_id,title},body,rating},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username},subject,message,read},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){JSON.stringify(t.data).slice(0,8);e.context.user=t.data.addUserLikedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonTag=function(t){console.log("...deleting lesson tag...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t,r={query:'\n          mutation {deleteLessonTag(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              tag:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){console.log(t.data.deleteLessonTag);var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonTag,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonRequirement=function(t){console.log("...deleting lesson requirement...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t,r={query:'\n          mutation {deleteLessonRequirement(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              requirement:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonRequirement,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonMaterial=function(t){console.log("...deleting lesson material...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t,r={query:'\n          mutation {deleteLessonMaterial(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              material:"').concat(s,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonMaterial,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonImage=function(t){console.log("...deleting lesson image...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.name,r=t.type,i=t.path,o={query:'\n          mutation {deleteLessonImage(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              imageName: "').concat(s,'",\n              imageType: "').concat(r,'",\n              imagePath: "').concat(i,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonImage,activityA:o}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonFile=function(t){console.log("...deleting lesson file...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t.name,r=t.type,i=t.size,o=t.path,l={query:'\n          mutation {deleteLessonFile(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              fileName: "').concat(s,'",\n              fileType: "').concat(r,'",\n              fileSize: "').concat(i,'",\n              filePath: "').concat(o,'"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonFile,activityA:l}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteLessonInstructor=function(t){console.log("...deleting lesson instructor...",t),e.setState({userAlert:"...adding lesson instructor ...",lessonAddField:null});var a=e.context.activityId,n=e.state.selectedLesson._id,s=t._id,r={query:'\n          mutation {deleteLessonInstructor(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            instructorId: "').concat(s,'"\n          )\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.deleteLessonInstructor,activityA:r}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"Admin"===this.context.role&&this.setState({canDelete:!0}),"{}"!==JSON.stringify(this.context.selectedLesson)&&this.setState({selectedLesson:this.context.selectedLesson}),this.fetchLessonsBasic()}},{key:"fetchLessonsBasic",value:function(){var e=this,t=this.context.activityId;this.setState({isLoading:!0,userAlert:"Fetching Lesson Master List..."});var a={query:'\n        query {getAllLessons(activityId:"'.concat(t,'")\n        {_id,title,subtitle,type,category,price,sku,points,description,notes,requirements,materials,duration,files{name,type,size,path},gallery{name,type,path},schedule{date,time},gallery{name,type,path},instructors{_id,username,contact{phone,phone2,email},socialMedia{platform,handle,link},profileImages{name,type,path}},tags,reviews{_id,title,type,author{_id,username},lesson{_id,title},body,rating}}}\n        ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var n=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:n,lessons:t.data.getAllLessons,isLoading:!1,activityId:a}),e.context.lessons=e.state.lessons})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"userSearchClearlHandler",value:function(){this.setState({searchUsers:[],userAlert:"clearing user search results"})}},{key:"logUserActivity",value:function(){var e=this;console.log("logUserActivity..."),this.setState({userAlert:"logUserActivity..."});var t=this.context.activityId,a=t,n=this.context.token,s=(new Date,this.state.activityA),r={query:'\n          mutation {addUserActivity(\n            activityId:"'.concat(t,'",\n            userId:"').concat(a,'",\n            userInput:{\n              activityRequest:"').concat(s,'"\n            })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title,time},ref{_id,title,category,price,requirementsg}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserActivity).slice(2,25);e.setState({userAlert:a,user:t.data.addUserActivity}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,!0===this.state.showAttachment&&s.a.createElement(Bt,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),s.a.createElement(S,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.showDetail&&s.a.createElement(Vt,{authId:this.context.activityId,user:this.context.user,lesson:this.state.selectedLesson,onHideLessonDetail:this.hideDetailHandler,sessionsLoaded:this.state.sessionsLoaded,onSessionLoad:this.loadSessions,onHideSessions:this.hideSessions,onBookSession:this.bookSession,onAddCartLesson:this.addCartLesson,startCreateSession:this.startCreateSession,creatingSession:this.state.creatingSession,cancelCreateSession:this.cancelCreateSession,createLessonSession:this.createLessonSession,onStartEditLessonBasic:this.onStartEditLessonBasic,onStartEditLessonField:this.onStartEditLessonField,editingLesson:this.state.editingLesson,editingLessonField:this.state.editingLessonField,cancelEditBasic:this.cancelEditBasic,cancelEditField:this.cancelEditField,editLessonBasic:this.editLessonBasic,editLessonField:this.editLessonField,showScheduleState:this.state.showScheduleState,toggleSchedule:this.toggleSchedule,showSessionBooked:this.showSessionBooked,showSessionAttended:this.showSessionAttended,hideSessionBooked:this.hideSessionBooked,hideSessionAttended:this.hideSessionAttended,sessionBookedState:this.state.sessionBookedState,sessionAttendedState:this.state.sessionAttendedState,toggleInstructors:this.toggleInstructors,showInstructorsState:this.state.showInstructorsState,toggleRequirements:this.toggleRequirements,showRequirementsState:this.state.showRequirementsState,toggleMaterials:this.toggleMaterials,showMaterialsState:this.state.showMaterialsState,toggleReviews:this.toggleReviews,showReviewsState:this.state.showReviewsState,toggleTags:this.toggleTags,showTagsState:this.state.showTagsState,toggleImages:this.toggleImages,showImagesState:this.state.showImagesState,toggleFiles:this.toggleFiles,showFilesState:this.state.showFilesState,startLessonAdd:this.startLessonAdd,cancelLessonAdd:this.cancelLessonAdd,lessonAddField:this.state.lessonAddField,addLessonMaterials:this.addLessonMaterials,addLessonRequirements:this.addLessonRequirements,addLessonTags:this.addLessonTags,addLessonImage:this.addLessonImage,addLessonFile:this.addLessonFile,selectedInstructor:this.context.selectedUser,addLessonInstructor:this.addLessonInstructor,onLikeLesson:this.likeLesson,deleteLessonTag:this.deleteLessonTag,deleteLessonRequirement:this.deleteLessonRequirement,deleteLessonMaterial:this.deleteLessonMaterial,deleteLessonImage:this.deleteLessonImage,deleteLessonFile:this.deleteLessonFile,deleteLessonInstructor:this.deleteLessonInstructor}),s.a.createElement(I,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(Lt.a,null,s.a.createElement(y.a,null,s.a.createElement(f.a,{md:2,className:"MasterCol1"},s.a.createElement(N,{you:this.context.user,authId:this.context.activityId})),s.a.createElement(f.a,{md:this.state.mCol2Size,className:"MasterCol2"},s.a.createElement(h.a,{className:"containerCombinedDetail1"},s.a.createElement(T.a.Container,{id:"left-tabs-example",defaultActiveKey:"MasterList"},s.a.createElement(y.a,null,s.a.createElement(f.a,{sm:2,className:"userListSubMenuCol"},s.a.createElement(wt.a,{variant:"pills",className:"flex-column"},s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"MasterList"},"List")),s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"SearchInput"},"Search")),s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"Create"},"+ Lesson")))),s.a.createElement(f.a,{sm:10,className:"userListMainCol"},s.a.createElement(T.a.Content,null,this.state.lessons!==[]&&s.a.createElement(T.a.Pane,{eventKey:"MasterList"},s.a.createElement(y.a,{className:"userListRow"},this.state.isLoading?s.a.createElement(L,null):s.a.createElement(Mt,{canReport:this.state.canReport,onReport:this.reportLesson,lessons:this.state.lessons,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectLessonNoDetail}))),s.a.createElement(T.a.Pane,{eventKey:"SearchInput"},s.a.createElement(h.a,{className:"containerSearchUserInput1"},s.a.createElement(y.a,{className:"searchUserRowForm1"},s.a.createElement(f.a,{md:10,className:"searchUserColForm"},s.a.createElement(D.a,{defaultActiveKey:"Field",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"Field",title:"Search by Field:"},s.a.createElement(Qt,{authId:this.context.activityId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchRegexHandler,confirmText:"Search"}),s.a.createElement(Yt,{authId:this.context.activityId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchBasicHandler,confirmText:"Search"})),s.a.createElement(T.a,{eventKey:"Session",title:"Search Session"},null===this.state.selectedLesson&&s.a.createElement("p",null,"Select a lesson 1st"),null!==this.state.selectedLesson&&s.a.createElement(Wt,{authId:this.context.activityId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchSessionHandler,lesson:this.state.selectedLesson,confirmText:"Search"}),null!==this.state.searchSession&&s.a.createElement(Ht,{authId:this.context.activityId,session:this.state.searchSession}))))),s.a.createElement(y.a,null,s.a.createElement(w.a,{className:"searchCard"},s.a.createElement(w.a.Body,{className:"searchCardBody"},s.a.createElement(w.a.Title,null,"This Search"),s.a.createElement(w.a.Text,null,"Field: ",this.state.lessonSearchField,"  ,   Query: ",this.state.lessonSearchQuery)))),s.a.createElement(y.a,{className:"searchListRow1"},this.state.searchLessons!==[]&&s.a.createElement(Jt,{lessons:this.state.searchLessons,canReport:this.state.canReport,onReport:this.reportLesson,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectLessonNoDetail})))),s.a.createElement(T.a.Pane,{eventKey:"Create"},s.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:this.startCreateLesson},"+ Lesson"),s.a.createElement(y.a,{className:"userListRow"},!0===this.state.creating&&s.a.createElement(Kt,{authId:this.context.activityId,creator:this.context.user,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.createLessonHandler}))))))))))))}}]),a}(n.Component));$t.contextType=E;var Xt=$t,Zt=function(e){var t=Object.assign({},e.lesson);return s.a.createElement("div",{className:"UserDetailBox1"},s.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example",className:"tab"},s.a.createElement(T.a,{eventKey:"Basic",title:"Basic"},s.a.createElement(w.a,{className:"UserDetailCard"},s.a.createElement(w.a.Body,null,s.a.createElement(w.a.Title,null,s.a.createElement("span",{className:"ul"},"Lesson Details")),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"ID:")," ",t._id),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Title:")," ",t.title),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Subtitle:")," ",t.subtitle),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Type:")," ",t.type),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Category:")," ",t.category),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Price:")," ",t.price),s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Description:")," ",t.description)),s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(w.a.Text,null,s.a.createElement("span",{className:"bold"},"Main Instructor:"),t.instructors[0]._id,t.instructors[0].username),s.a.createElement(p.a,{variant:"danger",onClick:e.showSchedule},"See dates"),s.a.createElement(p.a,{variant:"danger",onClick:e.hideSchedule},"Hide dates"),!0===e.showScheduleState&&s.a.createElement(Ke,{lessonSchedule:t.schedule}))),s.a.createElement(y.a,{className:"detailCardRow"},s.a.createElement(f.a,{className:"detailCardCol"},s.a.createElement(p.a,{variant:"danger",onClick:e.onHideLessonDetail},"x"))))))))},ea=function(e){return s.a.createElement("div",{className:"attachmentViewerBg"},s.a.createElement("div",{className:"attachmentViewer"},s.a.createElement(Zt,{lesson:e.lesson,onHideLessonDetail:e.onHideLessonDetail,showSchedule:e.showSchedule,showScheduleState:e.showScheduleState,hideSchedule:e.hideSchedule})))},ta=function(e){return s.a.createElement("div",{className:"SearchFormContainer"},s.a.createElement(g.a,{onSubmit:e.onConfirm},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},s.a.createElement(g.a.Label,null,"Regex Field"),s.a.createElement(g.a.Control,{as:"select"},s.a.createElement("option",null,"title"),s.a.createElement("option",null,"type"),s.a.createElement("option",null,"category"),s.a.createElement("option",null,"description"),s.a.createElement("option",null,"duration"),s.a.createElement("option",null,"tags")),s.a.createElement(g.a.Text,{className:"text-muted"})),s.a.createElement(g.a.Group,{className:"searchInput",controlId:"formBasicQuery"},s.a.createElement(g.a.Label,null,"Regex Query"),s.a.createElement(g.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&s.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&s.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},aa=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={searching:!1,lesson:null,lessons:[],searchLessons:[],searchSession:null,isLoading:!1,isSorting:!1,selectedLesson:null,lessonSearchField:null,lessonSearchQuery:null,showSchedule:!1,canDelete:null,canReport:null,userAlert:null,overlay:!1,overlayStatus:"test",file:null,showDetail:!1,mCol1Size:3,mCol2Size:9,guestId:"5eGe76Ed7e3Ue422aSb2T60b"},e.isActive=!0,e.modalConfirmPublicSearchHandler=function(t){t.preventDefault();e.context.token;var a=t.target.formBasicFieldSelect.value,n=t.target.formBasicQuery.value;if(e.setState({userSearchField:a,userSearchQuery:n,searching:!1,userAlert:"Searching for Lesson..."}),0!==a.trim().length&&0!==n.trim().length){var s={query:'\n        query {getPublicLessonsByField(\n          field:"'.concat(a,'",\n          query:"').concat(n,'"\n        )\n        {_id,title,subtitle,type,category,price,points,description,duration,schedule{date,time},gallery{name,type,path},instructors{_id,username},tags}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getPublicLessonsByField).slice(0,8),n=t.data.getPublicLessonsByField;e.setState({searchLessons:n,userAlert:a})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalCancelHandler=function(){e.setState({searching:!1,selectedLesson:null})},e.showSchedule=function(){e.setState({showSchedule:!0})},e.hideSchedule=function(){e.setState({showSchedule:!1})},e.showDetailHandler=function(t){console.log("beep",t),e.setState((function(a){var n=a.lessons.find((function(e){return e._id===t}));return e.setState({selectedLesson:n,showDetail:!0}),{selectedLesson:n}}))},e.hideDetailHandler=function(){e.setState({showDetail:!1,overlay:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchLessonsPublic()}},{key:"fetchLessonsPublic",value:function(){var e=this;this.setState({isLoading:!0,userAlert:"Fetching Public Lesson Master List..."});fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify({query:"\n          query {getAllPublicLessons\n            {_id,title,subtitle,type,category,price,points,description,duration,schedule{date,time},gallery{name,type,path},instructors{_id,username},tags}}\n        "}),headers:{"Content-Type":"application/json"}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,lessons:t.data.getAllPublicLessons,isLoading:!1})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"userSearchClearlHandler",value:function(){this.setState({searchUsers:[],userAlert:"clearing lesson search results"})}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{authId:this.context.activityId,alert:this.state.guestId}),!0===this.state.showDetail&&s.a.createElement(ea,{lesson:this.state.selectedLesson,onHideLessonDetail:this.hideDetailHandler,showScheduleState:this.state.showSchedule,showSchedule:this.showSchedule,hideSchedule:this.hideSchedule}),!0===this.state.overlay&&s.a.createElement(_,{status:this.state.overlayStatus}),s.a.createElement(Lt.a,null,s.a.createElement(y.a,null,s.a.createElement(f.a,{md:this.state.mCol2Size,className:"MasterCol2"},s.a.createElement(h.a,{className:"containerCombinedDetail1"},s.a.createElement("h1",null,"Visitor lesson list"),s.a.createElement(T.a.Container,{id:"left-tabs-example",defaultActiveKey:"MasterList"},s.a.createElement(y.a,null,s.a.createElement(f.a,{sm:2,className:"userListSubMenuCol"},s.a.createElement(wt.a,{variant:"pills",className:"flex-column"},s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"FeaturedList"},"List")),s.a.createElement(wt.a.Item,null,s.a.createElement(wt.a.Link,{eventKey:"SearchInput"},"Search")))),s.a.createElement(f.a,{sm:10,className:"userListMainCol"},s.a.createElement(T.a.Content,null,s.a.createElement(T.a.Pane,{eventKey:"FeaturedList"},s.a.createElement(y.a,{className:"userListRow"},this.state.isLoading?s.a.createElement(L,null):s.a.createElement(Mt,{public:!0,canReport:this.state.canReport,onReport:this.reportLesson,lessons:this.state.lessons,onViewDetail:this.showDetailHandler}))),s.a.createElement(T.a.Pane,{eventKey:"SearchInput"},s.a.createElement(h.a,{className:"containerSearchUserInput1"},s.a.createElement(y.a,{className:"searchUserRowForm1"},s.a.createElement(f.a,{md:10,className:"searchUserColForm"},s.a.createElement(D.a,{defaultActiveKey:"Field",id:"uncontrolled-tab-example"},s.a.createElement(T.a,{eventKey:"Field",title:"Search by Field:"},s.a.createElement(ta,{canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmPublicSearchHandler,confirmText:"Search"}))))),s.a.createElement(y.a,null,s.a.createElement(w.a,{className:"searchCard"},s.a.createElement(w.a.Body,{className:"searchCardBody"},s.a.createElement(w.a.Title,null,"This Search"),s.a.createElement(w.a.Text,null,"Field: ",this.state.lessonSearchField,", Query: ",this.state.lessonSearchQuery)))),s.a.createElement(y.a,{className:"searchListRow1"},this.state.searchLessons!==[]&&s.a.createElement(Jt,{lessons:this.state.searchLessons,onViewDetail:this.showDetailHandler})))))))))))))}}]),a}(n.Component);aa.contextType=E;var na=aa,sa=(a(292),function(e){return s.a.createElement(E.Consumer,null,(function(e){return s.a.createElement("header",{className:"main-navigation"},s.a.createElement("div",{className:"main-navigation__logo"},s.a.createElement("h1",null,"My Couch Coach 0.0.1")),s.a.createElement("nav",{className:"main-navigation__items"},s.a.createElement("ul",null,!e.token&&s.a.createElement("li",null,s.a.createElement(u.c,{to:"/auth"},"Login")),!e.token&&s.a.createElement("li",null,s.a.createElement(u.c,{to:"/signup"},"Signup")),e.token&&s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(u.c,{to:"/userProfile"},"My Profile")),s.a.createElement("li",null,s.a.createElement(u.c,{to:"/users"},"Users")),s.a.createElement("li",null,s.a.createElement(u.c,{to:"/lessons"},"Lessons")),s.a.createElement("li",null,s.a.createElement("button",{onClick:e.logout},"Logout"))),!e.token&&s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(u.c,{to:"/lessons/public"},"Lessons"))))))}))}),ra=(a(293),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={token:null,activityId:null,role:null,context:n.context,sessionCookiePresent:!1},n.login=function(e,t,a,s){n.setState({token:e,activityId:t,role:a}),n.context.token=e,n.context.activityId=t,n.context.role=a},n.logout=function(){n.logout2()},n.sessionStorageAuth=null,n.socket=vt()("http://localhost:9099"),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(sessionStorage.getItem("login info")){var e=sessionStorage.getItem("login info");this.context.token=e.token,this.context.activityId=e.activityId,this.context.role=e.role,this.setState({sessionCookiePresent:!0,token:e.token})}this.context.activityId;this.socket.emit("unauthorizedClientConnect"),console.log("socket listening....")}},{key:"componentWillUnmount",value:function(){}},{key:"logout2",value:function(){var e=this;console.log("...logging you out...");var t=this.context.token,a=this.context.activityId,n={query:'\n        query{logout(\n          activityId:"'.concat(a,'")\n        {_id,loggedIn}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){e.setState({token:null,activityId:null,role:null,sessionCookiePresent:null}),sessionStorage.clear(),e.context={token:null,activityId:null,activityA:null,activityB:null,activityC:null,role:null,userId:null,user:{},users:[],selectedUser:null,lesson:{},lessons:[],selectedLesson:null,selectedPerk:null,selectedPromo:null,selectedReview:null,sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:e.login,logout:e.logout}})).catch((function(e){console.log(e)}))}},{key:"userOffline",value:function(){var e=this;console.log("...taking user offline...");var t=this.context.token,a=this.context.activityId,n={query:'\n      mutation{userOffline(\n        activityId:"'.concat(a,'",\n        userId:"').concat(a,'")\n      {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id},bookedLessons{date,ref{_id,title}},attendedLessons{date,ref{_id,title}},taughtLessons{date,ref{_id,title}},wishlist{date,ref{_id,title},booked},cart{dateAdded,sessionDate,lesson{_id,title}},comments{_id},messages{_id},orders{_id},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:8088/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){JSON.stringify(e.data.userOffline).slice(2,25)})).catch((function(t){e.setState({userAlert:t})}))}},{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(E.Provider,{value:{token:this.state.token,activityId:this.state.activityId,activityA:null,activityB:null,activityC:null,role:this.state.role,userId:null,user:{},users:[],selectedUser:{},lesson:{},lessons:[],selectedLesson:{},selectedPerk:{},selectedPromo:{},selectedReview:{},sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:this.login,logout:this.logout}},s.a.createElement(sa,{role:this.state.role}),s.a.createElement("main",{className:"main-content"},s.a.createElement(m.d,null,this.state.token&&s.a.createElement(m.a,{from:"/",to:"/userProfile",exact:!0}),this.state.token&&s.a.createElement(m.b,{path:"/userProfile",component:_t}),this.state.token&&s.a.createElement(m.b,{path:"/userProfile/LessonDetailViewer",component:ft}),this.state.token&&s.a.createElement(m.a,{from:"/login",to:"/userProfile",exact:!0}),this.state.token&&s.a.createElement(m.b,{path:"/users",component:Pt}),this.state.token&&s.a.createElement(m.b,{path:"/lessons",component:Xt}),!this.state.token&&s.a.createElement(m.b,{path:"/lessons/public",component:na}),!this.state.token&&s.a.createElement(m.b,{path:"/login",component:bt}),!this.state.token&&s.a.createElement(m.b,{path:"/signup",component:At}),!this.state.token&&s.a.createElement(m.a,{to:"/login",exact:!0}))))))}}]),a}(n.Component));ra.contextType=E;var ia=ra;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ia,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},55:function(e,t,a){}},[[152,1,2]]]);
//# sourceMappingURL=main.21dd1134.chunk.js.map