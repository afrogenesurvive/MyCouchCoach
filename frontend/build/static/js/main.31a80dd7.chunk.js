(this.webpackJsonpmy_couch_coach=this.webpackJsonpmy_couch_coach||[]).push([[0],{122:function(e,t,a){},128:function(e,t,a){},153:function(e,t,a){e.exports=a(296)},159:function(e,t,a){},160:function(e,t,a){},163:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},24:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},292:function(e,t){},295:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(60),i=a.n(s),l=(a(158),a(159),a(26)),o=a(27),c=a(28),d=a(29),u=a(31),m=a(50),p=a(3),y=a(33),h=a(1),f=a(13),g=a(4),E=(a(122),r.a.createContext({token:null,activityId:null,activityA:null,activityB:null,activityC:null,role:null,userId:null,user:{},users:[],selectedUser:{},lesson:{},lessons:[],selectedLesson:null,selectedPerk:null,selectedPromo:null,selectedReview:null,sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:function(e,t,a,n){},logout:function(){}})),v=a(152),_=(a(160),function(e){var t="Alerts shown here";return null!==e.alert&&(t='"'+e.alert+'"'),r.a.createElement("div",{className:"alertBox"},r.a.createElement(v.a,{variant:"warning"},r.a.createElement("p",{className:"alertBoxText"},t)))}),b=(a(71),function(e){return r.a.createElement("div",{className:"attachmentViewerBg"},r.a.createElement("div",{className:"loadingOverlay"},r.a.createElement("h5",{className:"attachmentViewerTitle"},"status : ",e.status," ...")))}),C=(a(163),function(e){return r.a.createElement("div",{className:"SidebarControl"},r.a.createElement(p.a,{className:"sidebarButton",variant:"success",onClick:e.onShowSidebar},"+"),r.a.createElement(p.a,{className:"sidebarButton",variant:"danger",onClick:e.onHideSidebar},"-"))}),S=(a(24),function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridEmail"},r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(h.a.Control,{type:"text",placeholder:"email"})),r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formGridType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"email")),r.a.createElement(h.a.Text,{className:"text-muted"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridCode"},r.a.createElement(h.a.Label,null,"Code"),r.a.createElement(h.a.Control,{type:"text",placeholder:"verification code"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))}),I=a(15),A=a(81),k=(a(165),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"lds-dual-ring"}))}),L=a(2),w=(a(166),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={authContext:E._currentValue,overlay:!1,overlayStatus:"test"},e.isActive=!0,e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"sidebarContainer"},r.a.createElement(f.a,{className:"sidebarRow1"},r.a.createElement(g.a,{md:12,className:""},r.a.createElement(L.a,{border:"primary",className:"sidebarCard"},r.a.createElement(L.a.Body,null,r.a.createElement(u.b,{to:"/userProfile"},"My Profile (User)"),r.a.createElement(L.a.Title,{className:"cardTitle"},"You"),r.a.createElement(L.a.Subtitle,{className:"mb-2"},"ID:"),r.a.createElement(L.a.Text,null,this.context.user._id),r.a.createElement(L.a.Subtitle,{className:"mb-2"},"Name:"),r.a.createElement(L.a.Text,null,this.context.user.name),r.a.createElement(L.a.Subtitle,{className:"mb-2"},"Role:"),r.a.createElement(L.a.Text,null,this.context.user.role))),r.a.createElement(L.a,{border:"secondary",className:"sidebarCard"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,{className:"cardTitle"},"Selection"),r.a.createElement(L.a.Subtitle,{className:"mb-2"},"User:"),r.a.createElement(L.a.Text,null,this.context.selectedUser._id),r.a.createElement(L.a.Text,null,this.context.selectedUser.username),r.a.createElement(L.a.Subtitle,{className:"mb-2"},"User:"),r.a.createElement(L.a.Text,null,this.context.selectedLesson._id),r.a.createElement(L.a.Text,null,this.context.selectedLesson.title)))))))}}]),a}(n.Component));w.contextType=E;var N=w,D=a(35),x=a(12),T=(a(18),function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"type: ",e.type),r.a.createElement(L.a.Text,null,"number: ",e.number),r.a.createElement(L.a.Text,null,"street: ",e.street),r.a.createElement(L.a.Text,null,"town: ",e.town),r.a.createElement(L.a.Text,null,"city: ",e.city),r.a.createElement(L.a.Text,null,"country: ",e.country),r.a.createElement(L.a.Text,null,"postalCode: ",e.postalCode),r.a.createElement(L.a.Text,null,"primary: ",e.primary.toString()),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.address)},"Delete")),r.a.createElement(L.a.Link,{href:""},r.a.createElement(p.a,{variant:"danger",onClick:e.makeAddressPrimary.bind(void 0,e.address)},"Make Primary")),r.a.createElement(L.a.Link,{href:""},!0===e.orderForm&&r.a.createElement(p.a,{variant:"danger",value:JSON.stringify(e.address),onClick:e.addToOrder.bind("x")},"Add to order"))))))}),G=(a(19),function(e){var t=e.userAddresses.map((function(t){return r.a.createElement(T,{key:t.path,authId:e.authId,type:t.type,number:t.number,street:t.street,town:t.town,city:t.city,country:t.country,postalCode:t.postalCode,primary:t.primary,address:t,onDelete:e.onDelete,canDelete:e.canDelete,orderForm:e.orderForm,addToOrder:e.addToOrder,makeAddressPrimary:e.makeAddressPrimary})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)}),B=a(45),F=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"cardUl"},r.a.createElement("li",null,r.a.createElement(B.a,{src:e.path,className:"profileImageImg",fluid:!0})),r.a.createElement("li",{className:"cardLi"},r.a.createElement("p",{className:"userItemText"},e.name))),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.profileImage)},"Delete"))))))},O=function(e){var t=e.userProfileImages.map((function(t){return r.a.createElement(F,{key:t.path,authId:e.authId,name:t.name,type:t.type,path:t.path,profileImage:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},P=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"cardUl"},r.a.createElement("li",{className:"cardLi"},r.a.createElement("p",{className:"userItemText"},e.platform)),r.a.createElement("li",{className:"cardLi"},r.a.createElement("p",{className:"userItemText"},e.handle)),r.a.createElement("li",{className:"cardLi"},r.a.createElement("p",{className:"userItemText"},e.link))),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.socialMediaAccount)},"Delete"))))))},R=function(e){var t=e.userSocialMedia.map((function(t){return r.a.createElement(P,{key:t.path,authId:e.authId,platform:t.platform,handle:t.handle,link:t.link,socialMediaAccount:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},q=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail1 users__list-item_detail"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"cardUl"},r.a.createElement("li",{className:"cardLi"},r.a.createElement(B.a,{src:e.imageLink,className:"profileImageImg",fluid:!0}),r.a.createElement("p",{className:"userItemHeading"}," date:"),r.a.createElement("p",{className:"userItemText"},e.date)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," name:"),r.a.createElement("p",{className:"userItemText"},e.name)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," description:"),r.a.createElement("p",{className:"userItemText"},e.description)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," createOrder:"),r.a.createElement("p",{className:"userItemText"},e.code))),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.perk)},"Delete"))))))},U=function(e){var t=e.userPerks.map((function(t){var a=0;return null!==t.date&&""!==t.date&&(a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10)),r.a.createElement(q,{key:t.description,authId:e.authId,name:t.name,date:a,description:t.description,code:t.code,imageLink:t.imageLink,perk:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},j=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail1 users__list-item_detail"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"cardUl"},r.a.createElement("li",{className:"cardLi"},r.a.createElement(B.a,{src:e.imageLink,className:"profileImageImg",fluid:!0}),r.a.createElement("p",{className:"userItemHeading"}," start/end Dates:"),r.a.createElement("p",{className:"userItemText"},e.startDate),r.a.createElement("p",{className:"userItemText"},e.endDate)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," name:"),r.a.createElement("p",{className:"userItemText"},e.name)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," type:"),r.a.createElement("p",{className:"userItemText"},e.type)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," description:"),r.a.createElement("p",{className:"userItemText"},e.description)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," code:"),r.a.createElement("p",{className:"userItemText"},e.code))),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.promo)},"Delete"))))))},M=function(e){var t=e.userPromos.map((function(t){var a=0;null!==t.startDate&&""!==t.startDate&&(a=new Date(1e3*t.startDate.substr(0,10)).toISOString().slice(0,10));var n=0;return null!==t.endDate&&""!==t.endDate&&(n=new Date(1e3*t.endDate.substr(0,10)).toISOString().slice(0,10)),r.a.createElement(j,{key:t._id,authId:e.authId,_id:t._id,name:t.name,type:t.type,valid:t.valid,startDate:a,endDate:n,description:t.description,code:t.code,imageLink:t.imageLink,promo:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},J=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail2 users__list-item_detail"},r.a.createElement("div",{className:"tag_card_body"},r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,e.interest),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.interest)},"Delete"))))))},z=function(e){var t=e.userInterests.map((function(t){return r.a.createElement(J,{key:t,authId:e.authId,interest:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},H=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail2"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,e.tag),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.tag)},"Delete"))))))},K=function(e){var t=e.userTags.map((function(t){return r.a.createElement(H,{key:t,authId:e.authId,tag:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},t)},V=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,e.username),r.a.createElement(L.a.Img,{variant:"top",src:e.profileImages[0].path}),r.a.createElement(L.a.Text,null,"_id: ",e._id),r.a.createElement(L.a.Text,null,"username: ",e.username),r.a.createElement(L.a.Text,null,"loggedIn: ",e.loggedIn.toString()),r.a.createElement(L.a.Text,null,"online: ",e.online.toString()),r.a.createElement(L.a.Link,{href:""},r.a.createElement(p.a,{variant:"primary",onClick:e.onSelect.bind(void 0,e.friend)},"Select")),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.friend)},"Delete")))))},Q=function(e){var t=e.userFriends.map((function(t){return r.a.createElement(V,{key:t._id,friend:t,_id:t._id,username:t.username,loggedIn:t.loggedIn,online:t.clientConnected,profileImages:t.profileImages,onSelect:e.onSelect,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},Y=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.date),r.a.createElement(L.a.Text,null,"Sender: ",e.sender._id,","),r.a.createElement(L.a.Text,null,"Receiver: ",e.receiver._id,","),r.a.createElement(L.a.Link,{href:""},r.a.createElement(p.a,{variant:"primary",onClick:e.onAccept.bind(void 0,e.friendRequest)},"Accept"),r.a.createElement(L.a.Link,{href:""},r.a.createElement(p.a,{variant:"danger",onClick:e.onReject.bind(void 0,e.friendRequest)},"Reject"))))))},W=function(e){var t=e.userFriendRequests.map((function(t){return r.a.createElement(Y,{key:t.sender._id,friendRequest:t,date:t.date,sender:t.sender,receiver:t.receiver,onAccept:e.onAccept,onReject:e.onReject})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},$=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"dateAdded: ",e.dateAdded),r.a.createElement(L.a.Text,null,"sessionDate: ",e.sessionDate),r.a.createElement(L.a.Text,null,"Lesson ID: ",e.lesson._id),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.cartItem)},"Delete")))))},X=function(e){var t=e.userCartItems.map((function(t){var a=new Date(1e3*t.dateAdded.substr(0,10)).toISOString().slice(0,10),n=new Date(1e3*t.sessionDate.substr(0,10)).toISOString().slice(0,10);return r.a.createElement($,{key:t.lesson,cartItem:t,authId:e.authId,lesson:t.lesson,dateAdded:a,sessionDate:n,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},Z=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.bookedLessonDate),r.a.createElement(L.a.Text,null,"Lesson:"),r.a.createElement(L.a.Text,null,"ID: ",e.ref),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.bookedLesson)},"Delete")))))},ee=function(e){var t=e.userBookedLessons.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(Z,{key:t.ref,bookedLesson:t,date:a,ref:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},te=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"Lesson:"),r.a.createElement(L.a.Text,null,"ID: ",e._id),r.a.createElement(L.a.Text,null,"Title: ",e.title),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.likedLesson)},"Delete")))))},ae=function(e){var t=e.userLikedLessons.map((function(t){return r.a.createElement(te,{key:t.ref,likedLesson:t,_id:t._id,title:t.title,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},ne=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.attendedLessonDate),r.a.createElement(L.a.Text,null,"Lesson:"),r.a.createElement(L.a.Text,null,"ID: ",e.ref),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.attendedLesson)},"Delete")))))},re=function(e){var t=e.userAttendedLessons.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(ne,{key:t.ref,bookedLesson:t,date:a,ref:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},se=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.taughtLessonDate),r.a.createElement(L.a.Text,null,"Lesson:"),r.a.createElement(L.a.Text,null,"ID: ",e.ref),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.taughtLesson)},"Delete")))))},ie=function(e){var t=e.userTaughtLessons.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(se,{key:t.ref,taughtLesson:t,date:a,ref:t.ref,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},le=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail1"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.date),r.a.createElement(L.a.Text,null,"type: ",e.type),r.a.createElement(L.a.Text,null,"description: ",e.description),r.a.createElement(L.a.Text,null,"body: ",e.body),r.a.createElement(L.a.Text,null,"primary: ",e.primary.toString()),r.a.createElement(L.a.Text,null,"valid: ",e.valid.toString()),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.paymentInfoItem)},"Delete"))))))},oe=function(e){var t=e.userPaymentInfo.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(le,{key:t.description,paymentInfoItem:t,date:a,type:t.type,description:t.description,body:t.body,valid:t.valid,primary:t.primary,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},ce=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"_id: ",e._id),r.a.createElement(L.a.Text,null,"date: ",e.date),r.a.createElement(L.a.Text,null,"time: ",e.time),r.a.createElement(L.a.Text,null,"type: ",e.type),r.a.createElement(L.a.Text,null,"total: ",e.totals.c),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e.order)},"Delete")))))},de=function(e){var t=e.userOrders.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return console.log(t.totals),r.a.createElement(ce,{key:t._id,order:t,_id:t._id,date:a,time:t.time,type:t.type,buyer:t.buyer,receiver:t.receiver,lessons:t.lessons,totals:t.totals,tax:t.tax,description:t.description,notes:t.notes,payment:t.payment,shipping:t.shipping,billingAddress:t.billingAddress,shippingAddress:t.shippingAddress,status:t.status,feedback:t.feedback,authId:e.authId,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},ue=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"ID: ",e._id),r.a.createElement(L.a.Text,null,"Date: ",e.date),r.a.createElement(L.a.Text,null,"Type: ",e.type),r.a.createElement(L.a.Text,null,"Body: ",e.body),r.a.createElement(L.a.Text,null,"Rating: ",e.rating))))},me=function(e){var t=e.userReviews.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(ue,{key:t._id,authId:e.authId,_id:t._id,date:a,type:t.type,body:t.body,rating:t.rating,review:t,lesson:t.lesson})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},pe=a(100),ye=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail2"},r.a.createElement("div",null,r.a.createElement(L.a,{className:"card"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,"Message"),r.a.createElement("ul",{className:"cardUl"},r.a.createElement("li",{className:"cardLi"},r.a.createElement("p",{className:"userItemHeading"}," date:"),r.a.createElement("p",{className:"userItemText"},e.date)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," sender:"),r.a.createElement("p",{className:"userItemText"},e.sender.role,": ",e.sender.ref)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," senderName:"),r.a.createElement("p",{className:"userItemText"},e.sender.username)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," receiver:"),r.a.createElement("p",{className:"userItemText"},e.receiver.role,": ",e.receiver.ref)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," receiverName:"),r.a.createElement("p",{className:"userItemText"},e.receiver.username)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," time:"),r.a.createElement("p",{className:"userItemText"},e.time)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," subject:"),r.a.createElement("p",{className:"userItemText"},e.subject)),r.a.createElement("li",null,r.a.createElement("p",{className:"userItemHeading"}," message:"),r.a.createElement("p",{className:"userItemText"},e.messageMessage))),r.a.createElement(L.a.Link,{href:""},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,e._id)},"Delete"))))))},he=function(e){var t=[],a=e.userMessages.map((function(e){return e.sender.ref})),n=e.userMessages.map((function(e){return e.receiver.ref})),s=[].concat(Object(pe.a)(a),Object(pe.a)(n));Object(pe.a)(new Set(s)).forEach((function(a,n){var r=e.userMessages.filter((function(e){return e.sender.ref===a||e.receiver.ref===a}));t.push({username:a,messages:r})}));var i=e.userMessages.map((function(t){return r.a.createElement(ye,{key:t.path,authId:e.authId,_id:t._id,date:t.date,time:t.time,subject:t.subject,messageMessage:t.message,sender:t.sender,receiver:t.receiver,message:t,onDelete:e.onDelete,canDelete:e.canDelete})}));return r.a.createElement("ul",{className:"user__list1_detail"},i)},fe=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"date: ",e.activityDate),r.a.createElement(L.a.Text,null,"Request: ",e.request))))},ge=function(e){var t=e.userActivity.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(fe,{key:t.request,activity:t,date:a,request:t.request,authId:e.authId})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},Ee=a(49),ve=(a(47),function(e){var t=Object.assign({},e.user),a=Object(n.useState)(new Date),s=Object(Ee.a)(a,2),i=(s[0],s[1],new Date(1e3*t.dob.substr(0,9)).toISOString().slice(0,10));return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridEmail"},r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(h.a.Control,{type:"email",placeholder:t.contact.email})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:t.password}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridName"},r.a.createElement(h.a.Label,null,"Name"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.name})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridUsername"},r.a.createElement(h.a.Label,null,"Username"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.username}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPhone"},r.a.createElement(h.a.Label,null,"Phone"),r.a.createElement(h.a.Control,{type:"number",placeholder:t.contact.phone})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPhone2"},r.a.createElement(h.a.Label,null,"Phone2"),r.a.createElement(h.a.Control,{type:"number",placeholder:t.contact.phone2}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDob"},r.a.createElement(h.a.Label,null,"D.O.B: ",i),r.a.createElement(h.a.Control,{type:"date",placeholder:t.dob}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBio"},r.a.createElement(h.a.Label,null,"Bio"),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:t.bio}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))}),_e=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridFieldSelect"},r.a.createElement(h.a.Label,null,"Field Options"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"contact.email"),r.a.createElement("option",null,"password"),r.a.createElement("option",null,"name"),r.a.createElement("option",null,"username"),r.a.createElement("option",null,"dob"),r.a.createElement("option",null,"contact.phone"),r.a.createElement("option",null,"contact.phone2"),r.a.createElement("option",null,"bio"),r.a.createElement("option",null,"points"),r.a.createElement("option",null,"verification.type"),r.a.createElement("option",null,"verification.verified"),r.a.createElement("option",null,"verification.code")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridQuery"},r.a.createElement(h.a.Label,null,"Query "),r.a.createElement(h.a.Label,null," (Date Format: YYYY-MM-DD) "),r.a.createElement(h.a.Control,{type:"text",placeholder:"Query"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},be=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"Billing"),r.a.createElement("option",null,"Shipping"))),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressNumber"},r.a.createElement(h.a.Label,null,"Street No."),r.a.createElement(h.a.Control,{type:"number",placeholder:"addressNumber"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressStreet"},r.a.createElement(h.a.Label,null,"Street Name"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressStreet"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressTown"},r.a.createElement(h.a.Label,null,"Town"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressTown"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressCity"},r.a.createElement(h.a.Label,null,"City"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressCity"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressCountry"},r.a.createElement(h.a.Label,null,"Country"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressCountry"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressPostalCode"},r.a.createElement(h.a.Label,null,"postalCode"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addresspostalCode"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ce=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridFilename"},r.a.createElement(h.a.Label,null,"Filename"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Filename"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridFiletype"},r.a.createElement(h.a.Label,null,"Filetype"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Filetype"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridFilepath"},r.a.createElement(h.a.Label,null,"Link Address"),r.a.createElement(h.a.Control,{type:"text",placeholder:"link address"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Se=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPlatform"},r.a.createElement(h.a.Label,null,"Platform"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Platform"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridHandle"},r.a.createElement(h.a.Label,null,"Handle"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Handle"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridLink"},r.a.createElement(h.a.Label,null,"Link"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Link"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ie=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridInterests"},r.a.createElement(h.a.Label,null,"Interests"),r.a.createElement(h.a.Control,{as:"textarea",rows:"12",placeholder:"interest, interest, interests"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ae=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTags"},r.a.createElement(h.a.Label,null,"Tags"),r.a.createElement(h.a.Control,{as:"textarea",rows:"12",placeholder:"tag, tag, tags"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},ke=a(44),Le=a.n(ke),we=function(e){var t=Object(n.useState)(new Date),a=Object(Ee.a)(t,2),s=a[0],i=a[1];return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:""},r.a.createElement(h.a.Label,null,"Date"),r.a.createElement(Le.a,{className:"",id:"paymentInfoDate",selected:s,onChange:function(e){i(e),console.log("PayInfoDate ".concat(s))}})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPaymentInfoType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type a"),r.a.createElement("option",null,"type 2")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDescription"},r.a.createElement(h.a.Label,null,"Description"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Description"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBody"},r.a.createElement(h.a.Label,null,"Body"),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:"Body"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPaymentInfoPrimaryCheckbox"},r.a.createElement(h.a.Label,null,"Primary"),r.a.createElement(h.a.Control,{type:"checkbox",onChange:function(e){console.log(e.target.checked)}}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ne=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPoints"},r.a.createElement(h.a.Label,null,"Points"),r.a.createElement(h.a.Control,{type:"number",placeholder:"point amount"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},De=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTags"},r.a.createElement(h.a.Label,null,"Add Perk Id: ",e.selectedPerk._id," to this user?"))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},xe=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTags"},r.a.createElement(h.a.Label,null,"Add Promo Id: ",e.selectedPromo._id," to this user?"))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Te=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTags"},r.a.createElement(h.a.Label,null,"Add Friend Id: ",e.requestingFriendId," to this user?"))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canCancelProfile&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ge=(a(225),function(e){return r.a.createElement("div",{className:"CreateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTypeSelect"},r.a.createElement(h.a.Label,null,"Message Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type 1"),r.a.createElement("option",null,"type 2"),r.a.createElement("option",null,"type 3"))),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSubject"},r.a.createElement(h.a.Label,null,"Subject"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Subject"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridReceiver"},r.a.createElement(h.a.Label,null,"Receiver: ",e.receiver.username))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridMessage"},r.a.createElement(h.a.Label,null,"Message"),r.a.createElement(h.a.Control,{as:"textarea",rows:"9",placeholder:"Message"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),r.a.createElement("p",null,e.successText))))}),Be=(a(226),function(e){var t=Object.assign({},e.user),a=(t.cart.map((function(e){return e.lesson.sku})),t.addresses.map((function(e){return console.log(e.type)}))),n=t.addresses.filter((function(e){return"Billing"===e.type})),s=t.addresses.filter((function(e){return"Shipping"===e.type})),i=s.filter((function(e){return!0===e.primary})),l=n.filter((function(e){return!0===e.primary})),o=i[0],c=l[0];return console.log("\n        addressTypes: ".concat(a,",\n        billingAddresses: ").concat(n.length,"\n        shippingAddresses: ").concat(s.length,",\n        primaryShippingAddresses: ").concat(i.length,",\n        primaryBillingAddresses: ").concat(l.length,",\n      ")),r.a.createElement("div",{className:"CreateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type a"),r.a.createElement("option",null,"type b")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTotalA"},r.a.createElement(h.a.Label,null,"TotalA"),r.a.createElement(h.a.Control,{type:"number",step:"0.01",placeholder:"Enter TotalA"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTotalB"},r.a.createElement(h.a.Label,null,"TotalB"),r.a.createElement(h.a.Control,{type:"number",step:"0.01",placeholder:"Enter TotalB"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTaxDescription"},r.a.createElement(h.a.Label,null,"TaxDescription"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Enter TaxDescription"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTaxAmount"},r.a.createElement(h.a.Label,null,"TaxAmount"),r.a.createElement(h.a.Control,{type:"number",step:"0.01",placeholder:"Enter TaxAmount"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDescription"},r.a.createElement(h.a.Label,null,"Description"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Description"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridNotes"},r.a.createElement(h.a.Label,null,"Notes"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Notes"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPayment"},r.a.createElement(h.a.Label,null,"Payment"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Payment"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShipping"},r.a.createElement(h.a.Label,null,"Shipping"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Enter Shipping"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressNumber"},r.a.createElement(h.a.Label,null,"BillingAddressNumber"),r.a.createElement(h.a.Control,{type:"number",value:c.number})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressStreet"},r.a.createElement(h.a.Label,null,"BillingAddressStreet"),r.a.createElement(h.a.Control,{type:"text",value:c.street})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressTown"},r.a.createElement(h.a.Label,null,"BillingAddressTown"),r.a.createElement(h.a.Control,{type:"text",value:c.town}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressCity"},r.a.createElement(h.a.Label,null,"BillingAddressCity"),r.a.createElement(h.a.Control,{type:"text",value:c.city})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressCountry"},r.a.createElement(h.a.Label,null,"BillingAddressCountry"),r.a.createElement(h.a.Control,{type:"text",value:c.country})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBillingAddressPostalCode"},r.a.createElement(h.a.Label,null,"BillingAddressPostalCode"),r.a.createElement(h.a.Control,{type:"text",value:c.postalCode}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressNumber"},r.a.createElement(h.a.Label,null,"ShippingAddressNumber"),r.a.createElement(h.a.Control,{type:"number",value:o.number})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressStreet"},r.a.createElement(h.a.Label,null,"ShippingAddressStreet"),r.a.createElement(h.a.Control,{type:"text",value:o.street})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressTown"},r.a.createElement(h.a.Label,null,"ShippingAddressTown"),r.a.createElement(h.a.Control,{type:"text",value:o.town}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressCity"},r.a.createElement(h.a.Label,null,"ShippingAddressCity"),r.a.createElement(h.a.Control,{type:"text",value:o.city})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressCountry"},r.a.createElement(h.a.Label,null,"ShippingAddressCountry"),r.a.createElement(h.a.Control,{type:"text",value:o.country})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridShippingAddressPostalCode"},r.a.createElement(h.a.Label,null,"ShippingAddressPostalCode"),r.a.createElement(h.a.Control,{type:"text",value:o.postalCode}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))}),Fe=(a(227),function(e){var t=Object.assign({},e.user),a=(t.address,new Date(1e3*t.dob.substr(0,9)).toISOString().slice(0,10)),n=[];t.friendRequests!==[]&&(t.friendRequests.filter((function(e){return e.sender._id===t._id})),n=t.friendRequests.filter((function(e){return e.receiver._id===t._id})));t.public.toString();return console.log(t.cart),r.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example"},r.a.createElement(x.a,{eventKey:"",title:"Details:",disabled:!0}),r.a.createElement(x.a,{eventKey:"Basic",title:"Basic"},r.a.createElement(L.a,{className:"UserDetailCard"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,r.a.createElement("span",{className:"ul"},"Your Profile Details")),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"ID:")," ",t._id),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Name:")," ",t.name),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Username:")," ",t.username),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"D.O.B:")," ",a),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Age:")," ",t.age),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Phone:")," ",t.contact.phone),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Phone 2:")," ",t.contact.phone2),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Email:")," ",t.contact.email),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Bio:")," ",t.bio),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Points :")," ",t.points))),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Public :")," ",t.public.toString()),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"loggedIn :")," ",t.loggedIn.toString()),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Verification :")," ",t.verification.type,", ",t.verification.verified.toString()))),r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartUpdate},"Edit"),r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartUpdateField},"Edit 1 Field"),r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"points")},"+ Points"),!0===e.updating&&"basic"===e.userAddField&&r.a.createElement(ve,{canCancelProfile:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userEditBasic,confirmText:"Confirm",user:e.user,authId:e.authId}),!0===e.updating&&!0===e.updatingField&&r.a.createElement(_e,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userEditField,confirmText:"Confirm",user:e.user,authId:e.authId}),"points"===e.userAddField&&r.a.createElement(Ne,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPoints,confirmText:"Confirm",user:e.user,authId:e.authId})))),r.a.createElement(x.a,{eventKey:"address",title:"address"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"address")},"+ Address"),"address"===e.userAddField&&r.a.createElement(be,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddAddress,confirmText:"Confirm"}),null!==t.addresses&&t.addresses!==[]&&r.a.createElement(G,{userAddresses:t.addresses,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteAddress,makeAddressPrimary:e.makeAddressPrimary})),r.a.createElement(x.a,{eventKey:"profileImages",title:"profileImages"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"profileImage")},"+ Image"),"profileImage"===e.userAddField&&r.a.createElement(Ce,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddProfileImage,confirmText:"Confirm"}),null!==t.profileImages&&t.profileImages!==[]&&r.a.createElement(O,{userProfileImages:t.profileImages,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteProfileImage})),r.a.createElement(x.a,{eventKey:"socialMedia",title:"socialMedia"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"socialMedia")},"+ Social Media"),"socialMedia"===e.userAddField&&r.a.createElement(Se,{user:e.user,authId:e.authId,canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddSocialMedia,confirmText:"Confirm"}),null!==t.socialMedia&&t.socialMedia!==[]&&r.a.createElement(R,{userSocialMedia:t.socialMedia,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteSocialMedia})),r.a.createElement(x.a,{eventKey:"perks",title:"perks"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"perk")},"+ Perk"),"perk"===e.userAddField&&null!==e.selectedPerk&&r.a.createElement(De,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPerk,confirmText:"Confirm",user:e.user,authId:e.authId,perk:e.selectedPerk}),null!==t.perks&&t.perks!==[]&&r.a.createElement(U,{userPerks:t.perks,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePerk})),r.a.createElement(x.a,{eventKey:"promos",title:"promos"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"promo")},"+ Promo"),"promo"===e.userAddField&&null!==e.selectedPromo&&r.a.createElement(xe,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPromo,confirmText:"Confirm",user:e.user,authId:e.authId,promo:e.selectedPromo}),null!==t.promos&&t.promos!==[]&&r.a.createElement(M,{userPromos:t.promos,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePromo})),r.a.createElement(x.a,{eventKey:"interests",title:"interests"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"interests")},"+ Interests"),"interests"===e.userAddField&&r.a.createElement(Ie,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddInterests,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.interests&&t.interests!==[]&&r.a.createElement(z,{userInterests:t.interests,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteInterest})),r.a.createElement(x.a,{eventKey:"tags",title:"tags"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"tags")},"+ Tags"),"tags"===e.userAddField&&r.a.createElement(Ae,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddTags,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.tags&&t.tags!==[]&&r.a.createElement(K,{userTags:t.tags,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteTag})),r.a.createElement(x.a,{eventKey:"friends",title:"friends"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"friend")},"+ Friend"),"friend"===e.userAddField&&r.a.createElement(Te,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddFriend,confirmText:"Confirm",requestingFriend:e.requestingFriend,user:e.user}),null!==t.friends&&t.friends!==[]&&r.a.createElement(Q,{userFriends:t.friends,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteFriend,onSelect:e.userSelectFriend})),r.a.createElement(x.a,{eventKey:"friendRequests",title:"friendRequests"},null!==t.friendRequests&&t.friendRequests!==[]&&r.a.createElement(W,{userFriendRequests:n,authId:e.authId,onReject:e.userRejectFriendRequest,onAccept:e.userAcceptFriendRequest})),r.a.createElement(x.a,{eventKey:"cart",title:"cart"},null!==t.cart&&t.cart!==[]&&r.a.createElement(p.a,{variant:"primary",onClick:e.startCartCheckout.bind(void 0,t.cart)},"Checkout"),!0===e.creatingOrder&&r.a.createElement(Be,{user:t,onCancel:e.cancelCartCheckout,onConfirm:e.createOrder,addAddressToOrder:e.addAddressToOrder,orderBillingAddress:e.orderBillingAddress,orderShippingAddress:e.orderShippingAddress}),null!==t.cart&&t.cart!==[]&&r.a.createElement(X,{userCartItems:t.cart,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteCartItem})),r.a.createElement(x.a,{eventKey:"likedLessons",title:"likedLessons"},null!==t.likedLessons&&t.likedLessons!==[]&&r.a.createElement(ae,{userLikedLessons:t.likedLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteLikedLesson})),r.a.createElement(x.a,{eventKey:"bookedLessons",title:"bookedLessons"},null!==t.bookedLessons&&t.bookedLessons!==[]&&r.a.createElement(ee,{userBookedLessons:t.bookedLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteBookedLesson})),r.a.createElement(x.a,{eventKey:"attendedLessons",title:"attendedLessons"},null!==t.attendedLessons&&t.attendedLessons!==[]&&r.a.createElement(re,{userAttendedLessons:t.attendedLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteAttendedLesson})),r.a.createElement(x.a,{eventKey:"taughtLessons",title:"taughtLessons"},null!==t.taughtLessons&&t.taughtLessons!==[]&&r.a.createElement(ie,{userTaughtLessons:t.taughtLessons,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteTaughtLesson})),r.a.createElement(x.a,{eventKey:"paymentInfo",title:"paymentInfo"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartAdd.bind(void 0,"paymentInfo")},"+ PaymentInfo"),"paymentInfo"===e.userAddField&&r.a.createElement(we,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userAddPaymentInfo,confirmText:"Confirm",user:e.user,authId:e.authId}),null!==t.paymentInfo&&t.paymentInfo!==[]&&r.a.createElement(oe,{userPaymentInfo:t.paymentInfo,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeletePaymentInfo})),r.a.createElement(x.a,{eventKey:"messages",title:"messages"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:e.onStartCreateMessage},"+ Message"),null===e.messageReceiver&&r.a.createElement(p.a,{variant:"outline-warning",size:"lg",className:"confirmEditButton"},"Select someone to message"),"message"===e.userAddField&&null!==e.messageReceiver&&r.a.createElement(Ge,{canCancel:!0,canConfirm:!0,onCancel:e.onCancel,onConfirm:e.userCreateMessage,confirmText:"Confirm",user:e.user,authId:e.authId,receiver:e.messageReceiver}),null!==t.messages&&t.messages!==[]&&r.a.createElement(he,{userMessages:t.messages,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteMessage})),r.a.createElement(x.a,{eventKey:"orders",title:"orders"},null!==t.orders&&t.orders!==[]&&r.a.createElement(de,{userOrders:t.orders,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteOrder})),r.a.createElement(x.a,{eventKey:"reviews",title:"reviews"},null!==t.reviews&&t.reviews!==[]&&r.a.createElement(me,{userReviews:t.reviews,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteReview})),r.a.createElement(x.a,{eventKey:"meeting",title:"meeting"},r.a.createElement("p",null,"session details go here"),r.a.createElement("p",null,"zoom mtg create button, dom element etc")),r.a.createElement(x.a,{eventKey:"activity",title:"activity"},null!==t.activity&&t.activity!==[]&&r.a.createElement(ge,{userActivity:t.activity,authId:e.authId,canDelete:e.canDelete,onDelete:e.userDeleteActivity})))}),Oe=(a(128),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,users:[],updating:!1,adding:!1,deleting:!1,updatingField:!1,isLoading:!1,userUpdateField:null,userAddField:null,userAlert:null,overlay:!1,overlayStatus:"test",canDelete:null,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9,messagesLoaded:!1,userMessages:null,finalConfirmation:!1,socketMsg:"",activityA:null,activityB:null,activityC:null,selectedFriendRequest:null,requestingFriend:null,userSelectedFriend:null,orderBillingAddress:null,orderShippingAddress:null},e.isActive=!0,e.onStartUpdate=function(){e.setState({updating:!0,userAddField:"basic"})},e.onStartUpdateField=function(){e.setState({updating:!0,updatingField:!0})},e.onStartAdd=function(t){e.setState({adding:!0,userAddField:t})},e.addUserField=function(t){e.setState({adding:!0,userAddField:t})},e.startCreateMessage=function(){null===e.context.receiver&&e.setState({userAlert:"select a receiver 1st..."}),e.setState({adding:!0,userAddField:"message"})},e.startCartCheckout=function(){e.setState({creatingOrder:!0})},e.cancelCartCheckout=function(){e.setState({creatingOrder:!1})},e.userEditBasic=function(t){e.setState({updating:!1,userAlert:"Updating selected Staff ..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridEmail.value,i=t.target.formGridPassword.value,l=t.target.formGridName.value,o=t.target.formGridUsername.value,c=t.target.formGridDob.value,d=t.target.formGridPhone.value,u=t.target.formGridPhone2.value,m=t.target.formGridBio.value;0===s.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),s=e.context.user.contact.email),0===i.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),i=e.context.user.password),0===l.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),l=e.context.user.name),0===o.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),o=e.context.user.username),0===c.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),c=e.context.user.dob),0===m.trim().length&&(e.setState({userAlert:"blank fields detected!!!...filling w/ previous data..."}),m=e.context.user.bio);var p={query:'\n          mutation {updateUserBasic(\n            activityId:"'.concat(n,'",\n            userId:"').concat(r,'",\n            userInput:{\n              name:"').concat(l,'",\n              password:"').concat(i,'",\n              username:"').concat(o,'",\n              dob:"').concat(c,'",\n              contactEmail:"').concat(s,'",\n              contactPhone:"').concat(d,'",\n              contactPhone2:"').concat(u,'",\n              bio:"').concat(m,'"\n            })\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=t.data.updateUserBasic;e.context.user=a;var n=JSON.stringify(t.data.updateUserBasic).slice(2,25);e.setState({userAlert:n,user:a,activityA:p})})).catch((function(t){e.setState({userAlert:t})}))},e.userEditField=function(t){e.setState({updatingField:!1,userAlert:"Updating selected Staff by Field..."});var a=e.context.token,n=e.context.activityId,r=n,s=null,i=t.target.formGridQuery.value;"select"===t.target.formGridFieldSelect.value||(s=t.target.formGridFieldSelect.value);var l={query:'\n          mutation {updateUserByField(\n            activityId:"'.concat(n,'",\n            userId:"').concat(r,'",\n            field:"').concat(s,'",\n            query:"').concat(i,'")\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.updateUserByField).slice(2,25);e.setState({userAlert:a,user:t.data.updateUserByField,activityA:l}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddPoints=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding points for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridPoints.value,i={query:'\n            mutation {addUserPoints(\n              activityId:"'.concat(n,'",\n              userId:"').concat(r,'",\n              userInput:{\n                points:').concat(s,"\n              })\n              {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n          ")};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserPoints).slice(2,25);e.setState({userAlert:a,user:t.data.addUserPoints,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddAddress=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding address for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridAddressType.value,i=t.target.formGridAddressNumber.value,l=t.target.formGridAddressStreet.value,o=t.target.formGridAddressTown.value,c=t.target.formGridAddressCity.value,d=t.target.formGridAddressCountry.value,u=t.target.formGridAddressPostalCode.value;if(0===s.trim().length||0===i.trim().length||0===l.trim().length||0===o.trim().length||0===c.trim().length||0===d.trim().length||0===u.trim().length)return console.log("blank fields detected.. please check your info and try again.."),void e.setState({userAlert:"blank fields detected.. please check your info and try again.."});var m={query:'\n        mutation {addUserAddress(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            addressType:"').concat(s,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(l,'",\n            addressTown:"').concat(o,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserAddress).slice(2,25);e.setState({userAlert:a,user:t.data.addUserAddress,activityA:m}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteAddress=function(t){console.log("userDeleteAddress..."),e.setState({deleting:!0,userAlert:"deleting address for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.type,i=t.number,l=t.street,o=t.town,c=t.city,d=t.country,u=t.postalCode,m=t.primary,p={query:'\n        mutation {deleteUserAddress(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            addressType:"').concat(s,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(l,'",\n            addressTown:"').concat(o,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'",\n            addressPrimary:').concat(m,"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserAddress).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserAddress,activityA:p}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.makeAddressPrimary=function(t){console.log("makeAddressPrimary..."),e.setState({deleting:!0,userAlert:"deleting address for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.type,i=t.number,l=t.street,o=t.town,c=t.city,d=t.country,u=t.postalCode,m=(t.primary,{query:'\n        mutation {setUserAddressPrimary(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            addressType:"').concat(s,'",\n            addressNumber:').concat(i,',\n            addressStreet:"').concat(l,'",\n            addressTown:"').concat(o,'",\n            addressCity:"').concat(c,'",\n            addressCountry:"').concat(d,'",\n            addressPostalCode:"').concat(u,'",\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')});fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.setUserAddressPrimary).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.setUserAddressPrimary,activityA:m}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddProfileImage=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding profileImage for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridFilename.value,i=t.target.formGridFiletype.value,l=t.target.formGridFilepath.value,o={query:'\n        mutation {addUserProfileImage(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            profileImageName:"').concat(s,'",\n            profileImageType:"').concat(i,'",\n            profileImagePath:"').concat(l,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserProfileImage).slice(2,25);e.setState({userAlert:a,user:t.data.addUserProfileImage,activityA:o}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteProfileImage=function(t){e.setState({deleting:!0,userAlert:"deleting profileImage for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.name,i=t.type,l=t.path,o={query:'\n        mutation {deleteUserProfileImage(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            profileImageName:"').concat(s,'",\n            profileImageType:"').concat(i,'",\n            profileImagePath:"').concat(l,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserProfileImage).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserProfileImage,activityA:o}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddSocialMedia=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding socialMedia for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridPlatform.value,i=t.target.formGridHandle.value,l=t.target.formGridLink.value,o={query:'\n        mutation {addUserSocialMedia(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            socialMediaPlatform:"').concat(s,'",\n            socialMediaHandle:"').concat(i,'",\n            socialMediaLink:"').concat(l,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserSocialMedia).slice(2,25);e.setState({userAlert:a,user:t.data.addUserSocialMedia,activityA:o}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteSocialMedia=function(t){console.log("userDeleteSocialMedia"),e.setState({deleting:!0,userAlert:"deleting socialMedia for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.platform,i=t.handle,l=t.link,o={query:'\n        mutation {deleteUserSocialMedia(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            socialMediaPlatform:"').concat(s,'",\n            socialMediaHandle:"').concat(i,'",\n            socialMediaLink:"').concat(l,'"\n          }){_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserSocialMedia).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserSocialMedia,activityA:o}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddPaymentInfo=function(t){console.log("userAddPaymentInfo"),e.setState({adding:!1,userAddField:null,userAlert:"adding paymentInfo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.paymentInfoDate.value,i=t.target.formGridPaymentInfoType.value,l=t.target.formGridDescription.value,o=t.target.formGridBody.value,c=t.target.formGridPaymentInfoPrimaryCheckbox.checked,d={query:'\n        mutation {addUserPaymentInfo(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            paymentInfoDate:"').concat(s,'",\n            paymentInfoType:"').concat(i,'",\n            paymentInfoDescription:"').concat(l,'",\n            paymentInfoBody:"').concat(o,'",\n            paymentInfoValid:').concat(!0,",\n            paymentInfoPrimary:").concat(c,",\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserPaymentInfo).slice(2,25);e.setState({userAlert:a,user:t.data.addUserPaymentInfo,activityA:d}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeletePaymentInfo=function(t){console.log("userDeletePaymentInfo",JSON.stringify(t)),e.setState({deleting:!0,userAlert:"deleting paymentInfo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.date,i=t.type,l=t.description,o=t.body,c=t.valid,d=t.primary,u={query:'\n        mutation {deleteUserPaymentInfo(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            paymentInfoDate:"').concat(s,'",\n            paymentInfoType:"').concat(i,'",\n            paymentInfoDescription:"').concat(l,'",\n            paymentInfoBody:"').concat(o,'",\n            paymentInfoValid:').concat(c,",\n            paymentInfoPrimary:").concat(d,"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ")};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserPaymentInfo).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserPaymentInfo,activityA:u}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddInterests=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding interest for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridInterests.value,i={query:'\n        mutation {addUserInterests(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            interests:"').concat(s,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a="mutation_addUserInterests_origin_"+n+"_target_"+r+"_body_"+s,i=JSON.stringify(t.data.addUserInterests).slice(2,25);e.setState({userAlert:i,user:t.data.addUserInterests,activityA:a}),e.context.user=e.state.user,e.logUserActivity()})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteInterest=function(t){e.setState({deleting:!0,userAlert:"deleting interest for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t,i={query:'\n        mutation {deleteUserInterest(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            interest:"').concat(s,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserInterest).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserInterest,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddTags=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding tags for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.target.formGridTags.value,i={query:'\n      mutation {addUserTags(\n        activityId:"'.concat(n,'",\n        userId:"').concat(r,'",\n        userInput:{\n          tags:"').concat(s,'"\n        })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserTags).slice(2,25);e.setState({userAlert:a,user:t.data.addUserTags,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteTag=function(t){e.setState({adding:!1,userAddField:null,userAlert:"deleting tag for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t,i={query:'\n      mutation {deleteUserTag(\n        activityId:"'.concat(n,'",\n        userId:"').concat(r,'",\n        userInput:{\n          tag:"').concat(s,'"\n        })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserTag).slice(2,25);e.setState({userAlert:a,user:t.data.deleteUserTag,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddPerk=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding perk for user..."});e.context.token,e.context.activityId,e.context.selectedPerk._id},e.userDeletePerk=function(t){e.setState({deleting:!0,userAlert:"deleting perk for user..."});e.context.token,e.context.activityId},e.userAddPromo=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding promo for user..."});e.context.token,e.context.activityId,e.context.selectedPromo._id},e.userDeletePromo=function(t){e.setState({deleting:!0,userAlert:"deleting promo for user..."});e.context.token,e.context.activityId},e.userAcceptFriendRequest=function(t){console.log("userAcceptFriendRequest...");var a=e.context.token,n=e.context.activityId,r=t.receiver._id,s=t.sender._id,i={query:'\n      mutation {addUserFriend(\n        activityId:"'.concat(n,'",\n        userId:"').concat(r,'",\n        friendId:"').concat(s,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a="mutation_addUserFriend_origin_"+n+"_target_"+r+"_body_"+s,i=JSON.stringify(t.data.addUserFriend).slice(2,25);e.setState({deleting:!1,userAlert:i,user:t.data.addUserFriend,activityA:a}),e.context.user=e.state.user,e.logUserActivity()})).catch((function(t){e.setState({userAlert:t})}))},e.userRejectFriendRequest=function(t){console.log("userRejectFriendRequest..."),e.setState({deleting:!0,userAlert:"deleting friend request for user..."});var a=e.context.token,n=e.context.activityId,r=t.sender._id,s=t.receiver._id,i=(t.date,{query:'\n      mutation {deleteFriendRequest(\n        activityId:"'.concat(n,'",\n        senderId:"').concat(r,'",\n        receiverId:"').concat(s,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')});fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteFriendRequest).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteFriendRequest,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userAddFriend=function(t){e.setState({adding:!1,userAddField:null,userAlert:"adding friend for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=e.state.requestingFriend,i={query:'\n      mutation {addUserFriend(\n        activityId:"'.concat(n,'",\n        userId:"').concat(r,'",\n        friendId:"').concat(s,'"\n      )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserFriend).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.addUserFriend,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userSelectFriend=function(t){e.setState({userSelectedFriend:t})},e.userDeleteFriend=function(t){e.setState({deleting:!0,userAlert:"deleting friend for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=e.state.userSelectedFriend._id,i={query:'\n        mutation {deleteUserFriend(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          friendId:"').concat(s,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserFriend).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserFriend,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteCartItem=function(t){e.setState({deleting:!0,userAlert:"deleting promo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.lesson,i=t.dateAdded,l=t.sessionDate,o={query:'\n        mutation {deleteUserCartLesson(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          lessonId:"').concat(s,'",\n          dateAdded:"').concat(i,'",\n          sessionDate:"').concat(l,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserCartLesson).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserCartLesson,activityA:o}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteBookedLesson=function(t){e.setState({deleting:!0,userAlert:"deleting promo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.date,i=t.ref,l={query:'\n        mutation {deleteUserBookedLesson(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          lessonId:"').concat(i,'",\n          date:"').concat(s,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserBookedLesson).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserBookedLesson,activityA:l}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteLikedLesson=function(t){e.setState({deleting:!0,userAlert:"deleting likeLesson for user..."});e.context.token,e.context.activityId},e.userDeleteAttendedLesson=function(t){e.setState({deleting:!0,userAlert:"deleting attendedLesson for user..."});e.context.token,e.context.activityId},e.userDeleteTaughtLesson=function(t){e.setState({deleting:!0,userAlert:"deleting taughtLesson for user..."});e.context.token,e.context.activityId},e.addAddressToOrder=function(t){t.preventDefault(),console.log(t.target.value.slice(9,16));var a=t.target.value.slice(9,16);"Billing"===a&&(console.log("beep"),e.setState({orderBillingAddress:t.target.value})),"Shipping"===a&&(console.log("beep"),e.setState({orderShippingAddress:t.target.value}))},e.createOrder=function(t){t.preventDefault(),e.setState({creatingOrder:!1,userAlert:"creating order for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=n,i=t.target.formGridType.value,l=t.target.formGridTotalA.value,o=t.target.formGridTotalB.value,c=t.target.formGridTaxDescription.value,d=t.target.formGridTaxAmount.value,u=t.target.formGridDescription.value,m=t.target.formGridNotes.value,p=t.target.formGridPayment.value,y=t.target.formGridShipping.value,h=t.target.formGridBillingAddressNumber.value,f=t.target.formGridBillingAddressStreet.value,g=t.target.formGridBillingAddressTown.value,E=t.target.formGridBillingAddressCity.value,v=t.target.formGridBillingAddressCountry.value,_=t.target.formGridBillingAddressPostalCode.value,b=t.target.formGridShippingAddressNumber.value,C=t.target.formGridShippingAddressStreet.value,S=t.target.formGridShippingAddressTown.value,I=t.target.formGridShippingAddressCity.value,A=t.target.formGridShippingAddressCountry.value,k=t.target.formGridShippingAddressPostalCode.value,L={query:'\n        mutation {createOrder(\n          activityId:"'.concat(n,'",\n          buyerId:"').concat(r,'",\n          receiverId:"').concat(s,'",\n          orderInput:{\n            type:"').concat(i,'",\n            totalA:').concat(l,",\n            totalB:").concat(o,',\n            taxDescription:"').concat(c,'",\n            taxAmount:').concat(d,',\n            description:"').concat(u,'",\n            notes:"').concat(m,'",\n            payment:"').concat(p,'",\n            shipping:"').concat(y,'",\n            billingAddressNumber:').concat(h,',\n            billingAddressStreet:"').concat(f,'",\n            billingAddressTown:"').concat(g,'",\n            billingAddressCity:"').concat(E,'",\n            billingAddressCountry:"').concat(v,'",\n            billingAddressPostalCode:"').concat(_,'",\n            shippingAddressNumber:').concat(b,',\n            shippingAddressStreet:"').concat(C,'",\n            shippingAddressTown:"').concat(S,'",\n            shippingAddressCity:"').concat(I,'",\n            shippingAddressCountry:"').concat(A,'",\n            shippingAddressPostalCode:"').concat(k,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(L),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.createOrder).slice(2,25);e.setState({userAlert:a,user:t.data.createOrder,activityA:L}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteOrder=function(t){e.setState({deleting:!0,userAlert:"deleting order for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t,i={query:'\n        mutation {deleteUserOrder(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          orderId:"').concat(s,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserOrder).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserOrder,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteReview=function(t){e.setState({deleting:!0,userAlert:"deleting promo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t,i={query:'\n        mutation {deleteUserReview(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          reviewId:"').concat(s,'"\n        )\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserReview).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserReview,activityA:i}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userCreateMessage=function(t){e.setState({adding:!1});var a=e.context.token,n=(e.context.receiver,e.context.receiver._id),r=(e.context.receiver.role,e.context.role,e.context.activityId),s=r,i=e.state.user.username,l=new Date,o=(l.toISOString().slice(11,16),l.toLocaleString().slice(11,16)),c=t.target.formGridTypeSelect.value,d=t.target.formGridSubject.value,u=t.target.formGridMessage.value,m={date:l,time:o,type:c,senderName:i,subject:d,message:u},p={query:'\n        mutation {createMessage(\n          activityId:"'.concat(r,'",\n          senderId:"').concat(s,'",\n          receiverId:"').concat(n,'",\n          messageInput:{\n            type:"').concat(c,'",\n            subject:"').concat(d,'",\n            message:"').concat(u,'"\n          })\n        {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n      ')};e.sendSocketMessage(m),fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){console.log("resData",t.data.createMessage);var a=JSON.stringify(t.data.createMessage).slice(2,25);e.setState({userAlert:a,activityA:p})})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteMessage=function(t){e.setState({deleting:!0,userAlert:"deleting message for user..."});var a=e.context.token,n=e.context.activityId,r=t,s={query:'\n      mutation {deleteMessage(\n        activityId:"'.concat(n,'",\n        messageId:"').concat(r,'",)\n      {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteMessage).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteMessage,activityA:s}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.userDeleteActivity=function(t){e.setState({deleting:!0,userAlert:"deleting promo for user..."});var a=e.context.token,n=e.context.activityId,r=n,s=t.date,i=t.request,l={query:'\n        mutation {deleteUserActivity(\n          activityId:"'.concat(n,'",\n          userId:"').concat(r,'",\n          userInput:{\n            activityDate:"').concat(s,'",\n            activityRequest:"').concat(i,'"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.deleteUserActivity).slice(2,25);e.setState({deleting:!1,userAlert:a,user:t.data.deleteUserActivity}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))},e.modalCancelHandler=function(){e.setState({updating:!1,updatingField:!1,adding:!1,userAddField:null})},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getThisUser()}},{key:"getThisUser",value:function(){var e=this;this.setState({isLoading:!0});var t=this.context.activityId,a={query:'\n        query {getThisUser(activityId:"'.concat(t,'")\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,totals{a,b,c},buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var n=null;(t.errors||"error"===JSON.stringify(t).slice(2,7))&&(n=JSON.stringify(Object(A.a)({},t.errors)),e.setState({userAlert:"Something went wrong!!!"+n}));var r=t.data.getThisUser;e.context.user=r,e.isActive&&e.setState({user:r,isLoading:!1,activityA:a}),sessionStorage.getItem("token")&&e.setState({userAlert:"Welcome Back..."}),"Lord-of-the-Manor"===r.name&&e.setState({canDelete:!0,userAlert:"Mi'Lord!!"})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"logUserActivity",value:function(){var e=this;console.log("logUserActivity..."),this.setState({userAlert:"logUserActivity..."});var t=this.context.activityId,a=t,n=this.context.token,r=(new Date,this.state.activityA),s={query:'\n          mutation {addUserActivity(\n            activityId:"'.concat(t,'",\n            userId:"').concat(a,'",\n            userInput:{\n              activityRequest:"').concat(r,'"\n            })\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.addUserActivity).slice(2,25);e.setState({userAlert:a,user:t.data.addUserActivity}),e.context.user=e.state.user})).catch((function(t){e.setState({userAlert:t})}))}},{key:"sendSocketMessage",value:function(e){var t=this,a=e;console.log("sending socket message  ",a);var n=null;if(null===this.context.receiver||void 0===this.context.receiver)return console.log("select someone to msg 1st..."),void this.setState({userAlert:"select someone to msg 1st..."});n=this.context.receiver._id,this.socket.emit("send message",{room:"msg"+n,message:a}),this.socket.on("MESSAGE_SENT",(function(e){r(e)}));var r=function(e){t.setState({userAlert:e.msg})}}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){var e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.overlay&&r.a.createElement(b,{status:this.state.overlayStatus}),r.a.createElement(C,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),r.a.createElement(f.a,null,!0===this.state.sidebarShow&&null!==this.state.user&&r.a.createElement(g.a,{md:2,className:"MasterCol1"},r.a.createElement(N,{you:this.state.user,authId:this.context.activityId})),r.a.createElement(g.a,{md:this.state.mCol2Size,className:"MasterCol2"},r.a.createElement("div",{className:"containerProfile"},this.state.isLoading?r.a.createElement(k,null):r.a.createElement(f.a,null,r.a.createElement(g.a,null,null!==this.state.user&&r.a.createElement(Fe,(e={user:this.state.user,authId:this.context.activityId,onCancel:this.modalCancelHandler,canDelete:this.state.canDelete,onStartUpdate:this.onStartUpdate,onStartUpdateField:this.onStartUpdateField,onStartAdd:this.onStartAdd,userEditBasic:this.userEditBasic,userEditField:this.userEditField,userAddPoints:this.userAddPoints,userAddAddress:this.userAddAddress,makeAddressPrimary:this.makeAddressPrimary,userDeleteAddress:this.userDeleteAddress,userAddProfileImage:this.userAddProfileImage,userDeleteProfileImage:this.userDeleteProfileImage,userAddSocialMedia:this.userAddSocialMedia,userDeleteSocialMedia:this.userDeleteSocialMedia,userAddPaymentInfo:this.userAddPaymentInfo,userDeletePaymentInfo:this.userDeletePaymentInfo,selectedPerk:this.context.selectedPerk,userAddPerk:this.userAddPerk,userDeletePerk:this.userDeletePerk,selectedPromo:this.context.selectedPromo,userAddPromo:this.userAddPromo,userDeletePromo:this.userDeletePromo,userAddInterests:this.userAddInterests,userDeleteInterest:this.userDeleteInterest,userAddTags:this.userAddTags,userDeleteTag:this.userDeleteTag,userRejectFriendRequest:this.userRejectFriendRequest,userAcceptFriendRequest:this.userAcceptFriendRequest,userDeleteFriend:this.userDeleteFriend,userSelectFriend:this.userSelectFriend,userAddFriend:this.userAddFriend},Object(I.a)(e,"userDeleteFriend",this.userDeleteFriend),Object(I.a)(e,"userDeleteCartItem",this.userDeleteCartItem),Object(I.a)(e,"userDeleteLikedLesson",this.userDeleteLikedLesson),Object(I.a)(e,"userDeleteBookedLesson",this.userDeleteBookedLesson),Object(I.a)(e,"userDeleteAttendedLesson",this.userDeleteAttendedLesson),Object(I.a)(e,"userDeleteTaughtLesson",this.userDeleteTaughtLesson),Object(I.a)(e,"addAddressToOrder",this.addAddressToOrder),Object(I.a)(e,"orderBillingAddress",this.state.orderBillingAddress),Object(I.a)(e,"orderShippingAddress",this.state.orderShippingAddress),Object(I.a)(e,"startCartCheckout",this.startCartCheckout),Object(I.a)(e,"cancelCartCheckout",this.cancelCartCheckout),Object(I.a)(e,"createOrder",this.createOrder),Object(I.a)(e,"userDeleteOrder",this.userDeleteOrder),Object(I.a)(e,"userDeleteReview",this.userDeleteReview),Object(I.a)(e,"userDeleteActivity",this.userDeleteActivity),Object(I.a)(e,"userCreateMessage",this.userCreateMessage),Object(I.a)(e,"userDeleteMessage",this.userDeleteMessage),Object(I.a)(e,"updating",this.state.updating),Object(I.a)(e,"updatingField",this.state.updatingField),Object(I.a)(e,"userAddField",this.state.userAddField),Object(I.a)(e,"creatingOrder",this.state.creatingOrder),Object(I.a)(e,"selectedUser",this.context.selectedUser),Object(I.a)(e,"messageReceiver",this.context.receiver),Object(I.a)(e,"requestingFriend",this.state.requestingFriend),e))))))))}}]),a}(n.Component));Oe.contextType=E;var Pe=Oe,Re=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={verifying:!1,role:null,userAlert:null,overlay:!1,overlayStatus:"test",activeTab:"choose",userSeshStore:!1,user:{},model:{}},e.retrieveLogin=function(){console.log("retrieving login"),e.context.login(sessionStorage.getItem("token"),sessionStorage.getItem("activityId"),sessionStorage.getItem("role"),sessionStorage.getItem("tokenExpiration"))},e.submitHandler=function(t){t.preventDefault(),e.setState({userAlert:"Logging you in..."});var a=t.target.formBasicEmail.value,n=t.target.formBasicPassword.value;if(0!==a.trim().length&&0!==n.trim().length){var r;r={query:'\n          query {login(email:"'.concat(a,'",password:"').concat(n,'")\n          {activityId,role,token,tokenExpiration,error}}\n        ')},fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){console.log(t.data.login.error);var a=JSON.stringify(t.data).slice(2,25);t.data.login.error&&(a=t.data.login.error),e.setState({userAlert:a});""!==t.data.login.token&&(e.context.login(t.data.login.token,t.data.login.activityId,t.data.login.role,t.data.login.tokenExpiration),sessionStorage.setItem("token",t.data.login.token),sessionStorage.setItem("activityId",t.data.login.activityId),sessionStorage.setItem("role",t.data.login.role),sessionStorage.setItem("tokenExpiration",t.data.login.tokenExpiration))})).catch((function(t){e.isActive&&e.setState({userAlert:t})}))}},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e.verifyUser=function(t){t.preventDefault();var a=t.target.formGridEmail.value,n=t.target.formGridType.value,r=(t.target.formGridCode.value,{query:'\n        mutation {verifyUser(\n          userInput:{\n            contactEmail:"'.concat(a,'",\n            verificationType:"').concat(n,'",\n            verificationCode:"$verificationCode{}"\n          })\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n          ')});console.log(JSON.stringify(r)),fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){console.log(t.data.verifyUser),e.setState({userAlert:"Verified...Please try loggin in again.."})})).catch((function(t){e.setState({userAlert:t})}))},e.startVerification=function(){e.setState({verifying:!0})},e.closeVerification=function(){e.setState({verifying:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("token")&&(this.setState({userAlert:"sessionStorage found...",userSeshStore:!0}),this.getThisUser())}},{key:"getThisUser",value:function(){var e=this,t=sessionStorage.getItem("activityId"),a=sessionStorage.getItem("token"),n={query:'\n          query {getThisUser(activityId:"'.concat(t,'")\n          {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode,primary},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title,sku,price}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=t.data.getThisUser;e.context.user=a,e.retrieveLogin()})).catch((function(t){e.setState({userAlert:t})}))}},{key:"render",value:function(){return r.a.createElement(y.a,{className:"loginPageContainer"},r.a.createElement(_,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.overlay&&r.a.createElement(b,{status:this.state.overlayStatus}),r.a.createElement(f.a,{className:"loginPageContainerRow2"},r.a.createElement(g.a,{className:"loginPageContainerCol2"},r.a.createElement(h.a,{className:"auth-form",onSubmit:this.submitHandler},r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Email address"),r.a.createElement(h.a.Control,{type:"email",placeholder:"Enter email"}),r.a.createElement(h.a.Text,{className:"text-muted"},"User Login")),r.a.createElement(h.a.Group,{controlId:"formBasicPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Password"})),r.a.createElement(p.a,{variant:"outline-success",type:"submit",className:"loginButton",size:"lg"},"Login"),r.a.createElement(p.a,{variant:"outline-warning",className:"loginButton",size:"lg"},r.a.createElement(u.b,{to:"/signup"},"Signup"))))),r.a.createElement(f.a,{className:"loginPageContainerRow2"},r.a.createElement(g.a,{className:"loginPageContainerCol2"},r.a.createElement(p.a,{variant:"outline-primary",onClick:this.startVerification},"Verify"),!0===this.state.verifying&&r.a.createElement(S,{canCancel:!0,canConfirm:!0,onCancel:this.closeVerification,onConfirm:this.verifyUser}))))}}]),a}(n.Component);Re.contextType=E;var qe=Re,Ue=function(e){var t=Object(n.useState)(new Date),a=Object(Ee.a)(t,2);a[0],a[1];return r.a.createElement("div",{className:"CreateFormContainer"},e.title&&r.a.createElement("h4",{className:"signupTitle"},e.title),r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridRole"},r.a.createElement(h.a.Label,null,"Role"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"Instructor"),r.a.createElement("option",null,"User")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridEmail"},r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(h.a.Control,{type:"email",placeholder:"Enter email"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Password"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridName"},r.a.createElement(h.a.Label,null,"Name"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Name"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridUsername"},r.a.createElement(h.a.Label,null,"Username"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Name"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPhone"},r.a.createElement(h.a.Label,null,"Phone"),r.a.createElement(h.a.Control,{type:"number",placeholder:"phone"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPhone2"},r.a.createElement(h.a.Label,null,"Phone2"),r.a.createElement(h.a.Control,{type:"number",placeholder:"phone2"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDob"},r.a.createElement(h.a.Label,null,"D.O.B"),r.a.createElement(h.a.Control,{type:"date",placeholder:"Date of Birth"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPublicCheckbox"},r.a.createElement(h.a.Label,null,"Public ?"),r.a.createElement(h.a.Control,{type:"checkbox",onChange:function(e){console.log(e.target.checked)}}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"Billing"),r.a.createElement("option",null,"Shipping"))),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressNumber"},r.a.createElement(h.a.Label,null,"Street No."),r.a.createElement(h.a.Control,{type:"number",placeholder:"addressNumber"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressStreet"},r.a.createElement(h.a.Label,null,"Street Name"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressStreet"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressTown"},r.a.createElement(h.a.Label,null,"Town"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressTown"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressCity"},r.a.createElement(h.a.Label,null,"City"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressCity"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressCountry"},r.a.createElement(h.a.Label,null,"Country"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addressCountry"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridAddressPostalCode"},r.a.createElement(h.a.Label,null,"postalCode"),r.a.createElement(h.a.Control,{type:"text",placeholder:"addresspostalCode"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridBio"},r.a.createElement(h.a.Label,null,"Bio"),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:"Bio"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),r.a.createElement("p",null,e.successText))))},je=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={role:null,success:"Signup!!",userAlert:null,overlay:!1,overlayStatus:"test",creating:!1},e.modalConfirmUserHandler=function(t){t.preventDefault(),e.setState({creating:!1,userAlert:"Signing you up...."});var a=t.target.formGridEmail.value,n=t.target.formGridPassword.value,r=t.target.formGridName.value,s=t.target.formGridUsername.value,i=t.target.formGridRole.value,l=!1;!0===t.target.formGridPublicCheckbox.checked&&(l=!0);var o=t.target.formGridDob.value,c=t.target.formGridPhone.value,d=t.target.formGridPhone2.value,u=t.target.formGridAddressType.value,m=t.target.formGridAddressNumber.value,p=t.target.formGridAddressStreet.value,y=t.target.formGridAddressTown.value,h=t.target.formGridAddressCity.value,f=t.target.formGridAddressCountry.value,g=t.target.formGridAddressPostalCode.value,E=t.target.formGridBio.value;if(0!==a.trim().length&&0!==n.trim().length&&0!==r.trim().length&&0!==s.trim().length&&0!==i.trim().length&&0!==o.trim().length&&0!==c.trim().length&&0!==d.trim().length&&0!==u.trim().length&&0!==m.trim().length&&0!==p.trim().length&&0!==y.trim().length&&0!==h.trim().length&&0!==f.trim().length&&0!==g.trim().length&&0!==E.trim().length){var v=e.context.token,_={query:'\n            mutation {createUser(\n              userInput:{\n                role:"'.concat(i,'",\n                name:"').concat(r,'",\n                password:"').concat(n,'",\n                username:"').concat(s,'",\n                dob:"').concat(o,'",\n                public:').concat(l,',\n                contactEmail:"').concat(a,'",\n                contactPhone:"').concat(c,'",\n                contactPhone2:"').concat(d,'",\n                addressType:"').concat(u,'",\n                addressNumber:').concat(m,',\n                addressStreet:"').concat(p,'",\n                addressTown:"').concat(y,'",\n                addressCity:"').concat(h,'",\n                addressCountry:"').concat(f,'",\n                addressPostalCode:"').concat(g,'",\n                bio:"').concat(E,'"\n              })\n            {_id,password,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n          ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(_),headers:{"Content-Type":"application/json",Authorization:"Bearer "+v}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=t.data.createUser,n=JSON.stringify(Object(A.a)({},t.errors));"error"===JSON.stringify(t).slice(2,7)?e.setState({success:"Something went wrong!!!",userAlert:"Something went wrong!!!"+n}):e.setState({success:"Signup success...Proceed to login",userAlert:"Signup success...Proceed to login... your verification code is.."+a.verification.code})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.cancelSignup=function(){e.setState({creating:!1,role:null})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{authUserId:this.context.userId,alert:this.state.userAlert}),!0===this.state.overlay&&r.a.createElement(b,{status:this.state.overlayStatus}),r.a.createElement(y.a,{className:"loginPageContainer"},r.a.createElement(f.a,{className:"loginPageContainerRow2"},r.a.createElement(g.a,{className:"loginPageContainerCol2"},r.a.createElement(Ue,{canCancel:!0,canConfirm:!0,onConfirm:this.modalConfirmUserHandler,onSubmit:this.modalConfirmUserHandler,confirmText:"Confirm",successText:this.state.success,onCancel:this.cancelSignup})))))}}]),a}(n.Component),Me=(a(129),a(38)),Je=a(21),ze=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,"ID: ",e._id),r.a.createElement(L.a.Text,null,"username: ",e.username),r.a.createElement(L.a.Text,null,"role: ",e.role),r.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(void 0,e._id)},"Details"))))},He=function(e){var t=e.users.map((function(t){return r.a.createElement(ze,{key:t._id,user:t,authId:e.authId,_id:t._id,username:t.username,role:t.role,public:t.public,clientConnected:t.clientConnected,onDetail:e.onViewDetail,canReport:e.canReport,onReport:e.onReport,onSelectNoDetail:e.onSelectNoDetail,onSelectMessageReceiver:e.onSelectMessageReceiver,onFriendRequest:e.onFriendRequest})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},Ke=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_master"},r.a.createElement("div",null,r.a.createElement("p",{className:"userItemHeading"}," Name:"),r.a.createElement("p",{className:"userItemText"},e.name),r.a.createElement("p",{className:"userItemHeading"}," Role:"),r.a.createElement("p",{className:"userItemText"},e.role)),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(void 0,e._id)},"Details")))},Ve=function(e){var t=e.searchUsers.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{key:t._id,userId:e.authUserId,_id:t._id,name:t.name,onDetail:e.onViewDetail}))}));return r.a.createElement("ul",{className:"user__list1_master"},t)},Qe=function(e){var t=Object.assign({},e.receiver);return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement("p",null,"Recipient: ",t.username)),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formBasicTypeSelect"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type a"),r.a.createElement("option",null,"type j")),r.a.createElement(h.a.Text,{className:"text-muted"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSubject"},r.a.createElement(h.a.Label,null,"Subject "),r.a.createElement(h.a.Control,{type:"text",placeholder:"Subject"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridMessage"},r.a.createElement(h.a.Label,null,"Message "),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:"Message"}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},Ye=(a(262),function(e){var t=Object.assign({},e.user);t.profileImages,t.interests;return r.a.createElement("div",{className:"UserDetailBox1"},r.a.createElement(D.a,{defaultActiveKey:"Demographics",id:"uncontrolled-tab-example",className:"tab"},r.a.createElement(x.a,{eventKey:"Demographics",title:"Demographics"},r.a.createElement(L.a,{className:"UserDetailCard"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,r.a.createElement("span",{className:"ul"},"User Details")),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(L.a.Img,{variant:"top",src:t.profileImages[1].path}),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"ID:")," ",t._id),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Username:")," ",t.username),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Role:")," ",t.role),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Bio:")," ",t.bio)),r.a.createElement(g.a,{className:"detailCardCol"})),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(p.a,{variant:"secondary",onClick:e.onFriendRequest.bind(void 0,e.user)},"RequsetFriend"),r.a.createElement(p.a,{variant:"info",onClick:e.onStartSendMessage.bind(void 0,e.user)},"Message"),r.a.createElement(p.a,{variant:"danger",onClick:e.onHideUserDetail},"x"),r.a.createElement(g.a,{className:"detailCardCol"},!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,t._id)},"Delete !!??"),!0===e.canReport&&r.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(void 0,t._id)},"Report!!??"))))),!0===e.creatingMessage&&null!==e.messageReceiver&&r.a.createElement(Qe,{receiver:e.messageReceiver,onCancel:e.cancelMessage,onConfirm:e.sendMessage}))))}),We=function(e){return r.a.createElement("div",{className:"attachmentViewerBg"},r.a.createElement("div",{className:"attachmentViewer"},r.a.createElement("h5",{className:"attachmentViewerTitle"},"AttachmentViewer"),r.a.createElement(p.a,{variant:"danger",className:"attachmentViewerCloseButton",onClick:e.onCloseAttachmentView},"close"),r.a.createElement("a",{href:e.attachmentFile},r.a.createElement(p.a,{variant:"success"},"View the Attachment"))))},$e=function(e){return r.a.createElement("div",{className:"attachmentViewerBg"},r.a.createElement("div",{className:"attachmentViewer"},r.a.createElement(Ye,{authId:e.authId,user:e.user,canReport:e.canReport,onReport:e.onReport,canDelete:e.canDelete,onDelete:e.onDelete,onFriendRequest:e.onFriendRequest,onStartSendMessage:e.onStartSendMessage,onHideUserDetail:e.onHideUserDetail,creatingMessage:e.creatingMessage,messageReceiver:e.messageReceiver,cancelMessage:e.cancelMessage,sendMessage:e.sendMessage})))},Xe=function(e){return r.a.createElement("div",{className:"SearchFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},r.a.createElement(h.a.Label,null,"Field"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"email"),r.a.createElement("option",null,"password"),r.a.createElement("option",null,"name"),r.a.createElement("option",null,"dob"),r.a.createElement("option",null,"phone"),r.a.createElement("option",null,"address.town"),r.a.createElement("option",null,"address.parish"),r.a.createElement("option",null,"role"),r.a.createElement("option",null,"employmentDate"),r.a.createElement("option",null,"terminationDate")),r.a.createElement(h.a.Text,{className:"text-muted"})),r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formBasicQuery"},r.a.createElement(h.a.Label,null,"Query"),r.a.createElement(h.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},Ze=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={creating:!1,updating:!1,deleting:!1,searching:!1,user:null,users:[],searchUsers:[],isLoading:!1,isSorting:!1,selectedUser:null,detailsLoaded:!1,creatingMessage:!1,messageReceiver:null,userUpdateField:null,userSearchField:null,userSearchQuery:null,canDelete:null,canReport:!1,userAlert:null,overlay:!1,overlayStatus:"test",file:null,showDetail:!1,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9},e.isActive=!0,e.modalConfirmSearchHandler=function(t){e.context.activityId;var a=e.context.token,n=null,r=t.target.formBasicQuery.value;if(n="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:n,userSearchQuery:r,searching:!1,userAlert:"Searching for User..."}),0!==n.trim().length&&0!==r.trim().length){fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify({query:'\n        query {getUsersByField(\n          activityId:"5e815ea627a93c0deab606d0",\n          field:"addresses.town",\n          query:"Test-Town"\n        )\n        {_id,password,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id},bookedLessons{date,ref{_id,title}},attendedLessons{date,ref{_id,title}},taughtLessons{date,ref{_id,title}},wishlist{date,ref{_id,title},booked},cart{dateAdded,sessionDate,lesson{_id,title}},comments{_id},messages{_id},orders{_id},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      '}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.getUsersByField).slice(0,8),n=t.data.getUsersByField;e.setState({searchUsers:n,userAlert:a})})).catch((function(t){e.setState({userAlert:t})}))}else e.setState({userAlert:"blank fields detected!!!...Please try again..."})},e.modalCancelHandler=function(){e.setState({creating:!1,updating:!1,deleting:!1,searching:!1})},e.deleteListUser=function(e){console.log("delete listed user",e)},e.reportUser=function(e){console.log("reporting user",e)},e.startSendMessage=function(t){console.log("opening message form..."),e.setState({creatingMessage:!0,messageReceiver:{_id:t._id,username:t.username}})},e.cancelMessage=function(){e.setState({creatingMessage:!1})},e.sendMessage=function(t){t.preventDefault(),console.log(e.state.messageReceiver,t.target),e.setState({creatingMessage:!1,userAlert:"sending message..."});var a=e.context.activityId,n=a,r=e.state.messageReceiver._id,s=t.target.formBasicTypeSelect.value,i=t.target.formGridSubject.value,l=t.target.formGridMessage.value,o={query:'\n        mutation {createMessage(\n          activityId:"'.concat(a,'",\n          senderId:"').concat(n,'",\n          receiverId:"').concat(r,'",\n          messageInput:{\n            type:"').concat(s,'",\n            subject:"').concat(i,'",\n            message:"').concat(l,'"\n          })\n          {_id,date,time,type,subject,sender{_id,username},receiver{_id,username},message,read}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){console.log(JSON.stringify(t.data.createMessage));var a=JSON.stringify(t.data.createMessage).slice(0,8);e.setState({userAlert:a})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.showDetailHandler=function(t){e.setState({isLoading:!0,userAlert:"Fetching User Details...",showDetail:!0});var a=e.context.activityId,n={query:'\n        query {getUserById(\n          activityId:"'.concat(a,'",\n          userId:"').concat(t,'"\n        )\n        {_id,role,username,public,clientConnected,age,bio,socialMedia{platform,handle,link},profileImages{name,type,path},interests,tags}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data.getUserById).slice(0,8);e.setState({userAlert:a,selectedUser:t.data.getUserById,detailsLoaded:!0,isLoading:!1}),e.context.selectedUser=e.state.selectedUser})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.selectUserNoDetail=function(t){e.setState({selectedUser:t}),e.context.selectedUser=t},e.hideDetailHandler=function(){e.setState({showDetail:!1,overlay:!1})},e.onFriendRequest=function(t){console.log("sending friend request...",t._id),e.setState({userAlert:"sending friend request..."});var a=e.context.activityId,n=a,r=t._id,s={query:'\n          mutation {sendFriendRequest(\n            activityId:"'.concat(a,'",\n            senderId:"').concat(n,'",\n            receiverId:"').concat(r,'"\n          )\n          {_id,role,username,public,clientConnected,friendRequests{date,sender{_id},receiver{_id}}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){console.log(JSON.stringify(t.data.sendFriendRequest.friendRequests));var a=JSON.stringify(t.data.sendFriendRequest).slice(0,8);e.setState({userAlert:a})})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.onViewAttachment=function(t){e.setState({showAttachment:!0});var a="https://ent-emr-bucket.s3-us-east-2.amazonaws.com/"+t.path+"/"+t.name,n=t.format;e.setState({showThisAttachmentFile:a,showThisAttachmentType:n})},e.closeAttachmentView=function(){e.setState({showAttachment:!1})},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){"Admin"===this.context.user.role&&this.setState({canDelete:!0}),"{}"!==JSON.stringify(this.context.selectedUser)&&this.setState({selectedUser:this.context.selectedUser}),this.fetchUsersBasic()}},{key:"fetchUsersBasic",value:function(){var e=this;this.setState({isLoading:!0,userAlert:"Fetching User Master List..."});var t=this.context.activityId,a={query:'\n          query {getAllUsers(\n            activityId:"'.concat(t,'"\n          )\n          {_id,role,username,public,clientConnected}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data.getAllUsers).slice(0,8);e.setState({userAlert:a,users:t.data.getAllUsers,isLoading:!1}),e.context.users=e.state.users})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"userSearchClearlHandler",value:function(){this.setState({searchUsers:[],userAlert:"clearing user search results"})}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!0===this.state.showAttachment&&r.a.createElement(We,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),r.a.createElement(_,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.showDetail&&!0===this.state.detailsLoaded&&r.a.createElement($e,{user:this.state.selectedUser,onHideUserDetail:this.hideDetailHandler,canDelete:this.state.canDelete,onDelete:this.deleteListUser,canReport:this.state.canReport,onReport:this.reportUser,onFriendRequest:this.onFriendRequest,onStartSendMessage:this.startSendMessage,creatingMessage:this.state.creatingMessage,messageReceiver:this.state.messageReceiver,cancelMessage:this.cancelMessage,sendMessage:this.sendMessage}),r.a.createElement(C,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),!0===this.state.overlay&&r.a.createElement(b,{status:this.state.overlayStatus}),r.a.createElement(Me.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{md:2,className:"MasterCol1"},r.a.createElement(N,{you:this.context.user,authId:this.context.activityId})),r.a.createElement(g.a,{md:this.state.mCol2Size,className:"MasterCol2"},r.a.createElement(y.a,{className:"containerCombinedDetail1"},r.a.createElement(x.a.Container,{id:"left-tabs-example",defaultActiveKey:"MasterList"},r.a.createElement(f.a,null,r.a.createElement(g.a,{sm:2,className:"userListSubMenuCol"},r.a.createElement(Je.a,{variant:"pills",className:"flex-column"},r.a.createElement(Je.a.Item,null,r.a.createElement(Je.a.Link,{eventKey:"MasterList"},"List")),r.a.createElement(Je.a.Item,null,r.a.createElement(Je.a.Link,{eventKey:"SearchInput"},"Search")))),r.a.createElement(g.a,{sm:10,className:"userListMainCol"},r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Pane,{eventKey:"MasterList"},r.a.createElement(f.a,{className:"userListRow"},this.state.isLoading?r.a.createElement(k,null):r.a.createElement(He,{canReport:this.state.canReport,onReport:this.reportUser,users:this.state.users,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectUserNoDetail}))),r.a.createElement(x.a.Pane,{eventKey:"SearchInput"},r.a.createElement(y.a,{className:"containerSearchUserInput1"},r.a.createElement(f.a,{className:"searchUserRowForm1"},r.a.createElement(g.a,{md:10,className:"searchUserColForm"},r.a.createElement(D.a,{defaultActiveKey:"Field",id:"uncontrolled-tab-example"},r.a.createElement(x.a,{eventKey:"Field",title:"Search by Field:"},r.a.createElement(Xe,{authUserId:this.context.userId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchHandler,confirmText:"Search",user:this.context.selectedUser}))))),r.a.createElement(f.a,null,r.a.createElement(L.a,{className:"searchCard"},r.a.createElement(L.a.Body,{className:"searchCardBody"},r.a.createElement(L.a.Title,null,"This Search"),r.a.createElement(L.a.Text,null,"Field: ",this.state.userSearchField,"  ,   Query: ",this.state.userSearchQuery)))),r.a.createElement(f.a,{className:"searchListRow1"},this.state.searchUsers!==[]&&r.a.createElement(Ve,{searchUsers:this.state.searchUsers,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))))))))))))}}]),a}(n.Component);Ze.contextType=E;var et=Ze,tt=(a(75),function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,e.title),r.a.createElement(L.a.Text,null,"_id: ",e._id),r.a.createElement(L.a.Text,null,"subtitle: ",e.subtitle),r.a.createElement(L.a.Text,null,"category: ",e.category),r.a.createElement(L.a.Text,null,"leadInstructorId: ",e.instructors[0]._id),r.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(void 0,e._id)},"Details"),!0===e.canReport&&r.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(void 0,e._id)},"Report"))))}),at=(a(76),function(e){var t=e.lessons.map((function(t){return r.a.createElement(tt,{key:t._id,lesson:t,authId:e.authId,_id:t._id,title:t.title,subtitle:t.subtitle,category:t.category,instructors:t.instructors,gallery:t.gallery,schedule:t.schedule,sessions:t.sessions,onDetail:e.onViewDetail,canReport:e.canReport,onReport:e.onReport})}));return r.a.createElement("ul",{className:"user__list1_master"},t)}),nt=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_master"},r.a.createElement("div",null,r.a.createElement("p",{className:"userItemHeading"}," ID:"),r.a.createElement("p",{className:"userItemText"},e._id),r.a.createElement("p",{className:"userItemHeading"}," Title:"),r.a.createElement("p",{className:"userItemText"},e.title)),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"primary",onClick:e.onDetail.bind(void 0,e._id)},"Details")))},rt=function(e){var t=e.searchLessons.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,{key:t._id,userId:e.authUserId,_id:t._id,title:t.title,onDetail:e.onViewDetail}))}));return r.a.createElement("ul",{className:"user__list1_master"},t)},st=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,e.title),r.a.createElement(L.a.Text,null,"date: ",e.date)),r.a.createElement(p.a,{variant:"primary",onClick:e.onBookSession.bind(void 0,e.session)},"Book"),r.a.createElement(p.a,{variant:"secondary",onClick:e.onAddCartLesson.bind(void 0,e.session)},"Cart")))},it=function(e){var t=e.lessonSessions.map((function(t){var a=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10);return r.a.createElement(st,{key:t.title,session:t,authId:e.authId,title:t.title,date:a,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},lt=function(e){return r.a.createElement("li",{key:e.authId,className:"users__list-item_detail users__list-item_detail4"},r.a.createElement(L.a,{style:{width:"18rem"}},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Text,null,e.date.date,", ",e.date.time))))},ot=function(e){var t=e.lessonSchedule.map((function(t){return r.a.createElement(lt,{key:t,date:t,authId:e.authId})}));return r.a.createElement("ul",{className:"user__list1_master"},t)},ct=(a(64),function(e){var t=Object(n.useState)(new Date),a=Object(Ee.a)(t,2),s=a[0],i=a[1];return r.a.createElement("div",{className:"CreateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTitle"},r.a.createElement(h.a.Label,null,"Title"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Title"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:""},r.a.createElement(h.a.Label,null,"Session Date"),r.a.createElement(Le.a,{className:"",id:"CalendarDate",selected:s,onChange:function(e){i(e),console.log("date ".concat(e))}}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTime"},r.a.createElement(h.a.Label,null,"Time"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Time"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridLimit"},r.a.createElement(h.a.Label,null,"Limit"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Limit"}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))}),dt=function(e){var t=Object.assign({},e.lesson);return r.a.createElement("div",{className:"CreateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTitle"},r.a.createElement(h.a.Label,null,"Title"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.title})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSubtitle"},r.a.createElement(h.a.Label,null,"Subtitle"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.subtitle}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDuration"},r.a.createElement(h.a.Label,null,"Duration"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.duration})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridType"},r.a.createElement(h.a.Label,null,"Type: ",t.type),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type a"),r.a.createElement("option",null,"type b"))),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridCategory"},r.a.createElement(h.a.Label,null,"Category: ",t.category),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"a_b_c_d"),r.a.createElement("option",null,"a_b_c_x"),r.a.createElement("option",null,"a_b_z"),r.a.createElement("option",null,"a_b_c_y")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSku"},r.a.createElement(h.a.Label,null,"Sku"),r.a.createElement(h.a.Control,{type:"text",placeholder:t.sku})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPrice"},r.a.createElement(h.a.Label,null,"Price"),r.a.createElement(h.a.Control,{type:"number",step:"0.01",placeholder:t.price})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPoints"},r.a.createElement(h.a.Label,null,"Points"),r.a.createElement(h.a.Control,{type:"number",placeholder:t.points}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDescription"},r.a.createElement(h.a.Label,null,"Description"),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:t.description}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridNotes"},r.a.createElement(h.a.Label,null,"Notes"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:t.notes}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"))))},ut=function(e){return r.a.createElement("div",{className:"UpdateFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridFieldSelect"},r.a.createElement(h.a.Label,null,"Field Options"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"title"),r.a.createElement("option",null,"subtitle"),r.a.createElement("option",null,"type"),r.a.createElement("option",null,"category"),r.a.createElement("option",null,"sku"),r.a.createElement("option",null,"price"),r.a.createElement("option",null,"description")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridQuery"},r.a.createElement(h.a.Label,null,"Query "),r.a.createElement(h.a.Label,null," (Date Format: YYYY-MM-DD) "),r.a.createElement(h.a.Control,{type:"text",placeholder:"Query"}))),r.a.createElement(h.a.Row,null,r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Submit"))))},mt=(a(263),function(e){var t=Object.assign({},e.lesson),a=t.instructors.map((function(e){return e._id})).includes(e.authId);return r.a.createElement("div",{className:"UserDetailBox1"},r.a.createElement(D.a,{defaultActiveKey:"Basic",id:"uncontrolled-tab-example",className:"tab"},r.a.createElement(x.a,{eventKey:"Basic",title:"Basic"},r.a.createElement(L.a,{className:"UserDetailCard"},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,r.a.createElement("span",{className:"ul"},"Lesson Details")),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},!0===a&&r.a.createElement(L.a.Text,null,"Your lesson"),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"ID:")," ",t._id),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Title:")," ",t.title),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Subtitle:")," ",t.subtitle),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Type:")," ",t.type),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Category:")," ",t.category),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Sku:")," ",t.sku),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Price:")," ",t.price),r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Description:")," ",t.description)),r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(L.a.Text,null,r.a.createElement("span",{className:"bold"},"Main Instructor:"),t.instructors[0]._id,t.instructors[0].username,t.instructors[0].contact.phone,t.instructors[0].contact.email),r.a.createElement(p.a,{variant:"danger",onClick:e.showSchedule},"See dates"),r.a.createElement(p.a,{variant:"danger",onClick:e.hideSchedule},"Hide dates"),!0===e.showScheduleState&&r.a.createElement(ot,{lessonSchedule:t.schedule}))),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonBasic},"Edit Basic"),!0===e.editingLesson&&r.a.createElement(dt,{lesson:t,onCancel:e.cancelEditBasic,onConfirm:e.editLessonBasic}))),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(p.a,{variant:"danger",onClick:e.onStartEditLessonField},"Edit Field"),!0===e.editingLessonField&&r.a.createElement(ut,{lesson:t,onCancel:e.cancelEditField,onConfirm:e.editLessonField}))),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(p.a,{variant:"danger",onClick:e.onHideLessonDetail},"x"),!0===e.canDelete&&r.a.createElement(p.a,{variant:"danger",onClick:e.onDelete.bind(void 0,t._id)},"Delete !!??"),!0===e.canReport&&r.a.createElement(p.a,{variant:"danger",onClick:e.onReport.bind(void 0,t._id)},"Report!!??"))),r.a.createElement(f.a,{className:"detailCardRow"},r.a.createElement(g.a,{className:"detailCardCol"},r.a.createElement(p.a,{variant:"primary",onClick:e.startCreateSession.bind(void 0,t._id)},"New Session"),!0===e.creatingSession&&r.a.createElement(ct,{authId:e.authId,onCancel:e.cancelCreateSession,onConfirm:e.createLessonSession})),r.a.createElement(g.a,{className:"detailCardCol"},"Sessions:",r.a.createElement(p.a,{variant:"primary",onClick:e.onSessionLoad.bind(void 0,t._id)},"See Sessions"),r.a.createElement(p.a,{variant:"danger",onClick:e.onHideSessions},"x"),!0===e.sessionsLoaded&&r.a.createElement(it,{lessonSessions:t.sessions,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson}))))))))}),pt=function(e){return r.a.createElement("div",{className:"attachmentViewerBg"},r.a.createElement("div",{className:"attachmentViewer"},r.a.createElement(mt,{authId:e.authId,lesson:e.lesson,sessionsLoaded:e.sessionsLoaded,onSessionLoad:e.onSessionLoad,onHideSessions:e.onHideSessions,onBookSession:e.onBookSession,onAddCartLesson:e.onAddCartLesson,onHideLessonDetail:e.onHideLessonDetail,startCreateSession:e.startCreateSession,creatingSession:e.creatingSession,cancelCreateSession:e.cancelCreateSession,createLessonSession:e.createLessonSession,onStartEditLessonBasic:e.onStartEditLessonBasic,onStartEditLessonField:e.onStartEditLessonField,editingLesson:e.editingLesson,editingLessonField:e.editingLessonField,cancelEditBasic:e.cancelEditBasic,editLessonBasic:e.editLessonBasic,cancelEditField:e.cancelEditField,editLessonField:e.editLessonField,showSchedule:e.showSchedule,showScheduleState:e.showScheduleState,hideSchedule:e.hideSchedule})))},yt=function(e){return r.a.createElement("div",{className:"SearchFormContainer"},r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formBasicFieldSelect"},r.a.createElement(h.a.Label,null,"Field"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"select"),r.a.createElement("option",null,"email"),r.a.createElement("option",null,"password"),r.a.createElement("option",null,"name"),r.a.createElement("option",null,"dob"),r.a.createElement("option",null,"phone"),r.a.createElement("option",null,"address.town"),r.a.createElement("option",null,"address.parish"),r.a.createElement("option",null,"role"),r.a.createElement("option",null,"employmentDate"),r.a.createElement("option",null,"terminationDate")),r.a.createElement(h.a.Text,{className:"text-muted"})),r.a.createElement(h.a.Group,{className:"searchInput",controlId:"formBasicQuery"},r.a.createElement(h.a.Label,null,"Query"),r.a.createElement(h.a.Control,{type:"textarea",rows:"5",placeholder:"Query"})),e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"searchFormBtn",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"searchFormBtn",type:"submit"},"Submit"))))},ht=function(e){return r.a.createElement("div",{className:"CreateFormContainer"},e.title&&r.a.createElement("h4",{className:"signupTitle"},e.title),r.a.createElement(h.a,{onSubmit:e.onConfirm},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridTitle"},r.a.createElement(h.a.Label,null,"Title"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Title"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSubtitle"},r.a.createElement(h.a.Label,null,"Subtitle"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Subtitle"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDuration"},r.a.createElement(h.a.Label,null,"Duration"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Duration"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridType"},r.a.createElement(h.a.Label,null,"Type"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"type a"),r.a.createElement("option",null,"type b"))),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridCategory"},r.a.createElement(h.a.Label,null,"Category"),r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"a_b_c_d"),r.a.createElement("option",null,"a_b_c_x"),r.a.createElement("option",null,"a_b_z"),r.a.createElement("option",null,"a_b_c_y")))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridSku"},r.a.createElement(h.a.Label,null,"Sku"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Sku"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPrice"},r.a.createElement(h.a.Label,null,"Price"),r.a.createElement(h.a.Control,{type:"number",step:"0.01",placeholder:"Price"})),r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridPoints"},r.a.createElement(h.a.Label,null,"Points"),r.a.createElement(h.a.Control,{type:"number",placeholder:"Points"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridDescription"},r.a.createElement(h.a.Label,null,"Description"),r.a.createElement(h.a.Control,{as:"textarea",rows:"7",placeholder:"Description"}))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:g.a,controlId:"formGridNotes"},r.a.createElement(h.a.Label,null,"Notes"),r.a.createElement(h.a.Control,{as:"textarea",rows:"5",placeholder:"Notes"}))),r.a.createElement(h.a.Row,null,e.canCancel&&r.a.createElement(p.a,{variant:"danger",className:"formButton",onClick:e.onCancel},"Cancel"),e.canConfirm&&r.a.createElement(p.a,{variant:"primary",className:"formButton",type:"submit"},"Create"),r.a.createElement("p",null,e.successText))))},ft=(a(264),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={creating:!1,updating:!1,deleting:!1,searching:!1,user:null,users:[],lesson:null,lessons:[],searchLessons:[],isLoading:!1,isSorting:!1,selectedLesson:null,lessonUpdateField:null,lessonSearchField:null,lessonSearchQuery:null,sessionsLoaded:!1,creatingSession:!1,editingLesson:!1,editingLessonField:!1,showSchedule:!1,canDelete:null,canReport:null,userAlert:null,overlay:!1,overlayStatus:"test",file:null,showDetail:!1,showAttachment:!1,showThisAttachmentFile:null,showThisAttachmentType:null,sidebarShow:!0,mCol1Size:3,mCol2Size:9},e.isActive=!0,e.modalConfirmSearchHandler=function(t){e.context.activityId,e.context.token;var a=null,n=t.target.formBasicQuery.value;a="select"===t.target.formBasicFieldSelect.value?t.target.formBasicField.value:t.target.formBasicFieldSelect.value,e.setState({userSearchField:a,userSearchQuery:n,searching:!1,userAlert:"Searching for User..."})},e.startCreateLesson=function(){e.setState({creating:!0})},e.createLessonHandler=function(t){e.setState({creating:!1});var a=e.context.activityId,n=a,r=e.context.token,s=t.target.formGridTitle.value,i=t.target.formGridSubtitle.value,l=t.target.formGridType.value,o=t.target.formGridCategory.value,c=t.target.formGridSku.value,d=t.target.formGridPrice.value,u=t.target.formGridPoints.value,m=t.target.formGridDescription.value,p=t.target.formGridNotes.value,y=t.target.formGridDuration.value,h={query:'\n        mutation {createLesson(\n          activityId:"'.concat(a,'",\n          creatorId:"').concat(n,'",\n          lessonInput:{\n            title:"').concat(s,'",\n            subtitle:"').concat(i,'",\n            type:"').concat(l,'",\n            category:"').concat(o,'",\n            price:').concat(d,",\n            points:").concat(u,',\n            description:"').concat(m,'",\n            notes:"').concat(p,'",\n            duration:"').concat(y,'",\n            sku:"').concat(c,'"\n          })\n        {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full},promos{_id}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.createLesson).slice(0,8);e.setState({lesson:t.data.createLesson,userAlert:a})})).catch((function(t){e.setState({userAlert:t})}))},e.onStartEditLessonBasic=function(){e.setState({editingLesson:!0})},e.onStartEditLessonField=function(){console.log("beep!"),e.setState({editingLessonField:!0})},e.cancelEditBasic=function(){e.setState({editingLesson:!1})},e.cancelEditField=function(){e.setState({editingLessonField:!1})},e.editLessonBasic=function(t){t.preventDefault(),e.setState({editingLesson:!1});var a=e.context.activityId,n=e.state.selectedLesson._id,r=e.context.token,s=t.target.formGridTitle.value,i=t.target.formGridSubtitle.value,l=t.target.formGridDuration.value,o=t.target.formGridType.value,c=t.target.formGridCategory.value,d=t.target.formGridSku.value,u=t.target.formGridPrice.value,m=t.target.formGridPoints.value,p=t.target.formGridDescription.value,y=t.target.formGridNotes.value,h={query:'\n       mutation {updateLessonBasic(\n         activityId:"'.concat(a,'",\n         lessonId:"').concat(n,'",\n         lessonInput:{\n           title:"').concat(s,'",\n           subtitle:"').concat(i,'",\n           type:"').concat(o,'",\n           category:"').concat(c,'",\n           price:').concat(u,',\n           sku:"').concat(d,'",\n           points:').concat(m,',\n           description:"').concat(p,'",\n           notes:"').concat(y,'",\n           duration:"').concat(l,'"\n         })\n    {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags}}\n    ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.updateLessonBasic).slice(0,8);e.setState({lesson:t.data.updateLessonBasic,userAlert:a})})).catch((function(t){e.setState({userAlert:t})}))},e.editLessonField=function(t){t.preventDefault(),e.setState({editingLessonField:!1});var a=e.context.activityId,n=e.state.selectedLesson._id,r=e.context.token,s=t.target.formGridFieldSelect.value,i=t.target.formGridQuery.value,l={query:'\n         mutation {updateLessonByField(\n           activityId:"'.concat(a,'",\n           lessonId:"').concat(n,'",\n           field:"').concat(s,'",\n           query:"').concat(i,'"\n         )\n         {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id,title,author{_id}},tags,sessions{title,date,time,limit,amount,booked{_id,username},bookedAmount,attended{_id,username},attendedAmount,inProgress,full},promos{_id}}}\n          ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var a=JSON.stringify(t.data.updateLessonByField).slice(0,8);e.setState({lesson:t.data.updateLessonByField,userAlert:a})})).catch((function(t){e.setState({userAlert:t})}))},e.modalCancelHandler=function(){e.setState({creating:!1,updating:!1,deleting:!1,searching:!1})},e.showSchedule=function(){e.setState({showSchedule:!0})},e.hideSchedule=function(){e.setState({showSchedule:!1})},e.loadSessions=function(t){console.log("retriving sessions for this lesson"),e.setState({userAlert:"retriving sessions for this lesson"});var a=e.context.activityId,n=e.state.selectedLesson._id,r={query:'\n        query {getLessonById(\n          activityId:"'.concat(a,'",\n          lessonId:"').concat(n,'"\n        )\n        {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags,sessions{title,date,time,limit,inProgress,full}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.getLessonById,isLoading:!1,sessionsLoaded:!0}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.hideSessions=function(){e.setState({sessionsLoaded:!1})},e.addCartLesson=function(t){console.log("adding lesson to cart"),e.setState({userAlert:"adding lesson to cart"});var a=e.context.activityId,n=a,r=e.state.selectedLesson._id,s=(t.title,new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10)),i={query:'\n            mutation {addUserCartLesson(\n              activityId:"'.concat(a,'",\n              userId:"').concat(n,'",\n              lessonId:"').concat(r,'",\n              sessionDate:"').concat(s,'")\n            {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle,link},interests,perks{_id},promos{_id},friends{_id,username,loggedIn,clientConnected,contact{phone,phone2,email},profileImages{name,type,path}},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id,title,category,price},bookedLessons{date,session{date,title},ref{_id,title,category,price}},attendedLessons{date,ref{_id,title,category,price}},taughtLessons{date,ref{_id,title,category,price}},wishlist{date,ref{_id,title,category,price},booked},cart{dateAdded,sessionDate,lesson{_id,title}},reviews{_id,date,type,title},comments{_id},messages{_id,date,time,type,sender{_id,username},receiver{_id,username}},orders{_id,date,time,type,buyer{_id},receiver{_id},lessons{price,ref{_id}}},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,isLoading:!1}),e.context.selectedUser=t.data.addUserCartLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.bookSession=function(t){console.log("booking lesson session"),e.setState({userAlert:"booking lesson session"});var a=e.context.activityId,n=a,r=e.state.selectedLesson._id,s=t.title,i=new Date(1e3*t.date.substr(0,10)).toISOString().slice(0,10),l={query:'\n            mutation {addLessonBooking(\n              activityId:"'.concat(a,'",\n              lessonId:"').concat(r,'",\n              userId:"').concat(n,'",\n              lessonInput:{\n                sessionTitle:"').concat(s,'",\n                sessionDate:"').concat(i,'"\n              })\n            {_id,title,subtitle,type,category,price,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},gallery{name,type,path},requirements,materials,files{name,type,size,path},reviews{_id},tags,sessions{title,date,time,limit,amount,booked{_id},bookedAmount,attended{_id},attendedAmount,inProgress,full},promos{_id}}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonBooking,isLoading:!1}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.startCreateSession=function(t){e.setState({creatingSession:!0})},e.cancelCreateSession=function(){e.setState({creatingSession:!1})},e.createLessonSession=function(t){console.log("creating new lesson session"),e.setState({userAlert:"creating new lesson session"});var a=e.context.activityId,n=e.state.selectedLesson._id,r=t.target.formGridTitle.value,s=t.target.CalendarDate.value;s=new Date(s).toISOString().slice(0,10);var i=t.target.formGridTime.value,l=t.target.formGridLimit.value,o={query:'\n          mutation {addLessonSession(\n            activityId:"'.concat(a,'",\n            lessonId:"').concat(n,'",\n            lessonInput:{\n              sessionTitle:"').concat(r,'",\n              sessionDate:"').concat(s,'",\n              sessionTime:"').concat(i,'",\n              sessionLimit:').concat(l,",\n              sessionAmount:").concat(0,"\n            })\n            {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags,sessions{title,date,time,limit,inProgress,full}}}\n        ")};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,selectedLesson:t.data.addLessonBooking,isLoading:!1}),e.context.selectedLesson=e.state.selectedLesson})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))},e.deleteListLesson=function(e){console.log("delete listed lesson",e)},e.reportLesson=function(e){console.log("reporting lesson",e)},e.showDetailHandler=function(t){e.setState((function(a){var n=a.lessons.find((function(e){return e._id===t}));return e.context.selectedLesson=n,e.setState({selectedLesson:n,showDetail:!0}),{selectedLesson:n}}))},e.selectLessonNoDetail=function(t){e.setState({selectedLesson:t}),e.context.selectedLesson=t},e.hideDetailHandler=function(){e.setState({showDetail:!1,overlay:!1})},e.onViewAttachment=function(t){e.setState({showAttachment:!0});var a="https://ent-emr-bucket.s3-us-east-2.amazonaws.com/"+t.path+"/"+t.name,n=t.format;e.setState({showThisAttachmentFile:a,showThisAttachmentType:n})},e.closeAttachmentView=function(){e.setState({showAttachment:!1})},e.showSidebar=function(){e.setState({sidebarShow:!0,mCol2Size:9})},e.hideSidebar=function(){e.setState({sidebarShow:!1,mCol2Size:11})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){"Admin"===this.context.role&&this.setState({canDelete:!0}),this.context.selectedLesson&&this.setState({selectedLesson:this.context.selectedLesson}),this.fetchLessonsBasic()}},{key:"fetchLessonsBasic",value:function(){var e=this,t=this.context.activityId;this.setState({isLoading:!0,userAlert:"Fetching Lesson Master List..."});var a={query:'\n        query {getAllLessons(activityId:"'.concat(t,'")\n        {_id,title,subtitle,type,category,price,sku,points,description,notes,duration,schedule{date,time},instructors{_id,username,contact{phone,phone2,email}},tags}}\n        ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.context.token}}).then((function(t){if(200!==t.status&&201!==t.status)throw e.setState({userAlert:"Failed!"}),new Error("Failed!");return t.json()})).then((function(t){var a=JSON.stringify(t.data).slice(0,8);e.setState({userAlert:a,lessons:t.data.getAllLessons,isLoading:!1}),e.context.lessons=e.state.lessons})).catch((function(t){e.setState({userAlert:t}),e.isActive&&e.setState({isLoading:!1})}))}},{key:"userSearchClearlHandler",value:function(){this.setState({searchUsers:[],userAlert:"clearing user search results"})}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!0===this.state.showAttachment&&r.a.createElement(We,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),r.a.createElement(_,{authId:this.context.activityId,alert:this.state.userAlert}),!0===this.state.showDetail&&r.a.createElement(pt,{authId:this.context.activityId,lesson:this.state.selectedLesson,onHideLessonDetail:this.hideDetailHandler,sessionsLoaded:this.state.sessionsLoaded,onSessionLoad:this.loadSessions,onHideSessions:this.hideSessions,onBookSession:this.bookSession,onAddCartLesson:this.addCartLesson,startCreateSession:this.startCreateSession,creatingSession:this.state.creatingSession,cancelCreateSession:this.cancelCreateSession,createLessonSession:this.createLessonSession,onStartEditLessonBasic:this.onStartEditLessonBasic,onStartEditLessonField:this.onStartEditLessonField,editingLesson:this.state.editingLesson,editingLessonField:this.state.editingLessonField,cancelEditBasic:this.cancelEditBasic,cancelEditField:this.cancelEditField,editLessonBasic:this.editLessonBasic,editLessonField:this.editLessonField,showScheduleState:this.state.showSchedule,showSchedule:this.showSchedule,hideSchedule:this.hideSchedule}),r.a.createElement(C,{onShowSidebar:this.showSidebar,onHideSidebar:this.hideSidebar}),!0===this.state.overlay&&r.a.createElement(b,{status:this.state.overlayStatus}),r.a.createElement(Me.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{md:2,className:"MasterCol1"},r.a.createElement(N,{you:this.context.user,authId:this.context.activityId})),r.a.createElement(g.a,{md:this.state.mCol2Size,className:"MasterCol2"},r.a.createElement(y.a,{className:"containerCombinedDetail1"},r.a.createElement(x.a.Container,{id:"left-tabs-example",defaultActiveKey:"MasterList"},r.a.createElement(f.a,null,r.a.createElement(g.a,{sm:2,className:"userListSubMenuCol"},r.a.createElement(Je.a,{variant:"pills",className:"flex-column"},r.a.createElement(Je.a.Item,null,r.a.createElement(Je.a.Link,{eventKey:"MasterList"},"List")),r.a.createElement(Je.a.Item,null,r.a.createElement(Je.a.Link,{eventKey:"SearchInput"},"Search")),r.a.createElement(Je.a.Item,null,r.a.createElement(Je.a.Link,{eventKey:"Create"},"+ Lesson")))),r.a.createElement(g.a,{sm:10,className:"userListMainCol"},r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Pane,{eventKey:"MasterList"},r.a.createElement(f.a,{className:"userListRow"},this.state.isLoading?r.a.createElement(k,null):r.a.createElement(at,{canReport:this.state.canReport,onReport:this.reportLesson,lessons:this.state.lessons,authId:this.context.activityId,onViewDetail:this.showDetailHandler,onSelectNoDetail:this.selectLessonNoDetail}))),r.a.createElement(x.a.Pane,{eventKey:"SearchInput"},r.a.createElement(y.a,{className:"containerSearchUserInput1"},r.a.createElement(f.a,{className:"searchUserRowForm1"},r.a.createElement(g.a,{md:10,className:"searchUserColForm"},r.a.createElement(D.a,{defaultActiveKey:"Field",id:"uncontrolled-tab-example"},r.a.createElement(x.a,{eventKey:"Field",title:"Search by Field:"},r.a.createElement(yt,{authId:this.context.activityId,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchHandler,confirmText:"Search"}))))),r.a.createElement(f.a,null,r.a.createElement(L.a,{className:"searchCard"},r.a.createElement(L.a.Body,{className:"searchCardBody"},r.a.createElement(L.a.Title,null,"This Search"),r.a.createElement(L.a.Text,null,"Field: ",this.state.lessonSearchField,"  ,   Query: ",this.state.lessonSearchQuery)))),r.a.createElement(f.a,{className:"searchListRow1"},this.state.searchLessons!==[]&&r.a.createElement(rt,{searchLessons:this.state.searchLessons,authId:this.context.activityId,onViewDetail:this.showDetailHandler})))),r.a.createElement(x.a.Pane,{eventKey:"Create"},r.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"confirmEditButton",onClick:this.startCreateLesson},"+ Lesson"),r.a.createElement(f.a,{className:"userListRow"},!0===this.state.creating&&r.a.createElement(ht,{authId:this.context.activityId,creator:this.context.user,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.createLessonHandler}))))))))))))}}]),a}(n.Component));ft.contextType=E;var gt=ft,Et=(a(265),function(e){return r.a.createElement(E.Consumer,null,(function(e){return r.a.createElement("header",{className:"main-navigation"},r.a.createElement("div",{className:"main-navigation__logo"},r.a.createElement("h1",null,"My Couch Coach 0.0.1")),r.a.createElement("nav",{className:"main-navigation__items"},r.a.createElement("ul",null,!e.token&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/auth"},"Login")),!e.token&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/signup"},"Signup")),e.token&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/userProfile"},"My Profile")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/users"},"Users")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/lessons"},"Lessons")),r.a.createElement("li",null,r.a.createElement("button",{onClick:e.logout},"Logout"))))))}))}),vt=a(151),_t=a.n(vt),bt=(a(295),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={token:null,activityId:null,role:null,context:n.context,sessionCookiePresent:!1},n.login=function(e,t,a,r){n.setState({token:e,activityId:t,role:a}),n.socket.emit("msg_subscribe",{user:t,room:"msg"+t})},n.logout=function(){n.setState({token:null,activityId:null,role:null,sessionCookiePresent:null}),sessionStorage.clear(),n.context={token:null,activityId:null,activityA:null,activityB:null,activityC:null,role:null,userId:null,user:{},users:[],selectedUser:null,lesson:{},lessons:[],selectedLesson:null,selectedPerk:null,selectedPromo:null,selectedReview:null,sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:n.login,logout:n.logout}},n.sessionStorageAuth=null,n.socket=_t()("http://localhost:7770"),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.socket.connected),sessionStorage.getItem("login info")){var t=sessionStorage.getItem("login info");this.context.token=t.token,this.context.activityId=t.activityId,this.context.role=t.role,this.setState({sessionCookiePresent:!0,token:t.token})}this.context.activityId;this.socket.emit("unauthorizedClientConnect"),console.log("socket listening...."),this.socket.on("conversation private post",(function(e){console.log("you got a new message..",e),a(e)}));var a=function(t){e.setState({userAlert:"New Msg!!\n          Fr:   ".concat(t.message.senderName,",\n          Msg:   ").concat(t.message.message)})}}},{key:"componentWillUnmount",value:function(){}},{key:"userOnline",value:function(){var e=this,t=this.context.token,a=this.context.activityId,n={query:'\n        mutation{userOnline(\n          activityId:"'.concat(a,'",\n          userId:"').concat(a,'")\n        {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id},bookedLessons{date,ref{_id,title}},attendedLessons{date,ref{_id,title}},taughtLessons{date,ref{_id,title}},wishlist{date,ref{_id,title},booked},cart{dateAdded,sessionDate,lesson{_id,title}},comments{_id},messages{_id},orders{_id},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){JSON.stringify(e.data.userOnline).slice(2,25)})).catch((function(t){e.setState({userAlert:t})}))}},{key:"userOffline",value:function(){var e=this,t=this.context.token,a=this.context.activityId,n={query:'\n      mutation{userOffline(\n        activityId:"'.concat(a,'",\n        userId:"').concat(a,'")\n      {_id,name,role,username,dob,public,age,addresses{type,number,street,town,city,country,postalCode},contact{phone,phone2,email},bio,profileImages{name,type,path},socialMedia{platform,handle},interests,perks{_id},promos{_id},friends{_id,username},points,tags,loggedIn,clientConnected,verification{verified,type,code},activity{date,request},likedLessons{_id},bookedLessons{date,ref{_id,title}},attendedLessons{date,ref{_id,title}},taughtLessons{date,ref{_id,title}},wishlist{date,ref{_id,title},booked},cart{dateAdded,sessionDate,lesson{_id,title}},comments{_id},messages{_id},orders{_id},paymentInfo{date,type,description,body,valid,primary},friendRequests{date,sender{_id,username},receiver{_id,username}}}}\n      ')};fetch("http://localhost:7077/graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){JSON.stringify(e.data.userOffline).slice(2,25)})).catch((function(t){e.setState({userAlert:t})}))}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(E.Provider,{value:{token:this.state.token,activityId:this.state.activityId,activityA:null,activityB:null,activityC:null,role:this.state.role,userId:null,user:{},users:[],selectedUser:{},lesson:{},lessons:[],selectedLesson:{},selectedPerk:{},selectedPromo:{},selectedReview:{},sender:null,receiver:null,userAlert:"...",file:null,fancyDate:null,login:this.login,logout:this.logout}},r.a.createElement(Et,{role:this.state.role}),r.a.createElement("main",{className:"main-content"},r.a.createElement(m.d,null,this.state.token&&r.a.createElement(m.a,{from:"/",to:"/userProfile",exact:!0}),this.state.token&&r.a.createElement(m.b,{path:"/userProfile",component:Pe}),this.state.token&&r.a.createElement(m.a,{from:"/auth",to:"/userProfile",exact:!0}),this.state.token&&r.a.createElement(m.b,{path:"/users",component:et}),this.state.token&&r.a.createElement(m.b,{path:"/lessons",component:gt}),!this.state.token&&r.a.createElement(m.b,{path:"/auth",component:qe}),!this.state.token&&r.a.createElement(m.b,{path:"/signup",component:je}),!this.state.token&&r.a.createElement(m.a,{to:"/auth",exact:!0}))))))}}]),a}(n.Component));bt.contextType=E;var Ct=bt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){},71:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){}},[[153,1,2]]]);
//# sourceMappingURL=main.31a80dd7.chunk.js.map